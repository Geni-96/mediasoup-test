/*! For license information please see main.5a147832.js.LICENSE.txt */
(()=>{var e={579:(e,t,r)=>{"use strict";e.exports=r(2799)},683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function(e){let{offerMediaObject:t}=e;const r=new Set;for(const s of t.ssrcs??[]){const e=s.id;r.add(e)}if(0===r.size)throw new Error("no a=ssrc lines found");const n=new Map;for(const s of t.ssrcGroups??[]){if("FID"!==s.semantics)continue;let[e,t]=s.ssrcs.split(/\s+/);e=Number(e),t=Number(t),r.has(e)&&(r.delete(e),r.delete(t),n.set(e,t))}for(const s of r)n.set(s,null);const i=[];for(const[s,a]of n){const e={ssrc:s};a&&(e.rtx={ssrc:a}),i.push(e)}return i},t.addLegacySimulcast=function(e){let{offerMediaObject:t,numStreams:r}=e;if(r<=1)throw new TypeError("numStreams must be greater than 1");const n=(t.ssrcs??[]).find((e=>"msid"===e.attribute));if(!n)throw new Error("a=ssrc line with msid information not found");const[i,s]=n.value.split(" "),a=Number(n.id);let o;(t.ssrcGroups??[]).some((e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===a&&(o=Number(t[1]),!0)}));const c=t.ssrcs.find((e=>"cname"===e.attribute));if(!c)throw new Error("a=ssrc line with cname information not found");const l=c.value,d=[],u=[];for(let p=0;p<r;++p)d.push(a+p),o&&u.push(o+p);t.ssrcGroups=[],t.ssrcs=[],t.ssrcGroups.push({semantics:"SIM",ssrcs:d.join(" ")});for(const p of d)t.ssrcs.push({id:p,attribute:"cname",value:l}),t.ssrcs.push({id:p,attribute:"msid",value:`${i} ${s}`});for(let p=0;p<u.length;++p){const e=d[p],r=u[p];t.ssrcs.push({id:r,attribute:"cname",value:l}),t.ssrcs.push({id:r,attribute:"msid",value:`${i} ${s}`}),t.ssrcGroups.push({semantics:"FID",ssrcs:`${e} ${r}`})}}},918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=n.clone(e);for(const r of t.codecs??[]){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType??`${r.kind}/${r.name}`,r.parameters){const e=r.parameters;e.apt&&(e.apt=Number(e.apt)),e["packetization-mode"]&&(e["packetization-mode"]=Number(e["packetization-mode"]))}for(const e of r.rtcpFeedback??[])e.parameter||(e.parameter="")}return t},t.mangleRtpParameters=function(e){const t=n.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return t};const n=r(8988)},1194:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeUnifiedPlan=void 0;const n=r(9640),i=r(2097),s=r(8988),a=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new i.Logger("ReactNativeUnifiedPlan"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"ReactNativeUnifiedPlan"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp),s=o.extractRtpCapabilities({sdpObject:i});return l.addNackSupportForOpus(s),s}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;this.assertNotClosed(),f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",u),video:a.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",u),video:a.getSendingRemoteRtpParameters("video",u)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:l,onRtpSender:d}=e;this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach(((e,t)=>{e.rid=`r${t}`}));const u=s.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=a.reduceCodecs(u.codecs,l);const p=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);p.codecs=a.reduceCodecs(p.codecs,l);const m=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});d&&d(g.sender);let y,b=await this._pc.createOffer(),v=n.parse(b.sdp);v.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v});let w=!1;const _=(0,h.parse)((r??[{}])[0].scalabilityMode);r&&1===r.length&&_.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),w=!0,v=n.parse(b.sdp),y=v.media[m.idx],c.addLegacySimulcast({offerMediaObject:y,numStreams:_.spatialLayers}),b={type:"offer",sdp:n.write(v)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);let S=g.mid??void 0;if(S||f.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),u.mid=S,v=n.parse(this._pc.localDescription.sdp),y=v.media[m.idx],u.rtcp.cname=o.getCname({offerMediaObject:y}),r)if(1===r.length){let e=c.getRtpEncodings({offerMediaObject:y});Object.assign(e[0],r[0]),w&&(e=[e[0]]),u.encodings=e}else u.encodings=r;else u.encodings=c.getRtpEncodings({offerMediaObject:y});if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${_.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:y,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:p,codecOptions:i});const k={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),S||(S=g.mid,u.mid=S),this._mapMidTransceiver.set(S,g),{localId:S,rtpParameters:u,rtpSender:g.sender}}async stopSending(e){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(i){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:i,protocol:a};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i,streamId:s}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const a=i.mid??String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:i,streamId:s??i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===n));if(!i)throw new Error("transceiver not found");t(i.receiver)}}let s=await this._pc.createAnswer();const a=n.parse(s.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,i=r.get(e),s=a.media.find((e=>String(e.mid)===i));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})}s={type:"answer",sdp:n.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{trackId:e}=n,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:i};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=o.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNativeUnifiedPlan=g},1313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox120=void 0;const n=r(9640),i=r(2097),s=r(9398),a=r(8988),o=r(5809),c=r(5467),l=r(683),d=r(2384),u=r(3054),p=r(3204),h=new i.Logger("Firefox120"),f={OS:16,MIS:2048};class m extends d.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new m}constructor(){super()}get name(){return"Firefox120"}close(){if(h.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const r=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"}),e.addTransceiver(r,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const s=await e.createOffer();try{t.remove()}catch(i){}try{r.stop()}catch(i){}try{e.close()}catch(i){}const a=n.parse(s.sdp);return c.extractRtpCapabilities({sdpObject:a})}catch(i){try{t.remove()}catch(s){}try{r.stop()}catch(s){}try{e.close()}catch(s){}throw i}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:f}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:p}=e;this.assertNotClosed(),h.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",p),video:o.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",p),video:o.getSendingRemoteRtpParameters("video",p)},this._pc=new RTCPeerConnection({iceServers:a??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){throw this.assertNotClosed(),new s.UnsupportedError("not supported")}async restartIce(e){if(this.assertNotClosed(),h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:s,onRtpSender:d}=e;this.assertNotClosed(),this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach(((e,t)=>{e.rid=`r${t}`}));const u=a.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=o.reduceCodecs(u.codecs,s);const f=a.clone(this._sendingRemoteRtpParametersByKind[t.kind]);f.codecs=o.reduceCodecs(f.codecs,s);const m=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});d&&d(m.sender);const g=await this._pc.createOffer();let y=n.parse(g.sdp);y.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:y});const b=(0,p.parse)((r??[{}])[0].scalabilityMode);h.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const v=m.mid;u.mid=v,y=n.parse(this._pc.localDescription.sdp);const w=y.media[y.media.length-1];if(u.rtcp.cname=c.getCname({offerMediaObject:w}),r)if(1===r.length){const e=l.getRtpEncodings({offerMediaObject:w});Object.assign(e[0],r[0]),u.encodings=e}else u.encodings=r;else u.encodings=l.getRtpEncodings({offerMediaObject:w});if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${b.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:w,offerRtpParameters:u,answerRtpParameters:f,codecOptions:i});const _={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_),this._mapMidTransceiver.set(v,m),{localId:v,rtpParameters:u,rtpSender:m.sender}}async stopSending(e){if(this.assertSendDirection(),h.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const r=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated transceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:i,protocol:a};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%f.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i,streamId:s}=n;h.debug("receive() [trackId:%s, kind:%s]",e,t);const a=i.mid??String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:i,streamId:s??i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===n));if(!i)throw new Error("transceiver not found");t(i.receiver)}}let s=await this._pc.createAnswer();const a=n.parse(s.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,i=r.get(e),l=a.media.find((e=>String(e.mid)===i));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:l}),s={type:"answer",sdp:n.write(a)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:a}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{trackId:e}=n,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){h.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:i};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=c.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new s.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox120=m},1518:function(e,t,r){var n;!function(i,s){"use strict";var a="user-agent",o="",c="function",l="undefined",d="object",u="string",p="browser",h="cpu",f="device",m="engine",g="os",y="result",b="name",v="type",w="vendor",_="version",S="architecture",k="major",R="model",C="console",P="mobile",T="tablet",x="smarttv",D="wearable",E="xr",L="embedded",I="inapp",O="brands",M="formFactors",N="fullVersionList",j="platform",A="platformVersion",F="bitness",z="sec-ch-ua",B=z+"-full-version-list",$=z+"-arch",U=z+"-"+F,H=z+"-form-factors",q=z+"-"+P,V=z+"-"+R,K=z+"-"+j,Q=K+"-version",W=[O,N,P,R,j,A,S,M,F],G="Amazon",Y="Apple",X="ASUS",J="BlackBerry",Z="Google",ee="Huawei",te="Lenovo",re="Honor",ne="LG",ie="Microsoft",se="Motorola",ae="Nvidia",oe="OnePlus",ce="OPPO",le="Samsung",de="Sharp",ue="Sony",pe="Xiaomi",he="Zebra",fe="Chrome",me="Chromium",ge="Chromecast",ye="Firefox",be="Opera",ve="Facebook",we="Sogou",_e="Mobile ",Se=" Browser",ke="Windows",Re=typeof i!==l,Ce=Re&&i.navigator?i.navigator:s,Pe=Ce&&Ce.userAgentData?Ce.userAgentData:s,Te=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},xe=function(e,t){if(typeof e===d&&e.length>0){for(var r in e)if(Ie(e[r])==Ie(t))return!0;return!1}return!!Ee(e)&&-1!==Ie(t).indexOf(Ie(e))},De=function(e,t){for(var r in e)return/^(browser|cpu|device|engine|os)$/.test(r)||!!t&&De(e[r])},Ee=function(e){return typeof e===u},Le=function(e){if(!e)return s;for(var t=[],r=Ne(/\\?\"/g,e).split(","),n=0;n<r.length;n++)if(r[n].indexOf(";")>-1){var i=Ae(r[n]).split(";v=");t[n]={brand:i[0],version:i[1]}}else t[n]=Ae(r[n]);return t},Ie=function(e){return Ee(e)?e.toLowerCase():e},Oe=function(e){return Ee(e)?Ne(/[^\d\.]/g,e).split(".")[0]:s},Me=function(e){for(var t in e){var r=e[t];typeof r==d&&2==r.length?this[r[0]]=r[1]:this[r]=s}return this},Ne=function(e,t){return Ee(t)?t.replace(e,o):t},je=function(e){return Ne(/\\?\"/g,e)},Ae=function(e,t){if(Ee(e))return e=Ne(/^\s\s*/,e),typeof t===l?e:e.substring(0,500)},Fe=function(e,t){if(e&&t)for(var r,n,i,a,o,l,u=0;u<t.length&&!o;){var p=t[u],h=t[u+1];for(r=n=0;r<p.length&&!o&&p[r];)if(o=p[r++].exec(e))for(i=0;i<h.length;i++)l=o[++n],typeof(a=h[i])===d&&a.length>0?2===a.length?typeof a[1]==c?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==c||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):s:this[a[0]]=l?a[1].call(this,l,a[2]):s:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):s):this[a]=l||s;u+=2}},ze=function(e,t){for(var r in t)if(typeof t[r]===d&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(xe(t[r][n],e))return"?"===r?s:r}else if(xe(t[r],e))return"?"===r?s:r;return t.hasOwnProperty("*")?t["*"]:e},Be={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$e={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":s},Ue={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[b,_e+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[_,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,_],[/opios[\/ ]+([\w\.]+)/i],[_,[b,be+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[_,[b,be+" GX"]],[/\bopr\/([\w\.]+)/i],[_,[b,be]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[_,[b,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[_,[b,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[b,_],[/quark(?:pc)?\/([-\w\.]+)/i],[_,[b,"Quark"]],[/\bddg\/([\w\.]+)/i],[_,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[_,[b,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[_,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[_,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[_,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[_,[b,"Smart "+te+Se]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure"+Se],_],[/\bfocus\/([\w\.]+)/i],[_,[b,ye+" Focus"]],[/\bopt\/([\w\.]+)/i],[_,[b,be+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[_,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[b,be+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[_,[b,"MIUI"+Se]],[/fxios\/([\w\.-]+)/i],[_,[b,_e+ye]],[/\bqihoobrowser\/?([\w\.]*)/i],[_,[b,"360"]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],_],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+Se],_],[/samsungbrowser\/([\w\.]+)/i],[_,[b,le+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[_,[b,we+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,we+" Mobile"],_],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[b,_],[/(lbbrowser|rekonq)/i],[b],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[_,b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,ve],_,[v,I]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,_,[v,I]],[/\bgsa\/([\w\.]+) .*safari\//i],[_,[b,"GSA"],[v,I]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[_,[b,"TikTok"],[v,I]],[/\[(linkedin)app\]/i],[b,[v,I]],[/(chromium)[\/ ]([-\w\.]+)/i],[b,_],[/headlesschrome(?:\/([\w\.]+)| )/i],[_,[b,fe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,fe+" WebView"],_],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[_,[b,"Android"+Se]],[/chrome\/([\w\.]+) mobile/i],[_,[b,_e+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,_],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[_,[b,_e+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[b,_e+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[_,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[_,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[b,_],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[b,_e+ye],_],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],_],[/(wolvic|librewolf)\/([\w\.]+)/i],[b,_],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[_,[b,ye+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[b,[_,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[_,/[^\d\.]+./,o]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[S,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[S,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[S,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[S,/ower/,o,Ie]],[/ sun4\w[;\)]/i],[[S,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[S,Ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[R,[w,le],[v,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[R,[w,le],[v,P]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[R,[w,Y],[v,P]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[R,[w,Y],[v,T]],[/(macintosh);/i],[R,[w,Y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[R,[w,de],[v,P]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[R,[w,re],[v,T]],[/honor([-\w ]+)[;\)]/i],[R,[w,re],[v,P]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[R,[w,ee],[v,T]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[R,[w,ee],[v,P]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[R,/_/g," "],[w,pe],[v,T]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[R,/_/g," "],[w,pe],[v,P]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[R,[w,ce],[v,P]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[R,[w,ze,{OnePlus:["304","403","203"],"*":ce}],[v,T]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[R,[w,"BLU"],[v,P]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[R,[w,"Vivo"],[v,P]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[R,[w,"Realme"],[v,P]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[R,[w,se],[v,P]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[R,[w,se],[v,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[R,[w,ne],[v,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[R,[w,ne],[v,P]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[R,[w,te],[v,T]],[/(nokia) (t[12][01])/i],[w,R,[v,T]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[R,/_/g," "],[v,P],[w,"Nokia"]],[/(pixel (c|tablet))\b/i],[R,[w,Z],[v,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[R,[w,Z],[v,P]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[R,[w,ue],[v,P]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[R,"Xperia Tablet"],[w,ue],[v,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[R,[w,oe],[v,P]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[R,[w,G],[v,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[R,/(.+)/g,"Fire Phone $1"],[w,G],[v,P]],[/(playbook);[-\w\),; ]+(rim)/i],[R,w,[v,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[R,[w,J],[v,P]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[R,[w,X],[v,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[R,[w,X],[v,P]],[/(nexus 9)/i],[R,[w,"HTC"],[v,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[R,/_/g," "],[v,P]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[R,[w,"TCL"],[v,T]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[R,[w,"TCL"],[v,P]],[/(itel) ((\w+))/i],[[w,Ie],R,[v,ze,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[R,[w,"Acer"],[v,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[R,[w,"Meizu"],[v,P]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[R,[w,"Ulefone"],[v,P]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[R,[w,"Energizer"],[v,P]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[R,[w,"Cat"],[v,P]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[R,[w,"Smartfren"],[v,P]],[/droid.+; (a(?:015|06[35]|142p?))/i],[R,[w,"Nothing"],[v,P]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[R,[w,"Archos"],[v,T]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[R,[w,"Archos"],[v,P]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[w,R,[v,T]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[w,R,[v,P]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[w,R,[v,T]],[/(surface duo)/i],[R,[w,ie],[v,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[R,[w,"Fairphone"],[v,P]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[R,[w,ae],[v,T]],[/(sprint) (\w+)/i],[w,R,[v,P]],[/(kin\.[onetw]{3})/i],[[R,/\./g," "],[w,ie],[v,P]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[R,[w,he],[v,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[R,[w,he],[v,P]],[/smart-tv.+(samsung)/i],[w,[v,x]],[/hbbtv.+maple;(\d+)/i],[[R,/^/,"SmartTV"],[w,le],[v,x]],[/tcast.+(lg)e?. ([-\w]+)/i],[w,R,[v,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,ne],[v,x]],[/(apple) ?tv/i],[w,[R,Y+" TV"],[v,x]],[/crkey.*devicetype\/chromecast/i],[[R,ge+" Third Generation"],[w,Z],[v,x]],[/crkey.*devicetype\/([^/]*)/i],[[R,/^/,"Chromecast "],[w,Z],[v,x]],[/fuchsia.*crkey/i],[[R,ge+" Nest Hub"],[w,Z],[v,x]],[/crkey/i],[[R,ge],[w,Z],[v,x]],[/(portaltv)/i],[R,[w,ve],[v,x]],[/droid.+aft(\w+)( bui|\))/i],[R,[w,G],[v,x]],[/(shield \w+ tv)/i],[R,[w,ae],[v,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[R,[w,de],[v,x]],[/(bravia[\w ]+)( bui|\))/i],[R,[w,ue],[v,x]],[/(mi(tv|box)-?\w+) bui/i],[R,[w,pe],[v,x]],[/Hbbtv.*(technisat) (.*);/i],[w,R,[v,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,Ae],[R,Ae],[v,x]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[R,[v,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,x]],[/(ouya)/i,/(nintendo) (\w+)/i],[w,R,[v,C]],[/droid.+; (shield)( bui|\))/i],[R,[w,ae],[v,C]],[/(playstation \w+)/i],[R,[w,ue],[v,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[R,[w,ie],[v,C]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[R,[w,le],[v,D]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[w,R,[v,D]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[R,[w,ce],[v,D]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[R,[w,Y],[v,D]],[/(opwwe\d{3})/i],[R,[w,oe],[v,D]],[/(moto 360)/i],[R,[w,se],[v,D]],[/(smartwatch 3)/i],[R,[w,ue],[v,D]],[/(g watch r)/i],[R,[w,ne],[v,D]],[/droid.+; (wt63?0{2,3})\)/i],[R,[w,he],[v,D]],[/droid.+; (glass) \d/i],[R,[w,Z],[v,E]],[/(pico) (4|neo3(?: link|pro)?)/i],[w,R,[v,E]],[/(quest( \d| pro)?s?).+vr/i],[R,[w,ve],[v,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[v,L]],[/(aeobc)\b/i],[R,[w,G],[v,L]],[/(homepod).+mac os/i],[R,[w,Y],[v,L]],[/windows iot/i],[[v,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[R,[v,ze,{mobile:"Mobile",xr:"VR","*":T}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,P]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[R,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[_,[b,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[b,_],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,_],[/ladybird\//i],[[b,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,_],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[b,[_,ze,Be]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_,ze,Be],[b,ke]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"macOS"],[_,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[_,[b,ge+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[_,[b,ge+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[_,[b,ge+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[_,[b,ge+" Linux"]],[/crkey\/([\d\.]+)/i],[_,[b,ge]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[_,b],[/(ubuntu) ([\w\.]+) like android/i],[[b,/(.+)/,"$1 Touch"],_],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[b,_],[/\(bb(10);/i],[_,[b,J]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[_,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[_,[b,ye+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[_,[b,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,"Chrome OS"],_],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,_],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],_],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,_]]},He=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Me.call(e.init,[[p,[b,_,k,v]],[h,[S]],[f,[v,R,w]],[m,[b,_]],[g,[b,_]]]),Me.call(e.isIgnore,[[p,[_,k]],[m,[_]],[g,[_]]]),Me.call(e.isIgnoreRgx,[[p,/ ?browser$/i],[g,/ ?os$/i]]),Me.call(e.toString,[[p,[b,_]],[h,[S]],[f,[w,R]],[m,[b,_]],[g,[b,_]]]),e}(),qe=function(e,t){var r=He.init[t],n=He.isIgnore[t]||0,i=He.isIgnoreRgx[t]||0,s=He.toString[t]||0;function a(){Me.call(this,r)}return a.prototype.getItem=function(){return e},a.prototype.withClientHints=function(){return Pe?Pe.getHighEntropyValues(W).then((function(t){return e.setCH(new Ve(t,!1)).parseCH().get()})):e.parseCH().get()},a.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=y&&(a.prototype.is=function(e){var t=!1;for(var r in this)if(this.hasOwnProperty(r)&&!xe(n,r)&&Ie(i?Ne(i,this[r]):this[r])==Ie(i?Ne(i,e):e)){if(t=!0,e!=l)break}else if(e==l&&t){t=!t;break}return t},a.prototype.toString=function(){var e=o;for(var t in s)typeof this[s[t]]!==l&&(e+=(e?" ":o)+this[s[t]]);return e||l}),Pe||(a.prototype.then=function(e){var t=this,r=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};r.prototype={is:a.prototype.is,toString:a.prototype.toString};var n=new r;return e(n),n}),new a};function Ve(e,t){if(e=e||{},Me.call(this,W),t)Me.call(this,[[O,Le(e[z])],[N,Le(e[B])],[P,/\?1/.test(e[q])],[R,je(e[V])],[j,je(e[K])],[A,je(e[Q])],[S,je(e[$])],[M,Le(e[H])],[F,je(e[U])]]);else for(var r in e)this.hasOwnProperty(r)&&typeof e[r]!==l&&(this[r]=e[r])}function Ke(e,t,r,n){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:s:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(Ce&&Ce.userAgent==this.ua)switch(this.itemType){case p:Ce.brave&&typeof Ce.brave.isBrave==c&&this.set(b,"Brave");break;case f:!this.get(v)&&Pe&&Pe[P]&&this.set(v,P),"Macintosh"==this.get(R)&&Ce&&typeof Ce.standalone!==l&&Ce.maxTouchPoints&&Ce.maxTouchPoints>2&&this.set(R,"iPad").set(v,T);break;case g:!this.get(b)&&Pe&&Pe[j]&&this.set(b,Pe[j]);break;case y:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(p,t(p)).set(h,t(h)).set(f,t(f)).set(m,t(m)).set(g,t(g))}return this},this.parseUA=function(){return this.itemType!=y&&Fe.call(this.data,this.ua,this.rgxMap),this.itemType==p&&this.set(k,Oe(this.get(_))),this},this.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case p:case m:var r,n=e[N]||e[O];if(n)for(var i in n){var a=n[i].brand||n[i],o=n[i].version;this.itemType!=p||/not.a.brand/i.test(a)||r&&(!/chrom/i.test(r)||a==me)||(a=ze(a,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(b,a).set(_,o).set(k,Oe(o)),r=a),this.itemType==m&&a==me&&this.set(_,o)}break;case h:var c=e[S];c&&(c&&"64"==e[F]&&(c+="64"),Fe.call(this.data,c+";",t));break;case f:if(e[P]&&this.set(v,P),e[R]&&(this.set(R,e[R]),!this.get(v)||!this.get(w))){var l={};Fe.call(l,"droid 9; "+e[R]+")",t),!this.get(v)&&l.type&&this.set(v,l.type),!this.get(w)&&l.vendor&&this.set(w,l.vendor)}if(e[M]){var d;if("string"!==typeof e[M])for(var u=0;!d&&u<e[M].length;)d=ze(e[M][u++],$e);else d=ze(e[M],$e);this.set(v,d)}break;case g:var C=e[j];if(C){var T=e[A];C==ke&&(T=parseInt(Oe(T),10)>=13?"11":"10"),this.set(b,C).set(_,T)}this.get(b)==ke&&"Xbox"==e[R]&&this.set(b,"Xbox").set(_,s);break;case y:var x=this.data,D=function(t){return x[t].getItem().setCH(e).parseCH().get()};this.set(p,D(p)).set(h,D(h)).set(f,D(f)).set(m,D(m)).set(g,D(g))}return this},Me.call(this,[["itemType",e],["ua",t],["uaCH",n],["rgxMap",r],["data",qe(this,e)]]),this}function Qe(e,t,r){if(typeof e===d?(De(e,!0)?(typeof t===d&&(r=t),t=e):(r=e,t=s),e=s):typeof e!==u||De(t,!0)||(r=t,t=s),r&&typeof r.append===c){var n={};r.forEach((function(e,t){n[t]=e})),r=n}if(!(this instanceof Qe))return new Qe(e,t,r).getResult();var i=typeof e===u?e:r&&r[a]?r[a]:Ce&&Ce.userAgent?Ce.userAgent:o,l=new Ve(r,!0),b=t?function(e,t){var r={},n=t;if(!De(t))for(var i in n={},t)for(var s in t[i])n[s]=t[i][s].concat(n[s]?n[s]:[]);for(var a in e)r[a]=n[a]&&n[a].length%2===0?n[a].concat(e[a]):e[a];return r}(Ue,t):Ue,v=function(e){return e==y?function(){return new Ke(e,i,b,l).set("ua",i).set(p,this.getBrowser()).set(h,this.getCPU()).set(f,this.getDevice()).set(m,this.getEngine()).set(g,this.getOS()).get()}:function(){return new Ke(e,i,b[e],l).parseUA().get()}};return Me.call(this,[["getBrowser",v(p)],["getCPU",v(h)],["getDevice",v(f)],["getEngine",v(m)],["getOS",v(g)],["getResult",v(y)],["getUA",function(){return i}],["setUA",function(e){return Ee(e)&&(i=e.length>500?Ae(e,500):e),this}]]).setUA(i),this}Qe.VERSION="2.0.3",Qe.BROWSER=Te([b,_,k,v]),Qe.CPU=Te([S]),Qe.DEVICE=Te([R,w,v,C,P,x,T,D,L]),Qe.ENGINE=Qe.OS=Te([b,_]),typeof t!==l?(e.exports&&(t=e.exports=Qe),t.UAParser=Qe):r.amdO?(n=function(){return Qe}.call(t,r,t,e))===s||(e.exports=n):Re&&(i.UAParser=Qe);var We=Re&&(i.jQuery||i.Zepto);if(We&&!We.ua){var Ge=new Qe;We.ua=Ge.getResult(),We.ua.get=function(){return Ge.getUA()},We.ua.set=function(e){Ge.setUA(e);var t=Ge.getResult();for(var r in t)We.ua[r]=t[r]}}}("object"===typeof window?window:this)},1581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNackSupportForOpus=function(e){for(const t of e.codecs??[])"audio/opus"!==t.mimeType.toLowerCase()&&"audio/multiopus"!==t.mimeType.toLowerCase()||t.rtcpFeedback?.some((e=>"nack"===e.type&&!e.parameter))||(t.rtcpFeedback||(t.rtcpFeedback=[]),t.rtcpFeedback.push({type:"nack"}))}},1899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Device=void 0,t.detectDeviceAsync=k,t.detectDevice=R;const n=r(1518),i=r(2097),s=r(9642),a=r(9398),o=r(8988),c=r(5809),l=r(7964),d=r(8716),u=r(8390),p=r(2634),h=r(6230),f=r(8027),m=r(1313),g=r(5320),y=r(2652),b=r(8741),v=r(9496),w=r(1194),_=r(4471),S=new i.Logger("Device");async function k(e){S.debug("detectDeviceAsync() [userAgent:%s]",e),e||"object"!==typeof navigator||(e=navigator.userAgent);return P(await(0,n.UAParser)(e).withFeatureCheck())}function R(e){S.debug("detectDevice() [userAgent:%s]",e),e||"object"!==typeof navigator||(e=navigator.userAgent);return P((0,n.UAParser)(e))}class C{_handlerFactory;_handlerName;_loaded=!1;_extendedRtpCapabilities;_recvRtpCapabilities;_canProduceByKind;_sctpCapabilities;_observer=(()=>new s.EnhancedEventEmitter)();static async factory(){let{handlerName:e,handlerFactory:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(S.debug("factory()"),e&&t)throw new TypeError("just one of handlerName or handlerInterface can be given");if(!e&&!t&&(e=await k(),!e))throw new a.UnsupportedError("device not supported");return new C({handlerName:e,handlerFactory:t})}constructor(){let{handlerName:e,handlerFactory:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(S.debug("constructor()"),e&&t)throw new TypeError("just one of handlerName or handlerInterface can be given");if(t)this._handlerFactory=t;else{if(e)S.debug("constructor() | handler given: %s",e);else{if(e=R(),!e)throw new a.UnsupportedError("device not supported");S.debug("constructor() | detected handler: %s",e)}switch(e){case"Chrome111":this._handlerFactory=d.Chrome111.createFactory();break;case"Chrome74":this._handlerFactory=u.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=p.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=h.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=f.Chrome55.createFactory();break;case"Firefox120":this._handlerFactory=m.Firefox120.createFactory();break;case"Firefox60":this._handlerFactory=g.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=y.Safari12.createFactory();break;case"Safari11":this._handlerFactory=b.Safari11.createFactory();break;case"Edge11":this._handlerFactory=v.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=w.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=_.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${e}"`)}}const r=this._handlerFactory();this._handlerName=r.name,r.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new a.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new a.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load(e){let t,{routerRtpCapabilities:r}=e;S.debug("load() [routerRtpCapabilities:%o]",r);try{if(this._loaded)throw new a.InvalidStateError("already loaded");const e=o.clone(r);c.validateRtpCapabilities(e),t=this._handlerFactory();const n=await t.getNativeRtpCapabilities();S.debug("load() | got native RTP capabilities:%o",n);const i=o.clone(n);c.validateRtpCapabilities(i),this._extendedRtpCapabilities=c.getExtendedRtpCapabilities(i,e),S.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=c.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=c.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=c.getRecvRtpCapabilities(this._extendedRtpCapabilities),c.validateRtpCapabilities(this._recvRtpCapabilities),S.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),S.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),c.validateSctpCapabilities(this._sctpCapabilities),S.debug("load() succeeded"),this._loaded=!0,t.close()}catch(n){throw t&&t.close(),n}}canProduce(e){if(!this._loaded)throw new a.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError(`invalid kind "${e}"`);return this._canProduceByKind[e]}createSendTransport(e){let{id:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d}=e;return S.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d})}createRecvTransport(e){let{id:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d}=e;return S.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d})}createTransport(e){let{direction:t,id:r,iceParameters:n,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:c,iceTransportPolicy:d,additionalSettings:u,proprietaryConstraints:p,appData:h}=e;if(!this._loaded)throw new a.InvalidStateError("not loaded");if("string"!==typeof r)throw new TypeError("missing id");if("object"!==typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(i))throw new TypeError("missing iceCandidates");if("object"!==typeof s)throw new TypeError("missing dtlsParameters");if(o&&"object"!==typeof o)throw new TypeError("wrong sctpParameters");if(h&&"object"!==typeof h)throw new TypeError("if given, appData must be an object");const f=new l.Transport({direction:t,id:r,iceParameters:n,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:c,iceTransportPolicy:d,additionalSettings:u,proprietaryConstraints:p,appData:h,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}function P(e){if("object"===typeof navigator&&"ReactNative"===navigator.product)return S.debug("detectDeviceImpl() | React-Native detected"),"undefined"===typeof RTCPeerConnection?void S.warn("detectDeviceImpl() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?"):"undefined"!==typeof RTCRtpTransceiver?(S.debug("detectDeviceImpl() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(S.debug("detectDeviceImpl() | ReactNative PlanB handler chosen"),"ReactNative");{S.debug("detectDeviceImpl() | browser detected [userAgent:%s, parsed:%o]",e.ua,e);const t=e.browser,r=t.name?.toLowerCase(),n=parseInt(t.major??"0"),i=e.engine,s=i.name?.toLowerCase(),a=e.os,o=a.name?.toLowerCase(),c=parseFloat(a.version??"0"),l=e.device,d=l.model?.toLowerCase(),u="ios"===o||"ipad"===d,p=r&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(r),h=r&&["firefox","mobile firefox","mobile focus"].includes(r),f=r&&["safari","mobile safari"].includes(r),m=r&&["edge"].includes(r);if((p||m)&&!u&&n>=111)return"Chrome111";if(p&&!u&&n>=74||m&&!u&&n>=88)return"Chrome74";if(p&&!u&&n>=70)return"Chrome70";if(p&&!u&&n>=67)return"Chrome67";if(p&&!u&&n>=55)return"Chrome55";if(h&&!u&&n>=120)return"Firefox120";if(h&&!u&&n>=60)return"Firefox60";if(h&&u&&c>=14.3)return"Safari12";if(f&&n>=12&&"undefined"!==typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(f&&n>=11)return"Safari11";if(m&&!u&&n>=11&&n<=18)return"Edge11";if("webkit"===s&&u&&"undefined"!==typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if("blink"===s){const t=e.ua.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(t){const e=Number(t[1]);return e>=111?"Chrome111":e>=74?"Chrome74":e>=70?"Chrome70":e>=67?"Chrome67":"Chrome55"}return"Chrome111"}return void S.warn("detectDeviceImpl() | browser not supported [name:%s, version:%s]",r,n)}}t.Device=C},2081:(e,t,r)=>{"use strict";t.pF=void 0;r(6522).default,r(2736);var n=r(1899);Object.defineProperty(t,"pF",{enumerable:!0,get:function(){return n.Device}});var i=r(3204);r(5809);var s=r(4752);r(7849)},2097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(6522),i="mediasoup-client";t.Logger=class{_debug;_warn;_error;constructor(e){e?(this._debug=(0,n.default)(`${i}:${e}`),this._warn=(0,n.default)(`${i}:WARN:${e}`),this._error=(0,n.default)(`${i}:ERROR:${e}`)):(this._debug=(0,n.default)(i),this._warn=(0,n.default)(`${i}:WARN`),this._error=(0,n.default)(`${i}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},2384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerInterface=void 0;const n=r(9642);class i extends n.EnhancedEventEmitter{constructor(){super()}}t.HandlerInterface=i},2499:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,s,a,l;if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"===typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=a.length,l=d,console&&console.warn&&console.warn(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var l=c.length,d=f(c,l);for(r=0;r<l;++r)n(d[r],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome70=void 0;const n=r(9640),i=r(2097),s=r(8988),a=r(5809),o=r(5467),c=r(683),l=r(2384),d=r(3054),u=r(3204),p=new i.Logger("Chrome70"),h={OS:1024,MIS:1024};class f extends l.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new f}constructor(){super()}get name(){return"Chrome70"}close(){if(p.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){p.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp);return o.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:h}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,extendedRtpCapabilities:h}=e;p.debug("run()"),this._direction=t,this._remoteSdp=new d.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",h),video:a.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",h),video:a.getSendingRemoteRtpParameters("video",h)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){p.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:l}=e;this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const d=s.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=a.reduceCodecs(d.codecs,l);const h=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);h.codecs=a.reduceCodecs(h.codecs,l);const f=this._remoteSdp.getNextMediaSectionIdx(),m=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let g,y=await this._pc.createOffer(),b=n.parse(y.sdp);b.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),r&&r.length>1&&(p.debug("send() | enabling legacy simulcast"),b=n.parse(y.sdp),g=b.media[f.idx],c.addLegacySimulcast({offerMediaObject:g,numStreams:r.length}),y={type:"offer",sdp:n.write(b)});let v=!1;const w=(0,u.parse)((r??[{}])[0].scalabilityMode);if(r&&1===r.length&&w.spatialLayers>1&&"video/vp9"===d.codecs[0].mimeType.toLowerCase()&&(p.debug("send() | enabling legacy simulcast for VP9 SVC"),v=!0,b=n.parse(y.sdp),g=b.media[f.idx],c.addLegacySimulcast({offerMediaObject:g,numStreams:w.spatialLayers}),y={type:"offer",sdp:n.write(b)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y),r){p.debug("send() | applying given encodings");const e=m.sender.getParameters();for(let t=0;t<(e.encodings??[]).length;++t){const n=e.encodings[t],i=r[t];if(!i)break;e.encodings[t]=Object.assign(n,i)}await m.sender.setParameters(e)}const _=m.mid;if(d.mid=_,b=n.parse(this._pc.localDescription.sdp),g=b.media[f.idx],d.rtcp.cname=o.getCname({offerMediaObject:g}),d.encodings=c.getRtpEncodings({offerMediaObject:g}),r)for(let n=0;n<d.encodings.length;++n)r[n]&&Object.assign(d.encodings[n],r[n]);if(v&&(d.encodings=[d.encodings[0]]),d.encodings.length>1&&("video/vp8"===d.codecs[0].mimeType.toLowerCase()||"video/h264"===d.codecs[0].mimeType.toLowerCase()))for(const n of d.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:f.reuseMid,offerRtpParameters:d,answerRtpParameters:h,codecOptions:i});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(_,m),{localId:_,rtpParameters:d,rtpSender:m.sender}}async stopSending(e){this.assertSendDirection(),p.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(i){}const r=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?p.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):p.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();p.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();p.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async getSenderStats(e){this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:i,protocol:a};p.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i,streamId:s}=n;p.debug("receive() [trackId:%s, kind:%s]",e,t);const a=i.mid??String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:i,streamId:s??i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const a=n.parse(s.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,i=r.get(e),s=a.media.find((e=>String(e.mid)===i));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})}s={type:"answer",sdp:n.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{trackId:e}=n,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){p.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:i};p.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=o.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome70=f},2652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Safari12=void 0;const n=r(9640),i=r(2097),s=r(8988),a=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new i.Logger("Safari12"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"Safari12"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp),s=o.extractRtpCapabilities({sdpObject:i});return l.addNackSupportForOpus(s),s}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;this.assertNotClosed(),f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",u),video:a.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",u),video:a.getSendingRemoteRtpParameters("video",u)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:l,onRtpSender:d}=e;this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const u=s.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=a.reduceCodecs(u.codecs,l);const p=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);p.codecs=a.reduceCodecs(p.codecs,l);const m=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});d&&d(g.sender);let y,b=await this._pc.createOffer(),v=n.parse(b.sdp);v.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v});const w=(0,h.parse)((r??[{}])[0].scalabilityMode);r&&r.length>1&&(f.debug("send() | enabling legacy simulcast"),v=n.parse(b.sdp),y=v.media[m.idx],c.addLegacySimulcast({offerMediaObject:y,numStreams:r.length}),b={type:"offer",sdp:n.write(v)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const _=g.mid;if(u.mid=_,v=n.parse(this._pc.localDescription.sdp),y=v.media[m.idx],u.rtcp.cname=o.getCname({offerMediaObject:y}),u.encodings=c.getRtpEncodings({offerMediaObject:y}),r)for(let n=0;n<u.encodings.length;++n)r[n]&&Object.assign(u.encodings[n],r[n]);if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${w.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:y,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:p,codecOptions:i});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(_,g),{localId:_,rtpParameters:u,rtpSender:g.sender}}async stopSending(e){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(i){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:i,protocol:a};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i,streamId:s}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const a=i.mid??String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:i,streamId:s??i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===n));if(!i)throw new Error("transceiver not found");t(i.receiver)}}let s=await this._pc.createAnswer();const a=n.parse(s.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,i=r.get(e),s=a.media.find((e=>String(e.mid)===i));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})}s={type:"answer",sdp:n.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{trackId:e}=n,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:i};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=o.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari12=g},2669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueueRemovedTaskError=t.AwaitQueueStoppedError=t.AwaitQueue=void 0;var n=r(4892);Object.defineProperty(t,"AwaitQueue",{enumerable:!0,get:function(){return n.AwaitQueue}});var i=r(9970);Object.defineProperty(t,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return i.AwaitQueueStoppedError}}),Object.defineProperty(t,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return i.AwaitQueueRemovedTaskError}})},2679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2736:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1899),t),i(r(7964),t),i(r(4315),t),i(r(8021),t),i(r(5275),t),i(r(4357),t),i(r(2679),t),i(r(4191),t),i(r(2384),t),i(r(9398),t)},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element");function n(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in n={},t)"key"!==s&&(n[s]=t[s]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:i,ref:void 0!==t?t:null,props:n}}Symbol.for("react.fragment"),t.jsx=n,t.jsxs=n},3054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSdp=void 0;const n=r(9640),i=r(2097),s=r(8174),a=new i.Logger("RemoteSdp");t.RemoteSdp=class{_iceParameters;_iceCandidates;_dtlsParameters;_sctpParameters;_plainRtpParameters;_planB;_mediaSections=[];_midToIndex=(()=>new Map)();_firstMid;_sdpObject;constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,plainRtpParameters:s,planB:a=!1}=e;if(this._iceParameters=t,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=i,this._plainRtpParameters=s,this._planB=a,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t?.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[e-1].algorithm,hash:n.fingerprints[e-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}s&&(this._sdpObject.origin.address=s.ip,this._sdpObject.origin.ipVer=s.ipVersion)}updateIceParameters(e){a.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){a.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}setSessionExtmapAllowMixed(){a.debug("setSessionExtmapAllowMixed()"),this._sdpObject.extmapAllowMixed="extmap-allow-mixed"}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send(e){let{offerMediaObject:t,reuseMid:r,offerRtpParameters:n,answerRtpParameters:i,codecOptions:a}=e;const o=new s.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:i,codecOptions:a});r?this._replaceMediaSection(o,r):this._midToIndex.has(o.mid)?this._replaceMediaSection(o):this._addMediaSection(o)}receive(e){let{mid:t,kind:r,offerRtpParameters:n,streamId:i,trackId:a}=e;const o=this._midToIndex.get(t);let c;if(void 0!==o&&(c=this._mediaSections[o]),this.setSessionExtmapAllowMixed(),c)c.planBReceive({offerRtpParameters:n,streamId:i,trackId:a}),this._replaceMediaSection(c);else{c=new s.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:r,offerRtpParameters:n,streamId:i,trackId:a});const e=this._mediaSections.find((e=>e.closed));e?this._replaceMediaSection(c,e.mid):this._addMediaSection(c)}}pauseMediaSection(e){this._findMediaSection(e).pause()}resumeSendingMediaSection(e){this._findMediaSection(e).resume()}resumeReceivingMediaSection(e){this._findMediaSection(e).resume()}disableMediaSection(e){this._findMediaSection(e).disable()}closeMediaSection(e){const t=this._findMediaSection(e);return e===this._firstMid?(a.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),this.disableMediaSection(e),!1):(t.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(e,t){const r=this._findMediaSection(e);r.muxSimulcastStreams(t),this._replaceMediaSection(r)}planBStopReceiving(e){let{mid:t,offerRtpParameters:r}=e;const n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}sendSctpAssociation(e){let{offerMediaObject:t}=e;const r=new s.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}receiveSctpAssociation(){let{oldDataChannelSpec:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new s.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if("string"===typeof t){const r=this._midToIndex.get(t);if(void 0===r)throw new Error(`no media section found for reuseMid '${t}'`);const n=this._mediaSections[r];this._mediaSections[r]=e,this._midToIndex.delete(n.mid),this._midToIndex.set(e.mid,r),this._sdpObject.media[r]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_findMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);return this._mediaSections[t]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((e=>!e.closed)).map((e=>e.mid)).join(" "))}}},3204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){const t=r.exec(e??"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}};const r=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})")},3221:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{NIL:()=>I,parse:()=>g,stringify:()=>d,v1:()=>m,v3:()=>P,v4:()=>T,v5:()=>L,validate:()=>o,version:()=>O});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const o=function(e){return"string"===typeof e&&a.test(e)};for(var c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r};var u,p,h=0,f=0;const m=function(e,t,r){var n=t&&r||0,i=t||new Array(16),a=(e=e||{}).node||u,o=void 0!==e.clockseq?e.clockseq:p;if(null==a||null==o){var c=e.random||(e.rng||s)();null==a&&(a=u=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==o&&(o=p=16383&(c[6]<<8|c[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:f+1,g=l-h+(m-f)/1e4;if(g<0&&void 0===e.clockseq&&(o=o+1&16383),(g<0||l>h)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=l,f=m,p=o;var y=(1e4*(268435455&(l+=122192928e5))+m)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=255&y;var b=l/4294967296*1e4&268435455;i[n++]=b>>>8&255,i[n++]=255&b,i[n++]=b>>>24&15|16,i[n++]=b>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var v=0;v<6;++v)i[n+v]=a[v];return t||d(i)};const g=function(e){if(!o(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function y(e,t,r){function n(e,n,i,s){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=g(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){s=s||0;for(var o=0;o<16;++o)i[s+o]=a[o];return i}return d(a)}try{n.name=e}catch(i){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function b(e){return 14+(e+64>>>9<<4)+1}function v(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function w(e,t,r,n,i,s){return v((a=v(v(t,e),v(n,s)))<<(o=i)|a>>>32-o,r);var a,o}function _(e,t,r,n,i,s,a){return w(t&r|~t&n,e,t,i,s,a)}function S(e,t,r,n,i,s,a){return w(t&n|r&~n,e,t,i,s,a)}function k(e,t,r,n,i,s,a){return w(t^r^n,e,t,i,s,a)}function R(e,t,r,n,i,s,a){return w(r^(t|~n),e,t,i,s,a)}const C=function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(15&s),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[b(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<e.length;a+=16){var o=r,c=n,l=i,d=s;r=_(r,n,i,s,e[a],7,-680876936),s=_(s,r,n,i,e[a+1],12,-389564586),i=_(i,s,r,n,e[a+2],17,606105819),n=_(n,i,s,r,e[a+3],22,-1044525330),r=_(r,n,i,s,e[a+4],7,-176418897),s=_(s,r,n,i,e[a+5],12,1200080426),i=_(i,s,r,n,e[a+6],17,-1473231341),n=_(n,i,s,r,e[a+7],22,-45705983),r=_(r,n,i,s,e[a+8],7,1770035416),s=_(s,r,n,i,e[a+9],12,-1958414417),i=_(i,s,r,n,e[a+10],17,-42063),n=_(n,i,s,r,e[a+11],22,-1990404162),r=_(r,n,i,s,e[a+12],7,1804603682),s=_(s,r,n,i,e[a+13],12,-40341101),i=_(i,s,r,n,e[a+14],17,-1502002290),r=S(r,n=_(n,i,s,r,e[a+15],22,1236535329),i,s,e[a+1],5,-165796510),s=S(s,r,n,i,e[a+6],9,-1069501632),i=S(i,s,r,n,e[a+11],14,643717713),n=S(n,i,s,r,e[a],20,-373897302),r=S(r,n,i,s,e[a+5],5,-701558691),s=S(s,r,n,i,e[a+10],9,38016083),i=S(i,s,r,n,e[a+15],14,-660478335),n=S(n,i,s,r,e[a+4],20,-405537848),r=S(r,n,i,s,e[a+9],5,568446438),s=S(s,r,n,i,e[a+14],9,-1019803690),i=S(i,s,r,n,e[a+3],14,-187363961),n=S(n,i,s,r,e[a+8],20,1163531501),r=S(r,n,i,s,e[a+13],5,-1444681467),s=S(s,r,n,i,e[a+2],9,-51403784),i=S(i,s,r,n,e[a+7],14,1735328473),r=k(r,n=S(n,i,s,r,e[a+12],20,-1926607734),i,s,e[a+5],4,-378558),s=k(s,r,n,i,e[a+8],11,-2022574463),i=k(i,s,r,n,e[a+11],16,1839030562),n=k(n,i,s,r,e[a+14],23,-35309556),r=k(r,n,i,s,e[a+1],4,-1530992060),s=k(s,r,n,i,e[a+4],11,1272893353),i=k(i,s,r,n,e[a+7],16,-155497632),n=k(n,i,s,r,e[a+10],23,-1094730640),r=k(r,n,i,s,e[a+13],4,681279174),s=k(s,r,n,i,e[a],11,-358537222),i=k(i,s,r,n,e[a+3],16,-722521979),n=k(n,i,s,r,e[a+6],23,76029189),r=k(r,n,i,s,e[a+9],4,-640364487),s=k(s,r,n,i,e[a+12],11,-421815835),i=k(i,s,r,n,e[a+15],16,530742520),r=R(r,n=k(n,i,s,r,e[a+2],23,-995338651),i,s,e[a],6,-198630844),s=R(s,r,n,i,e[a+7],10,1126891415),i=R(i,s,r,n,e[a+14],15,-1416354905),n=R(n,i,s,r,e[a+5],21,-57434055),r=R(r,n,i,s,e[a+12],6,1700485571),s=R(s,r,n,i,e[a+3],10,-1894986606),i=R(i,s,r,n,e[a+10],15,-1051523),n=R(n,i,s,r,e[a+1],21,-2054922799),r=R(r,n,i,s,e[a+8],6,1873313359),s=R(s,r,n,i,e[a+15],10,-30611744),i=R(i,s,r,n,e[a+6],15,-1560198380),n=R(n,i,s,r,e[a+13],21,1309151649),r=R(r,n,i,s,e[a+4],6,-145523070),s=R(s,r,n,i,e[a+11],10,-1120210379),i=R(i,s,r,n,e[a+2],15,718787259),n=R(n,i,s,r,e[a+9],21,-343485551),r=v(r,o),n=v(n,c),i=v(i,l),s=v(s,d)}return[r,n,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(b(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};const P=y("v3",48,C);const T=function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return d(n)};function x(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function D(e,t){return e<<t|e>>>32-t}const E=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,a=Math.ceil(s/16),o=new Array(a),c=0;c<a;++c){for(var l=new Uint32Array(16),d=0;d<16;++d)l[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];o[c]=l}o[a-1][14]=8*(e.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<a;++u){for(var p=new Uint32Array(80),h=0;h<16;++h)p[h]=o[u][h];for(var f=16;f<80;++f)p[f]=D(p[f-3]^p[f-8]^p[f-14]^p[f-16],1);for(var m=r[0],g=r[1],y=r[2],b=r[3],v=r[4],w=0;w<80;++w){var _=Math.floor(w/20),S=D(m,5)+x(_,g,y,b)+v+t[_]+p[w]>>>0;v=b,b=y,y=D(g,30)>>>0,g=m,m=S}r[0]=r[0]+m>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};const L=y("v5",80,E),I="00000000-0000-0000-0000-000000000000";const O=function(e){if(!o(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},4191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}function b(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function R(e,t,n,i,s,a){return n=a.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(){}function D(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c,l,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case n:d=!0;break;case p:return D((d=e._init)(e._payload),t,i,s,a)}}if(d)return a=a(e),d=""===s?"."+T(e,0):s,_(a)?(i="",null!=d&&(i=d.replace(P,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(c=a,l=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+d,a=R(c.type,l,void 0,0,0,c.props)),t.push(a)),1;d=0;var u,f=""===s?".":s+":";if(_(e))for(var m=0;m<e.length;m++)d+=D(s=e[m],t,i,o=f+T(s,m),a);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(s=e.next()).done;)d+=D(s=s.value,t,i,o=f+T(s,m++),a);else if("object"===o){if("function"===typeof e.then)return D(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function E(e,t,r){if(null==e)return e;var n=[],i=0;return D(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:E,forEach:function(e,t,r){E(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=r;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];n.children=a}return R(e.type,i,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,i={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)k.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];i.children=o}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===i[n]&&(i[n]=a[n]);return R(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,r={};S.T=r;try{var n=e(),i=S.S;null!==i&&i(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(O,I)}catch(s){I(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,r){return S.H.useActionState(e,t,r)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=S.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,r){return S.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return S.H.useReducer(e,t,r)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return S.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},4315:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Producer=void 0;const n=r(2097),i=r(9642),s=r(9398),a=new n.Logger("Producer");class o extends i.EnhancedEventEmitter{_id;_localId;_closed=!1;_rtpSender;_track;_kind;_rtpParameters;_paused;_maxSpatialLayer;_stopTracks;_disableTrackOnPause;_zeroRtpOnPause;_appData;_observer=(()=>new i.EnhancedEventEmitter)();constructor(e){let{id:t,localId:r,rtpSender:n,track:i,rtpParameters:s,stopTracks:o,disableTrackOnPause:c,zeroRtpOnPause:l,appData:d}=e;super(),a.debug("constructor()"),this._id=t,this._localId=r,this._rtpSender=n,this._track=i,this._kind=i.kind,this._rtpParameters=s,this._paused=!!c&&!i.enabled,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=c,this._zeroRtpOnPause=l,this._appData=d??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(a.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(a.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new s.InvalidStateError("closed");return new Promise(((e,t)=>{this.safeEmit("@getstats",e,t)}))}pause(){a.debug("pause()"),this._closed?a.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise(((e,t)=>{this.safeEmit("@pause",e,t)})).catch((()=>{})),this._observer.safeEmit("pause"))}resume(){a.debug("resume()"),this._closed?a.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise(((e,t)=>{this.safeEmit("@resume",e,t)})).catch((()=>{})),this._observer.safeEmit("resume"))}async replaceTrack(e){let{track:t}=e;if(a.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch(r){}throw new s.InvalidStateError("closed")}if(t&&"ended"===t.readyState)throw new s.InvalidStateError("track ended");t!==this._track?(await new Promise(((e,r)=>{this.safeEmit("@replacetrack",t,e,r)})),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()):a.debug("replaceTrack() | same track, ignored")}async setMaxSpatialLayer(e){if(this._closed)throw new s.InvalidStateError("closed");if("video"!==this._kind)throw new s.UnsupportedError("not a video Producer");if("number"!==typeof e)throw new TypeError("invalid spatialLayer");e!==this._maxSpatialLayer&&(await new Promise(((t,r)=>{this.safeEmit("@setmaxspatiallayer",e,t,r)})).catch((()=>{})),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new s.InvalidStateError("closed");if("object"!==typeof e)throw new TypeError("invalid params");await new Promise(((t,r)=>{this.safeEmit("@setrtpencodingparameters",e,t,r)}))}onTrackEnded(){a.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}t.Producer=o},4357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConsumer=void 0;const n=r(2097),i=r(9642),s=new n.Logger("DataConsumer");class a extends i.EnhancedEventEmitter{_id;_dataProducerId;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=(()=>new i.EnhancedEventEmitter)();constructor(e){let{id:t,dataProducerId:r,dataChannel:n,sctpStreamParameters:i,appData:a}=e;super(),s.debug("constructor()"),this._id=t,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=i,this._appData=a??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(s.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?s.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):s.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(s.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(e=>{this._closed||this.safeEmit("message",e.data)}))}}t.DataConsumer=a},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNative=void 0;const n=r(9640),i=r(2097),s=r(9398),a=r(8988),o=r(5809),c=r(5467),l=r(9613),d=r(2384),u=r(3054),p=new i.Logger("ReactNative"),h={OS:1024,MIS:1024};class f extends d.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdTrack=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new f}constructor(){super()}get name(){return"ReactNative"}close(){if(p.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){p.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:h}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:h}=e;p.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",h),video:o.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",h),video:o.getSendingRemoteRtpParameters("video",h)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){p.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:s}=e;this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&p.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let d,u=await this._pc.createOffer(),h=n.parse(u.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=a.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=o.reduceCodecs(f.codecs);const m=a.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=o.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(p.debug("send() | enabling simulcast"),h=n.parse(u.sdp),d=h.media.find((e=>"video"===e.type)),l.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),u={type:"offer",sdp:n.write(h)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=c.getCname({offerMediaObject:d}),f.encodings=l.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&("video/vp8"===f.codecs[0].mimeType.toLowerCase()||"video/h264"===f.codecs[0].mimeType.toLowerCase()))for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:i});const g={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(y,t),{localId:y,rtpParameters:f}}async stopSending(e){this.assertSendDirection(),p.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void p.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());throw i}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){throw new s.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new s.UnsupportedError("not implemented")}async setRtpEncodingParameters(e,t){throw new s.UnsupportedError("not implemented")}async getSenderStats(e){throw new s.UnsupportedError("not implemented")}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:i,protocol:a};p.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i}=n;p.debug("receive() [trackId:%s, kind:%s]",e,t);const s=t;let o=n.streamId??i.rtcp.cname;p.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),o+=`-hack-${a.generateRandomNumber()}`,r.set(e,o),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:i,streamId:o,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=n.parse(s.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,i=o.media.find((e=>String(e.mid)===r));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}s={type:"answer",sdp:n.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{kind:e,trackId:i,rtpParameters:s}=n,a=i,o=e,c=r.get(i),l=this._pc.getRemoteStreams().find((e=>e.id===c)).getTrackById(a);if(!l)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(a,{mid:o,rtpParameters:s}),t.push({localId:a,track:l})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){p.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new s.UnsupportedError("not implemented")}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:i};p.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=c.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNative=f},4752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FakeHandler=void 0;const n=r(8971),i=r(9642),s=r(2097),a=r(8988),o=r(5809),c=r(9398),l=r(2384),d=new s.Logger("FakeHandler");class u extends i.EnhancedEventEmitter{id;ordered;maxPacketLifeTime;maxRetransmits;label;protocol;constructor(e){let{id:t,ordered:r,maxPacketLifeTime:n,maxRetransmits:i,label:s,protocol:a}=e;super(),this.id=t,this.ordered=r,this.maxPacketLifeTime=n,this.maxRetransmits=i,this.label=s,this.protocol=a}close(){this.safeEmit("close"),this.emit("@close")}send(e){this.safeEmit("message",e)}addEventListener(e,t){this.on(e,t)}}class p extends l.HandlerInterface{_closed=!1;fakeParameters;_rtpParametersByKind;_cname=(()=>`CNAME-${a.generateRandomNumber()}`)();_transportReady=!1;_nextLocalId=1;_tracks=(()=>new Map)();_nextSctpStreamId=0;static createFactory(e){return()=>new p(e)}constructor(e){super(),this.fakeParameters=e}get name(){return"FakeHandler"}close(){d.debug("close()"),this._closed||(this._closed=!0)}setIceGatheringState(e){this.emit("@icegatheringstatechange",e)}setConnectionState(e){this.emit("@connectionstatechange",e)}async getNativeRtpCapabilities(){return d.debug("getNativeRtpCapabilities()"),this.fakeParameters.generateNativeRtpCapabilities()}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),this.fakeParameters.generateNativeSctpCapabilities()}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:c,proprietaryConstraints:l,extendedRtpCapabilities:u}=e;this.assertNotClosed(),d.debug("run()"),this._rtpParametersByKind={audio:o.getSendingRtpParameters("audio",u),video:o.getSendingRtpParameters("video",u)}}async updateIceServers(e){this.assertNotClosed(),d.debug("updateIceServers()")}async restartIce(e){this.assertNotClosed(),d.debug("restartIce()")}async getTransportStats(){return this.assertNotClosed(),new Map}async send(e){let{track:t,encodings:r,codecOptions:n,codec:i}=e;this.assertNotClosed(),d.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"});const s=a.clone(this._rtpParametersByKind[t.kind]),o=s.codecs.some((e=>/.+\/rtx$/i.test(e.mimeType)));s.mid=`mid-${a.generateRandomNumber()}`,r||(r=[{}]);for(const l of r)l.ssrc=a.generateRandomNumber(),o&&(l.rtx={ssrc:a.generateRandomNumber()});s.encodings=r,s.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=this._nextLocalId++;return this._tracks.set(c,t),{localId:String(c),rtpParameters:s}}async stopSending(e){if(d.debug("stopSending() [localId:%s]",e),!this._closed){if(!this._tracks.has(Number(e)))throw new Error("local track not found");this._tracks.delete(Number(e))}}async pauseSending(e){this.assertNotClosed()}async resumeSending(e){this.assertNotClosed()}async replaceTrack(e,t){this.assertNotClosed(),t?d.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):d.debug("replaceTrack() [localId:%s, no track]",e),this._tracks.delete(Number(e)),this._tracks.set(Number(e),t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t)}async getSenderStats(e){return this.assertNotClosed(),new Map}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:s}=e;this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),d.debug("sendDataChannel()");return{dataChannel:new u({id:this._nextSctpStreamId++,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:s}),sctpStreamParameters:{streamId:this._nextSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n}}}async receive(e){this.assertNotClosed();const t=[];for(const r of e){const{trackId:e,kind:i}=r;this._transportReady||await this.setupTransport({localDtlsRole:"client"}),d.debug("receive() [trackId:%s, kind:%s]",e,i);const s=this._nextLocalId++,a=new n.FakeMediaStreamTrack({kind:i});this._tracks.set(s,a),t.push({localId:String(s),track:a})}return t}async stopReceiving(e){if(!this._closed)for(const t of e)d.debug("stopReceiving() [localId:%s]",t),this._tracks.delete(Number(t))}async pauseReceiving(e){this.assertNotClosed()}async resumeReceiving(e){this.assertNotClosed()}async getReceiverStats(e){return this.assertNotClosed(),new Map}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"client"}),d.debug("receiveDataChannel()");return{dataChannel:new u({id:t.streamId,ordered:t.ordered,maxPacketLifeTime:t.maxPacketLifeTime,maxRetransmits:t.maxRetransmits,label:r,protocol:n})}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;const n=a.clone(this.fakeParameters.generateLocalDtlsParameters());t&&(n.role=t),this.emit("@connectionstatechange","connecting"),await new Promise(((e,t)=>this.emit("@connect",{dtlsParameters:n},e,t))),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new c.InvalidStateError("method called in a closed handler")}}t.FakeHandler=p},4892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=void 0;const n=r(6261),i=r(9970),s=new n.Logger("AwaitQueue");t.AwaitQueue=class{pendingTasks=(()=>new Map)();nextTaskId=0;stopping=!1;constructor(){s.debug("constructor()")}get size(){return this.pendingTasks.size}async push(e,t){if(t=t??e.name,s.debug(`push() [name:${t}]`),"function"!==typeof e)throw new TypeError("given task is not a function");if(t)try{Object.defineProperty(e,"name",{value:t})}catch(r){}return new Promise(((r,n)=>{const i={id:this.nextTaskId++,task:e,name:t,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:e=>{if(i.completed)return;i.completed=!0,this.pendingTasks.delete(i.id),s.debug(`resolving task [name:${i.name}]`),r(e);const[t]=this.pendingTasks.values();t&&!t.executedAt&&this.execute(t)},reject:e=>{if(!i.completed&&(i.completed=!0,this.pendingTasks.delete(i.id),s.debug(`rejecting task [name:${i.name}]: %s`,String(e)),n(e),!this.stopping)){const[e]=this.pendingTasks.values();e&&!e.executedAt&&this.execute(e)}}};this.pendingTasks.set(i.id,i),1===this.pendingTasks.size&&this.execute(i)}))}stop(){s.debug("stop()"),this.stopping=!0;for(const e of this.pendingTasks.values())s.debug(`stop() | stopping task [name:${e.name}]`),e.reject(new i.AwaitQueueStoppedError);this.stopping=!1}remove(e){s.debug(`remove() [taskIdx:${e}]`);const t=Array.from(this.pendingTasks.values())[e];t?t.reject(new i.AwaitQueueRemovedTaskError):s.debug(`stop() | no task with given idx [taskIdx:${e}]`)}dump(){const e=Date.now();let t=0;return Array.from(this.pendingTasks.values()).map((r=>({idx:t++,task:r.task,name:r.name,enqueuedTime:r.executedAt?r.executedAt-r.enqueuedAt:e-r.enqueuedAt,executionTime:r.executedAt?e-r.executedAt:0})))}async execute(e){if(s.debug(`execute() [name:${e.name}]`),e.executedAt)throw new Error("task already being executed");e.executedAt=Date.now();try{const t=await e.task();e.resolve(t)}catch(t){e.reject(t)}}}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5237:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,s,a=null;function o(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!o.enabled)return;const s=o,a=Number(new Date),c=a-(r||a);s.diff=c,s.prev=r,s.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!==typeof n[0]&&n.unshift("%O");let l=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,((e,r)=>{if("%%"===e)return"%";l++;const i=t.formatters[r];if("function"===typeof i){const t=n[l];e=i.call(s,t),n.splice(l,1),l--}return e})),t.formatArgs.call(s,n);(s.log||t.log).apply(s,n)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{a=e}}),"function"===typeof t.init&&t.init(o),o}function n(e,r){const n=t(this.namespace+("undefined"===typeof r?":":r)+e);return n.log=this.log,n}function i(e,t){let r=0,n=0,i=-1,s=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,s=r,n++):(r++,n++);else{if(-1===i)return!1;n=i+1,s++,r=s}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"===typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const n of r)"-"===n[0]?t.skips.push(n.slice(1)):t.names.push(n)},t.enabled=function(e){for(const r of t.skips)if(i(e,r))return!1;for(const r of t.names)if(i(e,r))return!0;return!1},t.humanize=r(7340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},5275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataProducer=void 0;const n=r(2097),i=r(9642),s=r(9398),a=new n.Logger("DataProducer");class o extends i.EnhancedEventEmitter{_id;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=(()=>new i.EnhancedEventEmitter)();constructor(e){let{id:t,dataChannel:r,sctpStreamParameters:n,appData:i}=e;super(),a.debug("constructor()"),this._id=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=i??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(a.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(a.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(e){if(a.debug("send()"),this._closed)throw new s.InvalidStateError("closed");this._dataChannel.send(e)}handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(a.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?a.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):a.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(a.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(()=>{this._closed||a.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(()=>{this._closed||this.safeEmit("bufferedamountlow")}))}}t.DataProducer=o},5320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox60=void 0;const n=r(9640),i=r(2097),s=r(9398),a=r(8988),o=r(5809),c=r(5467),l=r(683),d=r(2384),u=r(3054),p=r(3204),h=new i.Logger("Firefox60"),f={OS:16,MIS:2048};class m extends d.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new m}constructor(){super()}get name(){return"Firefox60"}close(){if(h.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const r=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"});const s=e.addTransceiver(r,{direction:"sendrecv"}),a=s.sender.getParameters(),o=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];a.encodings=o,await s.sender.setParameters(a);const l=await e.createOffer();try{t.remove()}catch(i){}try{r.stop()}catch(i){}try{e.close()}catch(i){}const d=n.parse(l.sdp);return c.extractRtpCapabilities({sdpObject:d})}catch(i){try{t.remove()}catch(s){}try{r.stop()}catch(s){}try{e.close()}catch(s){}throw i}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:f}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:p}=e;this.assertNotClosed(),h.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",p),video:o.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",p),video:o.getSendingRemoteRtpParameters("video",p)},this._pc=new RTCPeerConnection({iceServers:a??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){throw this.assertNotClosed(),new s.UnsupportedError("not supported")}async restartIce(e){if(this.assertNotClosed(),h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:s}=e;this.assertNotClosed(),this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&(r=a.clone(r),r.forEach(((e,t)=>{e.rid=`r${t}`})),r.reverse());const d=a.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=o.reduceCodecs(d.codecs,s);const u=a.clone(this._sendingRemoteRtpParametersByKind[t.kind]);u.codecs=o.reduceCodecs(u.codecs,s);const f=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(r){const e=f.sender.getParameters();e.encodings=r,await f.sender.setParameters(e)}const m=await this._pc.createOffer();let g=n.parse(m.sdp);g.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:g});const y=(0,p.parse)((r??[{}])[0].scalabilityMode);h.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const b=f.mid;d.mid=b,g=n.parse(this._pc.localDescription.sdp);const v=g.media[g.media.length-1];if(d.rtcp.cname=c.getCname({offerMediaObject:v}),r)if(1===r.length){const e=l.getRtpEncodings({offerMediaObject:v});Object.assign(e[0],r[0]),d.encodings=e}else d.encodings=r.reverse();else d.encodings=l.getRtpEncodings({offerMediaObject:v});if(d.encodings.length>1&&("video/vp8"===d.codecs[0].mimeType.toLowerCase()||"video/h264"===d.codecs[0].mimeType.toLowerCase()))for(const n of d.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${y.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:v,offerRtpParameters:d,answerRtpParameters:u,codecOptions:i});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(b,f),{localId:b,rtpParameters:d,rtpSender:f.sender}}async stopSending(e){if(this.assertSendDirection(),h.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const r=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated transceiver not found");const n=r.sender.getParameters();t=n.encodings.length-1-t,n.encodings.forEach(((e,r)=>{e.active=r>=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:i,protocol:a};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%f.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i,streamId:s}=n;h.debug("receive() [trackId:%s, kind:%s]",e,t);const a=i.mid??String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:i,streamId:s??i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const a=n.parse(s.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,i=r.get(e),l=a.media.find((e=>String(e.mid)===i));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:l}),s={type:"answer",sdp:n.write(a)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:a}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{trackId:e}=n,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){h.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:i};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=c.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new s.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox60=m},5467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractRtpCapabilities=function(e){let{sdpObject:t}=e;const r=new Map,i=[];let s=!1,a=!1;for(const o of t.media){const e=o.type;switch(e){case"audio":if(s)continue;s=!0;break;case"video":if(a)continue;a=!0;break;default:continue}for(const t of o.rtp){const n={kind:e,mimeType:`${e}/${t.codec}`,preferredPayloadType:t.payload,clockRate:t.rate,channels:t.encoding,parameters:{},rtcpFeedback:[]};r.set(n.preferredPayloadType,n)}for(const t of o.fmtp??[]){const e=n.parseParams(t.config),i=r.get(t.payload);i&&(e?.hasOwnProperty("profile-level-id")&&(e["profile-level-id"]=String(e["profile-level-id"])),i.parameters=e)}for(const t of o.rtcpFb??[]){const n={type:t.type,parameter:t.subtype};if(n.parameter||delete n.parameter,"*"!==t.payload){const e=r.get(t.payload);if(!e)continue;e.rtcpFeedback.push(n)}else for(const t of r.values())t.kind!==e||/.+\/rtx$/i.test(t.mimeType)||t.rtcpFeedback.push(n)}for(const t of o.ext??[]){if(t["encrypt-uri"])continue;const r={kind:e,uri:t.uri,preferredId:t.value};i.push(r)}}return{codecs:Array.from(r.values()),headerExtensions:i}},t.extractDtlsParameters=function(e){let t,{sdpObject:r}=e,n=r.setup,i=r.fingerprint;if(!n||!i){const e=(r.media??[]).find((e=>0!==e.port));e&&(n??=e.setup,i??=e.fingerprint)}if(!n)throw new Error("no a=setup found at SDP session or media level");if(!i)throw new Error("no a=fingerprint found at SDP session or media level");switch(n){case"active":t="client";break;case"passive":t="server";break;case"actpass":t="auto"}return{role:t,fingerprints:[{algorithm:i.type,value:i.hash}]}},t.getCname=function(e){let{offerMediaObject:t}=e;const r=(t.ssrcs??[]).find((e=>"cname"===e.attribute));if(!r)return"";return r.value},t.applyCodecParameters=function(e){let{offerRtpParameters:t,answerMediaObject:r}=e;for(const i of t.codecs){const e=i.mimeType.toLowerCase();if("audio/opus"!==e)continue;if(!(r.rtp??[]).find((e=>e.payload===i.payloadType)))continue;r.fmtp=r.fmtp??[];let t=r.fmtp.find((e=>e.payload===i.payloadType));t||(t={payload:i.payloadType,config:""},r.fmtp.push(t));const s=n.parseParams(t.config);switch(e){case"audio/opus":{const e=i.parameters["sprop-stereo"];void 0!==e&&(s.stereo=Number(e)?1:0);break}}t.config="";for(const r of Object.keys(s))t.config&&(t.config+=";"),t.config+=`${r}=${s[r]}`}};const n=r(9640)},5809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateRtpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)l(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)u(t)},t.validateRtpParameters=c,t.validateSctpStreamParameters=function(e){if("object"!==typeof e)throw new TypeError("params is not an object");if("number"!==typeof e.streamId)throw new TypeError("missing params.streamId");let t=!1;"boolean"===typeof e.ordered?t=!0:e.ordered=!0;if(e.maxPacketLifeTime&&"number"!==typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!==typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1);if(e.label&&"string"!==typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!==typeof e.protocol)throw new TypeError("invalid params.protocol")},t.validateSctpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!==typeof e.numStreams)throw new TypeError("missing caps.numStreams");!function(e){if("object"!==typeof e)throw new TypeError("numStreams is not an object");if("number"!==typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!==typeof e.MIS)throw new TypeError("missing numStreams.MIS")}(e.numStreams)},t.getExtendedRtpCapabilities=function(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs??[]){if(m(n))continue;const t=(e.codecs??[]).find((e=>g(e,n,{strict:!0,modify:!0})));if(!t)continue;const i={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:n.parameters,rtcpFeedback:b(t,n)};r.codecs.push(i)}for(const n of r.codecs){const r=e.codecs.find((e=>m(e)&&e.parameters.apt===n.localPayloadType)),i=t.codecs.find((e=>m(e)&&e.parameters.apt===n.remotePayloadType));r&&i&&(n.localRtxPayloadType=r.preferredPayloadType,n.remoteRtxPayloadType=i.preferredPayloadType)}for(const n of t.headerExtensions){const t=e.headerExtensions.find((e=>y(e,n)));if(!t)continue;const i={kind:n.kind,uri:n.uri,sendId:t.preferredId,recvId:n.preferredId,encrypt:t.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":i.direction="sendrecv";break;case"recvonly":i.direction="sendonly";break;case"sendonly":i.direction="recvonly";break;case"inactive":i.direction="inactive"}r.headerExtensions.push(i)}return r},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs){const e={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(t.codecs.push(e),!r.remoteRtxPayloadType)continue;const n={mimeType:`${r.kind}/rtx`,kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};t.codecs.push(n)}for(const r of e.headerExtensions){if("sendrecv"!==r.direction&&"recvonly"!==r.direction)continue;const e={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};t.headerExtensions.push(e)}return t},t.getSendingRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const t={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(t),n.localRtxPayloadType){const e={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(e)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||"sendrecv"!==n.direction&&"sendonly"!==n.direction)continue;const t={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(t)}return r},t.getSendingRemoteRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const t={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(t),n.localRtxPayloadType){const e={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(e)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||"sendrecv"!==n.direction&&"sendonly"!==n.direction)continue;const t={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(t)}if(r.headerExtensions.some((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri)))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter((e=>"goog-remb"!==e.type));else if(r.headerExtensions.some((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri)))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter((e=>"transport-cc"!==e.type));else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter((e=>"transport-cc"!==e.type&&"goog-remb"!==e.type));return r},t.reduceCodecs=function(e,t){const r=[];if(t){for(let n=0;n<e.length;++n)if(g(e[n],t,{strict:!0})){r.push(e[n]),m(e[n+1])&&r.push(e[n+1]);break}if(0===r.length)throw new TypeError("no matching codec found")}else r.push(e[0]),m(e[1])&&r.push(e[1]);return r},t.generateProbatorRtpParameters=function(e){c(e=i.clone(e));const t={mid:s,codecs:[],headerExtensions:[],encodings:[{ssrc:a}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=o,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((t=>t.kind===e))},t.canReceive=function(e,t){if(c(e),0===e.codecs.length)return!1;const r=e.codecs[0];return t.codecs.some((e=>e.remotePayloadType===r.payloadType))};const n=r(7739),i=r(8988),s="probator",a=1234,o=127;function c(e){if("object"!==typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!==typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)p(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)h(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)f(t);if(e.rtcp&&"object"!==typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),function(e){if("object"!==typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!==typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"===typeof e.reducedSize||(e.reducedSize=!0)}(e.rtcp)}function l(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&"number"!==typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]="",t=""),"string"!==typeof t&&"number"!==typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if("apt"===n&&"number"!==typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)d(n)}function d(e){if("object"!==typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!==typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"===typeof e.parameter||(e.parameter="")}function u(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if("audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!==typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!==typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function p(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if("number"!==typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===r[1].toLowerCase()?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]="",t=""),"string"!==typeof t&&"number"!==typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if("apt"===n&&"number"!==typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)d(n)}function h(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!==typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(void 0===r&&(e.parameters[t]="",r=""),"string"!==typeof r&&"number"!==typeof r)throw new TypeError("invalid header extension parameter")}}function f(e){if("object"!==typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!==typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!==typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!==typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!==typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"===typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!==typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function m(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function g(e,t){let{strict:r=!1,modify:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.mimeType.toLowerCase();if(s!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(s){case"video/h264":if(r){if((e.parameters["packetization-mode"]??0)!==(t.parameters["packetization-mode"]??0))return!1;if(!n.isSameProfile(e.parameters,t.parameters))return!1;let r;try{r=n.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch(a){return!1}i&&(r?(e.parameters["profile-level-id"]=r,t.parameters["profile-level-id"]=r):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break;case"video/vp9":if(r){if((e.parameters["profile-id"]??0)!==(t.parameters["profile-id"]??0))return!1}}return!0}function y(e,t){return(!e.kind||!t.kind||e.kind===t.kind)&&e.uri===t.uri}function b(e,t){const r=[];for(const n of e.rtcpFeedback??[]){const e=(t.rtcpFeedback??[]).find((e=>e.type===n.type&&(e.parameter===n.parameter||!e.parameter&&!n.parameter)));e&&r.push(e)}return r}},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<s(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var o=2*(n+1)-1,c=e[o],l=o+1,d=e[l];if(0>s(c,r))l<i&&0>s(d,c)?(e[n]=d,e[l]=r,n=l):(e[n]=c,e[o]=r,n=o);else{if(!(l<i&&0>s(d,r)))break e;e[n]=d,e[l]=r,n=l}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],d=[],u=1,p=null,h=3,f=!1,m=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=n(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,r(l,t)}t=n(d)}}function S(e){if(g=!1,_(e),!m)if(null!==n(l))m=!0,R||(R=!0,k());else{var t=n(d);null!==t&&I(S,t.startTime-e)}}var k,R=!1,C=-1,P=5,T=-1;function x(){return!!y||!(t.unstable_now()-T<P)}function D(){if(y=!1,R){var e=t.unstable_now();T=e;var r=!0;try{e:{m=!1,g&&(g=!1,v(C),C=-1),f=!0;var s=h;try{t:{for(_(e),p=n(l);null!==p&&!(p.expirationTime>e&&x());){var a=p.callback;if("function"===typeof a){p.callback=null,h=p.priorityLevel;var o=a(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){p.callback=o,_(e),r=!0;break t}p===n(l)&&i(l),_(e)}else i(l);p=n(l)}if(null!==p)r=!0;else{var c=n(d);null!==c&&I(S,c.startTime-e),r=!1}}break e}finally{p=null,h=s,f=!1}r=void 0}}finally{r?k():R=!1}}}if("function"===typeof w)k=function(){w(D)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,L=E.port2;E.port1.onmessage=D,k=function(){L.postMessage(null)}}else k=function(){b(D,0)};function I(e,r){C=b((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,r(d,e),null===n(l)&&e===n(d)&&(g?(v(C),C=-1):g=!0,I(S,s-a))):(e.sortIndex=o,r(l,e),m||f||(m=!0,R||(R=!0,k()))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},5942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){return void 0===e?void 0:Number.isNaN(e)?NaN:"function"===typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}},6230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome67=void 0;const n=r(9640),i=r(2097),s=r(8988),a=r(5809),o=r(5467),c=r(9613),l=r(2384),d=r(3054),u=new i.Logger("Chrome67"),p={OS:1024,MIS:1024};class h extends l.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdRtpSender=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new h}constructor(){super()}get name(){return"Chrome67"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return o.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:p,extendedRtpCapabilities:h}=e;u.debug("run()"),this._direction=t,this._remoteSdp=new d.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",h),video:a.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",h),video:a.getSendingRemoteRtpParameters("video",h)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...l},p),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(u.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:l}=e;this.assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),l&&u.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let d,p=await this._pc.createOffer(),h=n.parse(p.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=s.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=a.reduceCodecs(f.codecs);const m=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=a.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(u.debug("send() | enabling simulcast"),h=n.parse(p.sdp),d=h.media.find((e=>"video"===e.type)),c.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),p={type:"offer",sdp:n.write(h)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=o.getCname({offerMediaObject:d}),f.encodings=c.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:i});const g={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);this._nextSendLocalId++;const b=this._pc.getSenders().find((e=>e.track===t));return this._mapSendLocalIdRtpSender.set(y,b),{localId:y,rtpParameters:f,rtpSender:b}}async stopSending(e){this.assertSendDirection(),u.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void u.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());throw i}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?u.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):u.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),u.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),u.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:i,protocol:a};u.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[];for(const n of e){const{trackId:e,kind:t,rtpParameters:r,streamId:i}=n;u.debug("receive() [trackId:%s, kind:%s]",e,t);const s=t;this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:r,streamId:i??r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,i=s.media.find((e=>String(e.mid)===r));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{kind:e,trackId:r,rtpParameters:i}=n,s=r,a=e,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===s));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(s,{mid:a,rtpParameters:i,rtpReceiver:o}),t.push({localId:s,track:o.track,rtpReceiver:o})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){u.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)??{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:i};u.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=o.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome67=h},6261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(6522),i="awaitqueue";t.Logger=class{_debug;_warn;_error;constructor(e){e?(this._debug=n(`${i}:${e}`),this._warn=n(`${i}:WARN:${e}`),this._error=n(`${i}:ERROR:${e}`)):(this._debug=n(i),this._warn=n(`${i}:WARN`),this._error=n(`${i}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},6321:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},6522:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(5237)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},6605:(e,t,r)=>{var n=r(6321),i=/%[sdv%]/g,s=function(e){var t=1,r=arguments,n=r.length;return e.replace(i,(function(e){if(t>=n)return e;var i=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},a=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?n.push(r[t.name][a]):n.push(r[t.names[i]])}else n.push(r[t.name]);return s.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||o,i=t.innerOrder||c,s=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?s.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){s.push(a(t,r,e))}))}))})),e.media.forEach((function(e){s.push(a("m",n.m[0],e)),i.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?s.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){s.push(a(t,r,e))}))}))}))})),s.join("\r\n")+"\r\n"}},6672:(e,t,r)=>{"use strict";var n=r(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=c.T,r=a.p;try{if(c.T=null,a.p=2,e)return e()}finally{c.T=t,a.p=r,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:s}):"script"===r&&a.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=l(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin);a.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=l(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return c.H.useFormState(e,t,r)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.0"},7004:(e,t,r)=>{"use strict";var n=r(8853),i=r(5043),s=r(7950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(a(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var D=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case _:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return I(e(t))}catch(r){}}return null}var O=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},A=[],F=-1;function z(e){return{current:e}}function B(e){0>F||(e.current=A[F],A[F]=null,F--)}function $(e,t){F++,A[F]=e.current,e.current=t}var U=z(null),H=z(null),q=z(null),V=z(null);function K(e,t){switch($(q,t),$(H,e),$(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?iu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=su(t=iu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),$(U,e)}function Q(){B(U),B(H),B(q)}function W(e){null!==e.memoizedState&&$(V,e);var t=U.current,r=su(t,e.type);t!==r&&($(H,e),$(U,r))}function G(e){H.current===e&&(B(U),B(H)),V.current===e&&(B(V),Wu._currentValue=j)}var Y=Object.prototype.hasOwnProperty,X=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ie=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ae=n.unstable_LowPriority,oe=n.unstable_IdlePriority,ce=n.log,le=n.unstable_setDisableYieldValue,de=null,ue=null;function pe(e){if("function"===typeof ce&&le(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ve(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~s)?i=be(n):0!==(a&=o)?i=be(a):r||0!==(r=o&~e)&&(i=be(r)):0!==(o=n&~s)?i=be(o):0!==a?i=be(a):r||0!==(r=n&~e)&&(i=be(r)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(r=t&-t)||32===s&&0!==(4194048&r))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Re(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-he(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Te(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-he(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function xe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ee(){var e=N.p;return 0!==e?e:void 0===(e=window.event)?32:lp(e.type)}var Le=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Le,Oe="__reactProps$"+Le,Me="__reactContainer$"+Le,Ne="__reactEvents$"+Le,je="__reactListeners$"+Le,Ae="__reactHandles$"+Le,Fe="__reactResources$"+Le,ze="__reactMarker$"+Le;function Be(e){delete e[Ie],delete e[Oe],delete e[Ne],delete e[je],delete e[Ae]}function $e(e){var t=e[Ie];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Me]||r[Ie]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=vu(e);null!==e;){if(r=e[Ie])return r;e=vu(e)}return t}r=(e=r).parentNode}return null}function Ue(e){if(e=e[Ie]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[ze]=!0}var Ke=new Set,Qe={};function We(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var i}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function it(e){if(void 0===Ye)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(i){var n=i}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){n=s}e.call(r.prototype)}}else{try{throw Error()}catch(a){n=a}(r=e())&&"function"===typeof r.catch&&r.catch((function(){}))}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var c=a.split("\n"),l=o.split("\n");for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===l.length)for(n=c.length-1,i=l.length-1;1<=n&&0<=i&&c[n]!==l[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==l[i]){if(1!==n||1!==i)do{if(n--,0>--i||c[n]!==l[i]){var d="\n"+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?it(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function ct(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dt(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,r,n,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?bt(e,a,lt(t)):null!=r?bt(e,a,lt(r)):null!=n&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+lt(o):e.removeAttribute("name")}function yt(e,t,r,n,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;r=null!=r?""+lt(r):"",t=null!=t?""+lt(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:i)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function bt(e,t,r){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function vt(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,r){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+lt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(a(92));if(O(n)){if(1<n.length)throw Error(a(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=lt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function St(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||kt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ct(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&Rt(e,i,n)}else for(var s in t)t.hasOwnProperty(s)&&Rt(e,s,t[s])}function Pt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Et=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Ot=null;function Mt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var r=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[Oe]||null;if(!i)throw Error(a(90));gt(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&pt(n)}break e;case"textarea":wt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&vt(e,!!r.multiple,t,!1)}}}var Nt=!1;function jt(e,t,r){if(Nt)return e(t,r);Nt=!0;try{return e(t)}finally{if(Nt=!1,(null!==It||null!==Ot)&&($l(),It&&(t=It,e=Ot,Ot=It=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function At(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Oe]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Op){zt=!1}var $t=null,Ut=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,r=Ut,n=r.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[s-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Qt(){return!1}function Wt(e){function t(t,r,n,i,s){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Gt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Wt(Jt),er=p({},Jt,{view:0,detail:0}),tr=Wt(er),rr=p({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Gt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Gt=0,Xt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nr=Wt(rr),ir=Wt(p({},rr,{dataTransfer:0})),sr=Wt(p({},er,{relatedTarget:0})),ar=Wt(p({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Wt(p({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cr=Wt(p({},Jt,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ur[e])&&!!t[e]}function hr(){return pr}var fr=Wt(p({},er,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mr=Wt(p({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Wt(p({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),yr=Wt(p({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),br=Wt(p({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vr=Wt(p({},Jt,{newState:0,oldState:0})),wr=[9,13,27,32],_r=Ft&&"CompositionEvent"in window,Sr=null;Ft&&"documentMode"in document&&(Sr=document.documentMode);var kr=Ft&&"TextEvent"in window&&!Sr,Rr=Ft&&(!_r||Sr&&8<Sr&&11>=Sr),Cr=String.fromCharCode(32),Pr=!1;function Tr(e,t){switch(e){case"keyup":return-1!==wr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dr=!1;var Er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Er[e.type]:"textarea"===t}function Ir(e,t,r,n){It?Ot?Ot.push(n):Ot=[n]:It=n,0<(t=qd(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Or=null,Mr=null;function Nr(e){jd(e,0)}function jr(e){if(pt(He(e)))return e}function Ar(e,t){if("change"===e)return t}var Fr=!1;if(Ft){var zr;if(Ft){var Br="oninput"in document;if(!Br){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),Br="function"===typeof $r.oninput}zr=Br}else zr=!1;Fr=zr&&(!document.documentMode||9<document.documentMode)}function Ur(){Or&&(Or.detachEvent("onpropertychange",Hr),Mr=Or=null)}function Hr(e){if("value"===e.propertyName&&jr(Mr)){var t=[];Ir(t,Mr,e,Lt(e)),jt(Nr,t)}}function qr(e,t,r){"focusin"===e?(Ur(),Mr=r,(Or=t).attachEvent("onpropertychange",Hr)):"focusout"===e&&Ur()}function Vr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jr(Mr)}function Kr(e,t){if("click"===e)return jr(t)}function Qr(e,t){if("input"===e||"change"===e)return jr(t)}var Wr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Gr(e,t){if(Wr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Y.call(t,i)||!Wr(e[i],t[i]))return!1}return!0}function Yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var r,n=Yr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yr(n)}}function Jr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ht((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Ft&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,sn=null,an=!1;function on(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;an||null==rn||rn!==ht(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},sn&&Gr(sn,n)||(sn=n,0<(n=qd(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function cn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},dn={},un={};function pn(e){if(dn[e])return dn[e];if(!ln[e])return e;var t,r=ln[e];for(t in r)if(r.hasOwnProperty(t)&&t in un)return dn[e]=r[t];return e}Ft&&(un=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var hn=pn("animationend"),fn=pn("animationiteration"),mn=pn("animationstart"),gn=pn("transitionrun"),yn=pn("transitionstart"),bn=pn("transitioncancel"),vn=pn("transitionend"),wn=new Map,_n="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){wn.set(e,t),We(t,[e])}_n.push("scrollEnd");var kn=new WeakMap;function Rn(e,t){if("object"===typeof e&&null!==e){var r=kn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:ct(t)},kn.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var Cn=[],Pn=0,Tn=0;function xn(){for(var e=Pn,t=Tn=Pn=0;t<e;){var r=Cn[t];Cn[t++]=null;var n=Cn[t];Cn[t++]=null;var i=Cn[t];Cn[t++]=null;var s=Cn[t];if(Cn[t++]=null,null!==n&&null!==i){var a=n.pending;null===a?i.next=i:(i.next=a.next,a.next=i),n.pending=i}0!==s&&In(r,i,s)}}function Dn(e,t,r,n){Cn[Pn++]=e,Cn[Pn++]=t,Cn[Pn++]=r,Cn[Pn++]=n,Tn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function En(e,t,r,n){return Dn(e,t,r,n),On(e)}function Ln(e,t){return Dn(e,null,null,t),On(e)}function In(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var i=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(n=s.alternate)&&(n.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-he(r),null===(n=(e=s.hiddenUpdates)[i])?e[i]=[t]:n.push(t),t.lane=536870912|r),s):null}function On(e){if(50<Il)throw Il=0,Ol=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Nn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,r,n){return new Nn(e,t,r,n)}function An(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=jn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bn(e,t,r,n,i,s){var o=0;if(n=e,"function"===typeof e)An(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=jn(31,r,t,i)).elementType=T,e.lanes=s,e;case g:return $n(r.children,i,s,t);case y:o=8,i|=24;break;case b:return(e=jn(12,r,t,2|i)).elementType=b,e.lanes=s,e;case k:return(e=jn(13,r,t,i)).elementType=k,e.lanes=s,e;case R:return(e=jn(19,r,t,i)).elementType=R,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case v:case _:o=10;break e;case w:o=9;break e;case S:o=11;break e;case C:o=14;break e;case P:o=16,n=null;break e}o=29,r=Error(a(130,null===e?"null":typeof e,"")),n=null}return(t=jn(o,r,t,i)).elementType=e,t.type=n,t.lanes=s,t}function $n(e,t,r,n){return(e=jn(7,e,n,t)).lanes=r,e}function Un(e,t,r){return(e=jn(6,e,null,t)).lanes=r,e}function Hn(e,t,r){return(t=jn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qn=[],Vn=0,Kn=null,Qn=0,Wn=[],Gn=0,Yn=null,Xn=1,Jn="";function Zn(e,t){qn[Vn++]=Qn,qn[Vn++]=Kn,Kn=e,Qn=t}function ei(e,t,r){Wn[Gn++]=Xn,Wn[Gn++]=Jn,Wn[Gn++]=Yn,Yn=e;var n=Xn;e=Jn;var i=32-he(n)-1;n&=~(1<<i),r+=1;var s=32-he(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Xn=1<<32-he(t)+i|r<<i|n,Jn=s+e}else Xn=1<<s|r<<i|n,Jn=e}function ti(e){null!==e.return&&(Zn(e,1),ei(e,1,0))}function ri(e){for(;e===Kn;)Kn=qn[--Vn],qn[Vn]=null,Qn=qn[--Vn],qn[Vn]=null;for(;e===Yn;)Yn=Wn[--Gn],Wn[Gn]=null,Jn=Wn[--Gn],Wn[Gn]=null,Xn=Wn[--Gn],Wn[Gn]=null}var ni=null,ii=null,si=!1,ai=null,oi=!1,ci=Error(a(519));function li(e){throw mi(Rn(Error(a(418,"")),e)),ci}function di(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Ie]=e,t[Oe]=n,r){case"dialog":Ad("cancel",t),Ad("close",t);break;case"iframe":case"object":case"embed":Ad("load",t);break;case"video":case"audio":for(r=0;r<Md.length;r++)Ad(Md[r],t);break;case"source":Ad("error",t);break;case"img":case"image":case"link":Ad("error",t),Ad("load",t);break;case"details":Ad("toggle",t);break;case"input":Ad("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ut(t);break;case"select":Ad("invalid",t);break;case"textarea":Ad("invalid",t),_t(t,n.value,n.defaultValue,n.children),ut(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Yd(t.textContent,r)?(null!=n.popover&&(Ad("beforetoggle",t),Ad("toggle",t)),null!=n.onScroll&&Ad("scroll",t),null!=n.onScrollEnd&&Ad("scrollend",t),null!=n.onClick&&(t.onclick=Xd),t=!0):t=!1,t||li(e)}function ui(e){for(ni=e.return;ni;)switch(ni.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ni=ni.return}}function pi(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||au(e.type,e.memoizedProps)),t=!t),t&&ii&&li(e),ui(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){ii=yu(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}ii=null}}else 27===r?(r=ii,hu(e.type)?(e=bu,bu=null,ii=e):ii=r):ii=ni?yu(e.stateNode.nextSibling):null;return!0}function hi(){ii=ni=null,si=!1}function fi(){var e=ai;return null!==e&&(null===vl?vl=e:vl.push.apply(vl,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=z(null),yi=null,bi=null;function vi(e,t,r){$(gi,t._currentValue),t._currentValue=r}function wi(e){e._currentValue=gi.current,B(gi)}function _i(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Si(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),_i(s.return,r,e),n||(o=null);break e}s=c.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),_i(o,r,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ki(e,t,r,n){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var c=i.type;Wr(i.pendingProps.value,o.value)||(null!==e?e.push(c):e=[c])}}else if(i===V.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Wu):e=[Wu])}i=i.return}null!==e&&Si(t,e,r,n),t.flags|=262144}function Ri(e){for(e=e.firstContext;null!==e;){if(!Wr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){yi=e,bi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return xi(yi,e)}function Ti(e,t){return null===yi&&Ci(e),xi(e,t)}function xi(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===bi){if(null===e)throw Error(a(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return r}var Di="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ei=n.unstable_scheduleCallback,Li=n.unstable_NormalPriority,Ii={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Di,data:new Map,refCount:0}}function Mi(e){e.refCount--,0===e.refCount&&Ei(Li,(function(){e.controller.abort()}))}var Ni=null,ji=0,Ai=0,Fi=null;function zi(){if(0===--ji&&null!==Ni){null!==Fi&&(Fi.status="fulfilled");var e=Ni;Ni=null,Ai=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ni){var r=Ni=[];ji=0,Ai=Dd(),Fi={status:"pending",value:void 0,then:function(e){r.push(e)}}}ji++,t.then(zi,zi)}(0,t),null!==Bi&&Bi(e,t)};var $i=z(null);function Ui(){var e=$i.current;return null!==e?e:nl.pooledCache}function Hi(e,t){$($i,null===t?$i.current:t.pool)}function qi(){var e=Ui();return null===e?null:{parent:Ii._currentValue,pool:e}}var Vi=Error(a(460)),Ki=Error(a(474)),Qi=Error(a(542)),Wi={then:function(){}};function Gi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Yi,Yi),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=nl)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}}),(function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Ji=t,Vi}}var Ji=null;function Zi(){if(null===Ji)throw Error(a(459));var e=Ji;return Ji=null,e}function es(e){if(e===Vi||e===Qi)throw Error(a(483))}var ts=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=On(e),In(e,null,r),t}return Dn(e,n,t,r),On(e)}function as(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Te(e,r)}}function os(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var a={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,r=r.next}while(null!==r);null===s?i=s=t:s=s.next=t}else i=s=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var cs=!1;function ls(){if(cs){if(null!==Fi)throw Fi}}function ds(e,t,r,n){cs=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=c))}if(null!==s){var u=i.baseState;for(a=0,d=l=c=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(sl&h)===h:(n&h)===h){0!==h&&h===Ai&&(cs=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var y=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(y,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,u,h):m)||void 0===h)break e;u=p({},u,h);break e;case 2:ts=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=f,c=u):d=d.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===d&&(c=u),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=d,null===s&&(i.shared.lanes=0),hl|=a,e.lanes=a,e.memoizedState=u}}function us(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function ps(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)us(r[e],t)}var hs=z(null),fs=z(0);function ms(e,t){$(fs,e=ul),$(hs,t),ul=e|t.baseLanes}function gs(){$(fs,ul),$(hs,hs.current)}function ys(){ul=fs.current,B(hs),B(fs)}var bs=0,vs=null,ws=null,_s=null,Ss=!1,ks=!1,Rs=!1,Cs=0,Ps=0,Ts=null,xs=0;function Ds(){throw Error(a(321))}function Es(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wr(e[r],t[r]))return!1;return!0}function Ls(e,t,r,n,i,s){return bs=s,vs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Va:Ka,Rs=!1,s=r(n,i),Rs=!1,ks&&(s=Os(t,r,n,i)),Is(e),s}function Is(e){M.H=qa;var t=null!==ws&&null!==ws.next;if(bs=0,_s=ws=vs=null,Ss=!1,Ps=0,Ts=null,t)throw Error(a(300));null===e||To||null!==(e=e.dependencies)&&Ri(e)&&(To=!0)}function Os(e,t,r,n){vs=e;var i=0;do{if(ks&&(Ts=null),Ps=0,ks=!1,25<=i)throw Error(a(301));if(i+=1,_s=ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}M.H=Qa,s=t(r,n)}while(ks);return s}function Ms(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Bs(t):t,e=e.useState()[0],(null!==ws?ws.memoizedState:null)!==e&&(vs.flags|=1024),t}function Ns(){var e=0!==Cs;return Cs=0,e}function js(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function As(e){if(Ss){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ss=!1}bs=0,_s=ws=vs=null,ks=!1,Ps=Cs=0,Ts=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_s?vs.memoizedState=_s=e:_s=_s.next=e,_s}function zs(){if(null===ws){var e=vs.alternate;e=null!==e?e.memoizedState:null}else e=ws.next;var t=null===_s?vs.memoizedState:_s.next;if(null!==t)_s=t,ws=e;else{if(null===e){if(null===vs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ws=e).memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},null===_s?vs.memoizedState=_s=e:_s=_s.next=e}return _s}function Bs(e){var t=Ps;return Ps+=1,null===Ts&&(Ts=[]),e=Xi(Ts,e,t),t=vs,null===(null===_s?t.memoizedState:_s.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Va:Ka),e}function $s(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bs(e);if(e.$$typeof===_)return Pi(e)}throw Error(a(438,String(e)))}function Us(e){var t=null,r=vs.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=vs.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},vs.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=x;return t.index++,r}function Hs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Vs(zs(),ws,e)}function Vs(e,t,r){var n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=r;var i=e.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,n.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var c=o=null,l=null,d=t=i.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(sl&p)===p:(bs&p)===p){var h=d.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Ai&&(u=!0);else{if((bs&h)===h){d=d.next,h===Ai&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===l?(c=l=p,o=s):l=l.next=p,vs.lanes|=h,hl|=h}p=d.action,Rs&&r(s,p),s=d.hasEagerState?d.eagerState:r(s,p)}else h={lane:p,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===l?(c=l=h,o=s):l=l.next=h,vs.lanes|=p,hl|=p;d=d.next}while(null!==d&&d!==t);if(null===l?o=s:l.next=c,!Wr(s,e.memoizedState)&&(To=!0,u&&null!==(r=Fi)))throw r;e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}return null===i&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ks(e){var t=zs(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(null!==i){r.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Wr(s,t.memoizedState)||(To=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Qs(e,t,r){var n=vs,i=zs(),s=si;if(s){if(void 0===r)throw Error(a(407));r=r()}else r=t();var o=!Wr((ws||i).memoizedState,r);if(o&&(i.memoizedState=r,To=!0),i=i.queue,ga(2048,8,Ys.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==_s&&1&_s.memoizedState.tag){if(n.flags|=2048,ha(9,{destroy:void 0,resource:void 0},Gs.bind(null,n,i,r,t),null),null===nl)throw Error(a(349));s||0!==(124&bs)||Ws(n,t,r)}return r}function Ws(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=vs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},vs.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Gs(e,t,r,n){t.value=r,t.getSnapshot=n,Xs(t)&&Js(e)}function Ys(e,t,r){return r((function(){Xs(t)&&Js(e)}))}function Xs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wr(e,r)}catch(n){return!0}}function Js(e){var t=Ln(e,2);null!==t&&jl(t,e,2)}function Zs(e){var t=Fs();if("function"===typeof e){var r=e;if(e=r(),Rs){pe(!0);try{r()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ea(e,t,r,n){return e.baseState=r,Vs(e,ws,"function"===typeof n?n:Hs)}function ta(e,t,r,n,i){if($a(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==M.T?r(!0):s.isTransition=!1,n(s),null===(r=t.pending)?(s.next=t.pending=s,ra(t,s)):(s.next=r.next,t.pending=r.next=s)}}function ra(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var s=M.T,a={};M.T=a;try{var o=r(i,n),c=M.S;null!==c&&c(a,o),na(e,t,o)}catch(l){sa(e,t,l)}finally{M.T=s}}else try{na(e,t,s=r(i,n))}catch(d){sa(e,t,d)}}function na(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then((function(r){ia(e,t,r)}),(function(r){return sa(e,t,r)})):ia(e,t,r)}function ia(e,t,r){t.status="fulfilled",t.value=r,aa(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ra(e,r)))}function sa(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,aa(t),t=t.next}while(t!==n)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function ca(e,t){if(si){var r=nl.formState;if(null!==r){e:{var n=vs;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=yu(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=yu(i.nextSibling),n="F!"===i.data;break e}}li(n)}n=!1}n&&(t=r[0])}}return(r=Fs()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},r.queue=n,r=Fa.bind(null,vs,n),n.dispatch=r,n=Zs(!1),s=Ba.bind(null,vs,!1,n.queue),i={state:t,dispatch:null,action:e,pending:null},(n=Fs()).queue=i,r=ta.bind(null,vs,i,s,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function la(e){return da(zs(),ws,e)}function da(e,t,r){if(t=Vs(e,t,oa)[0],e=qs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Bs(t)}catch(a){if(a===Vi)throw Qi;throw a}else n=t;var i=(t=zs()).queue,s=i.dispatch;return r!==t.memoizedState&&(vs.flags|=2048,ha(9,{destroy:void 0,resource:void 0},ua.bind(null,i,r),null)),[n,s,e]}function ua(e,t){e.action=t}function pa(e){var t=zs(),r=ws;if(null!==r)return da(t,r,e);zs(),t=t.memoizedState;var n=(r=zs()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function ha(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=vs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},vs.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function fa(){return zs().memoizedState}function ma(e,t,r,n){var i=Fs();n=void 0===n?null:n,vs.flags|=e,i.memoizedState=ha(1|t,{destroy:void 0,resource:void 0},r,n)}function ga(e,t,r,n){var i=zs();n=void 0===n?null:n;var s=i.memoizedState.inst;null!==ws&&null!==n&&Es(n,ws.memoizedState.deps)?i.memoizedState=ha(t,s,r,n):(vs.flags|=e,i.memoizedState=ha(1|t,s,r,n))}function ya(e,t){ma(8390656,8,e,t)}function ba(e,t){ga(2048,8,e,t)}function va(e,t){return ga(4,2,e,t)}function wa(e,t){return ga(4,4,e,t)}function _a(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,ga(4,4,_a.bind(null,t,e),r)}function ka(){}function Ra(e,t){var r=zs();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Es(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ca(e,t){var r=zs();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Es(t,n[1]))return n[0];if(n=e(),Rs){pe(!0);try{e()}finally{pe(!1)}}return r.memoizedState=[n,t],n}function Pa(e,t,r){return void 0===r||0!==(1073741824&bs)?e.memoizedState=t:(e.memoizedState=r,e=Nl(),vs.lanes|=e,hl|=e,r)}function Ta(e,t,r,n){return Wr(r,t)?r:null!==hs.current?(e=Pa(e,r,n),Wr(e,t)||(To=!0),e):0===(42&bs)?(To=!0,e.memoizedState=r):(e=Nl(),vs.lanes|=e,hl|=e,t)}function xa(e,t,r,n,i){var s=N.p;N.p=0!==s&&8>s?s:8;var a=M.T,o={};M.T=o,Ba(e,!1,t,r);try{var c=i(),l=M.S;if(null!==l&&l(o,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)za(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then((function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)}),(function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)})),n}(c,n),Ml());else za(e,t,n,Ml())}catch(d){za(e,t,{then:function(){},status:"rejected",reason:d},Ml())}finally{N.p=s,M.T=a}}function Da(){}function Ea(e,t,r,n){if(5!==e.tag)throw Error(a(476));var i=La(e).queue;xa(e,i,t,j,null===r?Da:function(){return Ia(e),r(n)})}function La(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:j},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ia(e){za(e,La(e).next.queue,{},Ml())}function Oa(){return Pi(Wu)}function Ma(){return zs().memoizedState}function Na(){return zs().memoizedState}function ja(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Ml(),n=ss(t,e=is(r),r);return null!==n&&(jl(n,t,r),as(n,t,r)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function Aa(e,t,r){var n=Ml();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},$a(e)?Ua(t,r):null!==(r=En(e,t,r,n))&&(jl(r,e,n),Ha(r,t,n))}function Fa(e,t,r){za(e,t,r,Ml())}function za(e,t,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if($a(e))Ua(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Wr(o,a))return Dn(e,t,i,0),null===nl&&xn(),!1}catch(c){}if(null!==(r=En(e,t,i,n)))return jl(r,e,n),Ha(r,t,n),!0}return!1}function Ba(e,t,r,n){if(n={lane:2,revertLane:Dd(),action:n,hasEagerState:!1,eagerState:null,next:null},$a(e)){if(t)throw Error(a(479))}else null!==(t=En(e,r,n,2))&&jl(t,e,2)}function $a(e){var t=e.alternate;return e===vs||null!==t&&t===vs}function Ua(e,t){ks=Ss=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ha(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Te(e,r)}}var qa={readContext:Pi,use:$s,useCallback:Ds,useContext:Ds,useEffect:Ds,useImperativeHandle:Ds,useLayoutEffect:Ds,useInsertionEffect:Ds,useMemo:Ds,useReducer:Ds,useRef:Ds,useState:Ds,useDebugValue:Ds,useDeferredValue:Ds,useTransition:Ds,useSyncExternalStore:Ds,useId:Ds,useHostTransitionStatus:Ds,useFormState:Ds,useActionState:Ds,useOptimistic:Ds,useMemoCache:Ds,useCacheRefresh:Ds},Va={readContext:Pi,use:$s,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:ya,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,ma(4194308,4,_a.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var r=Fs();t=void 0===t?null:t;var n=e();if(Rs){pe(!0);try{e()}finally{pe(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Fs();if(void 0!==r){var i=r(t);if(Rs){pe(!0);try{r(t)}finally{pe(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Aa.bind(null,vs,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,r=Fa.bind(null,vs,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ka,useDeferredValue:function(e,t){return Pa(Fs(),e,t)},useTransition:function(){var e=Zs(!1);return e=xa.bind(null,vs,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=vs,i=Fs();if(si){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===nl)throw Error(a(349));0!==(124&sl)||Ws(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,ya(Ys.bind(null,n,s,e),[e]),n.flags|=2048,ha(9,{destroy:void 0,resource:void 0},Gs.bind(null,n,s,r,t),null),r},useId:function(){var e=Fs(),t=nl.identifierPrefix;if(si){var r=Jn;t="\xab"+t+"R"+(r=(Xn&~(1<<32-he(Xn)-1)).toString(32)+r),0<(r=Cs++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=xs++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oa,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Ba.bind(null,vs,!0,r),r.dispatch=t,[e,t]},useMemoCache:Us,useCacheRefresh:function(){return Fs().memoizedState=ja.bind(null,vs)}},Ka={readContext:Pi,use:$s,useCallback:Ra,useContext:Pi,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:va,useLayoutEffect:wa,useMemo:Ca,useReducer:qs,useRef:fa,useState:function(){return qs(Hs)},useDebugValue:ka,useDeferredValue:function(e,t){return Ta(zs(),ws.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=zs().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:Qs,useId:Ma,useHostTransitionStatus:Oa,useFormState:la,useActionState:la,useOptimistic:function(e,t){return ea(zs(),0,e,t)},useMemoCache:Us,useCacheRefresh:Na},Qa={readContext:Pi,use:$s,useCallback:Ra,useContext:Pi,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:va,useLayoutEffect:wa,useMemo:Ca,useReducer:Ks,useRef:fa,useState:function(){return Ks(Hs)},useDebugValue:ka,useDeferredValue:function(e,t){var r=zs();return null===ws?Pa(r,e,t):Ta(r,ws.memoizedState,e,t)},useTransition:function(){var e=Ks(Hs)[0],t=zs().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:Qs,useId:Ma,useHostTransitionStatus:Oa,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var r=zs();return null!==ws?ea(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Us,useCacheRefresh:Na},Wa=null,Ga=0;function Ya(e){var t=Ga;return Ga+=1,null===Wa&&(Wa=[]),Xi(Wa,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===h)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Un(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var s=r.type;return s===g?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Za(s)===t.type)?(Xa(t=i(t,r.props),r),t.return=e,t):(Xa(t=Bn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Hn(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=$n(r,e.mode,n,s)).return=e,t):((t=i(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Un(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Xa(r=Bn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=Hn(t,e.mode,r)).return=e,t;case P:return p(e,t=(0,t._init)(t._payload),r)}if(O(t)||E(t))return(t=$n(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return p(e,Ya(t),r);if(t.$$typeof===_)return p(e,Ti(e,t),r);Ja(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==i?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return r.key===i?l(e,t,r,n):null;case m:return r.key===i?d(e,t,r,n):null;case P:return h(e,t,r=(i=r._init)(r._payload),n)}if(O(r)||E(r))return null!==i?null:u(e,t,r,n,null);if("function"===typeof r.then)return h(e,t,Ya(r),n);if(r.$$typeof===_)return h(e,t,Ti(e,r),n);Ja(e,r)}return null}function y(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case m:return d(t,e=e.get(null===n.key?r:n.key)||null,n,i);case P:return y(e,t,r,n=(0,n._init)(n._payload),i)}if(O(n)||E(n))return u(t,e=e.get(r)||null,n,i,null);if("function"===typeof n.then)return y(e,t,r,Ya(n),i);if(n.$$typeof===_)return y(e,t,r,Ti(t,n),i);Ja(t,n)}return null}function b(c,l,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var v=d.key;null!==l;){if(l.key===v){if((v=d.type)===g){if(7===l.tag){r(c,l.sibling),(u=i(l,d.props.children)).return=c,c=u;break e}}else if(l.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===P&&Za(v)===l.type){r(c,l.sibling),Xa(u=i(l,d.props),d),u.return=c,c=u;break e}r(c,l);break}t(c,l),l=l.sibling}d.type===g?((u=$n(d.props.children,c.mode,u,d.key)).return=c,c=u):(Xa(u=Bn(d.type,d.key,d.props,null,c.mode,u),d),u.return=c,c=u)}return o(c);case m:e:{for(v=d.key;null!==l;){if(l.key===v){if(4===l.tag&&l.stateNode.containerInfo===d.containerInfo&&l.stateNode.implementation===d.implementation){r(c,l.sibling),(u=i(l,d.children||[])).return=c,c=u;break e}r(c,l);break}t(c,l),l=l.sibling}(u=Hn(d,c.mode,u)).return=c,c=u}return o(c);case P:return b(c,l,d=(v=d._init)(d._payload),u)}if(O(d))return function(i,a,o,c){for(var l=null,d=null,u=a,f=a=0,m=null;null!==u&&f<o.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var g=h(i,u,o[f],c);if(null===g){null===u&&(u=m);break}e&&u&&null===g.alternate&&t(i,u),a=s(g,a,f),null===d?l=g:d.sibling=g,d=g,u=m}if(f===o.length)return r(i,u),si&&Zn(i,f),l;if(null===u){for(;f<o.length;f++)null!==(u=p(i,o[f],c))&&(a=s(u,a,f),null===d?l=u:d.sibling=u,d=u);return si&&Zn(i,f),l}for(u=n(u);f<o.length;f++)null!==(m=y(u,i,f,o[f],c))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),a=s(m,a,f),null===d?l=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(i,e)})),si&&Zn(i,f),l}(c,l,d,u);if(E(d)){if("function"!==typeof(v=E(d)))throw Error(a(150));return function(i,o,c,l){if(null==c)throw Error(a(151));for(var d=null,u=null,f=o,m=o=0,g=null,b=c.next();null!==f&&!b.done;m++,b=c.next()){f.index>m?(g=f,f=null):g=f.sibling;var v=h(i,f,b.value,l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),o=s(v,o,m),null===u?d=v:u.sibling=v,u=v,f=g}if(b.done)return r(i,f),si&&Zn(i,m),d;if(null===f){for(;!b.done;m++,b=c.next())null!==(b=p(i,b.value,l))&&(o=s(b,o,m),null===u?d=b:u.sibling=b,u=b);return si&&Zn(i,m),d}for(f=n(f);!b.done;m++,b=c.next())null!==(b=y(f,i,m,b.value,l))&&(e&&null!==b.alternate&&f.delete(null===b.key?m:b.key),o=s(b,o,m),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach((function(e){return t(i,e)})),si&&Zn(i,m),d}(c,l,d=v.call(d),u)}if("function"===typeof d.then)return b(c,l,Ya(d),u);if(d.$$typeof===_)return b(c,l,Ti(c,d),u);Ja(c,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==l&&6===l.tag?(r(c,l.sibling),(u=i(l,d)).return=c,c=u):(r(c,l),(u=Un(d,c.mode,u)).return=c,c=u),o(c)):r(c,l)}return function(e,t,r,n){try{Ga=0;var i=b(e,t,r,n);return Wa=null,i}catch(a){if(a===Vi||a===Qi)throw a;var s=jn(29,a,null,e.mode);return s.lanes=n,s.return=e,s}}}var to=eo(!0),ro=eo(!1),no=z(null),io=null;function so(e){var t=e.alternate;$(lo,1&lo.current),$(no,e),null===io&&(null===t||null!==hs.current||null!==t.memoizedState)&&(io=e)}function ao(e){if(22===e.tag){if($(lo,lo.current),$(no,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){$(lo,lo.current),$(no,no.current)}function co(e){B(no),io===e&&(io=null),B(lo)}var lo=z(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||gu(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:p({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ho={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ml(),i=is(n);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=ss(e,i,n))&&(jl(t,e,n),as(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ml(),i=is(n);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=ss(e,i,n))&&(jl(t,e,n),as(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ml(),n=is(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ss(e,n,r))&&(jl(t,e,r),as(t,e,r))}};function fo(e,t,r,n,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(r,n)||!Gr(i,s))}function mo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function go(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var i in r===t&&(r=p({},r)),e)void 0===r[i]&&(r[i]=e[i]);return r}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){yo(e)}function vo(e){console.error(e)}function wo(e){yo(e)}function _o(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout((function(){throw r}))}}function So(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout((function(){throw n}))}}function ko(e,t,r){return(r=is(r)).tag=3,r.payload={element:null},r.callback=function(){_o(e,t)},r}function Ro(e){return(e=is(e)).tag=3,e}function Co(e,t,r,n){var i=r.type.getDerivedStateFromError;if("function"===typeof i){var s=n.value;e.payload=function(){return i(s)},e.callback=function(){So(t,r,n)}}var a=r.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){So(t,r,n),"function"!==typeof i&&(null===Rl?Rl=new Set([this]):Rl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Po=Error(a(461)),To=!1;function xo(e,t,r,n){t.child=null===e?ro(t,null,r,n):to(t,e.child,r,n)}function Do(e,t,r,n,i){r=r.render;var s=t.ref;if("ref"in n){var a={};for(var o in n)"ref"!==o&&(a[o]=n[o])}else a=n;return Ci(t),n=Ls(e,t,r,a,s,i),o=Ns(),null===e||To?(si&&o&&ti(t),t.flags|=1,xo(e,t,n,i),t.child):(js(e,t,i),Go(e,t,i))}function Eo(e,t,r,n,i){if(null===e){var s=r.type;return"function"!==typeof s||An(s)||void 0!==s.defaultProps||null!==r.compare?((e=Bn(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Lo(e,t,s,n,i))}if(s=e.child,!Yo(e,i)){var a=s.memoizedProps;if((r=null!==(r=r.compare)?r:Gr)(a,n)&&e.ref===t.ref)return Go(e,t,i)}return t.flags|=1,(e=Fn(s,n)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,r,n,i){if(null!==e){var s=e.memoizedProps;if(Gr(s,n)&&e.ref===t.ref){if(To=!1,t.pendingProps=n=s,!Yo(e,i))return t.lanes=e.lanes,Go(e,t,i);0!==(131072&e.flags)&&(To=!0)}}return No(e,t,r,n,i)}function Io(e,t,r){var n=t.pendingProps,i=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==s?s.baseLanes|r:r,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~n}else t.childLanes=0,t.child=null;return Oo(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==s?s.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),ao(t)}else null!==s?(Hi(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&Hi(0,null),gs(),oo());return xo(e,t,i,r),t.child}function Oo(e,t,r,n){var i=Ui();return i=null===i?null:{parent:Ii._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},null!==e&&Hi(0,null),gs(),ao(t),null!==e&&ki(e,t,n,!0),null}function Mo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(a(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function No(e,t,r,n,i){return Ci(t),r=Ls(e,t,r,n,void 0,i),n=Ns(),null===e||To?(si&&n&&ti(t),t.flags|=1,xo(e,t,r,i),t.child):(js(e,t,i),Go(e,t,i))}function jo(e,t,r,n,i,s){return Ci(t),t.updateQueue=null,r=Os(t,n,r,i),Is(e),n=Ns(),null===e||To?(si&&n&&ti(t),t.flags|=1,xo(e,t,r,s),t.child):(js(e,t,s),Go(e,t,s))}function Ao(e,t,r,n,i){if(Ci(t),null===t.stateNode){var s=Mn,a=r.contextType;"object"===typeof a&&null!==a&&(s=Pi(a)),s=new r(n,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ho,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=n,s.state=t.memoizedState,s.refs={},rs(t),a=r.contextType,s.context="object"===typeof a&&null!==a?Pi(a):Mn,s.state=t.memoizedState,"function"===typeof(a=r.getDerivedStateFromProps)&&(po(t,r,a,n),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&ho.enqueueReplaceState(s,s.state,null),ds(t,n,s,i),ls(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,c=go(r,o);s.props=c;var l=s.context,d=r.contextType;a=Mn,"object"===typeof d&&null!==d&&(a=Pi(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||l!==a)&&mo(t,s,n,a),ts=!1;var p=t.memoizedState;s.state=p,ds(t,n,s,i),ls(),l=t.memoizedState,o||p!==l||ts?("function"===typeof u&&(po(t,r,u,n),l=t.memoizedState),(c=ts||fo(t,r,c,n,p,l,a))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=a,n=c):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,ns(e,t),d=go(r,a=t.memoizedProps),s.props=d,u=t.pendingProps,p=s.context,l=r.contextType,c=Mn,"object"===typeof l&&null!==l&&(c=Pi(l)),(l="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||p!==c)&&mo(t,s,n,c),ts=!1,p=t.memoizedState,s.state=p,ds(t,n,s,i),ls();var h=t.memoizedState;a!==u||p!==h||ts||null!==e&&null!==e.dependencies&&Ri(e.dependencies)?("function"===typeof o&&(po(t,r,o,n),h=t.memoizedState),(d=ts||fo(t,r,d,n,p,h,c)||null!==e&&null!==e.dependencies&&Ri(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,h,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,h,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=c,n=d):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,Mo(e,t),n=0!==(128&t.flags),s||n?(s=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&n?(t.child=to(t,e.child,null,i),t.child=to(t,null,r,i)):xo(e,t,r,i),t.memoizedState=s.state,e=t.child):e=Go(e,t,i),e}function Fo(e,t,r,n){return hi(),t.flags|=256,xo(e,t,r,n),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:qi()}}function $o(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gl),e}function Uo(e,t,r){var n,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&lo.current)),n&&(s=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var c,l=ii;if(c=l){e:{for(c=l,l=oi;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=yu(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Yn?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},(c=jn(18,null,null,0)).stateNode=l,c.return=t,t.child=c,ni=t,ii=null,c=!0):c=!1}c||li(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return gu(l)?t.lanes=32:t.lanes=536870912,null;co(t)}return l=i.children,i=i.fallback,s?(oo(),l=qo({mode:"hidden",children:l},s=t.mode),i=$n(i,s,r,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(s=t.child).memoizedState=Bo(r),s.childLanes=$o(e,n,r),t.memoizedState=zo,i):(so(t),Ho(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Vo(e,t,r)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,l=t.mode,i=qo({mode:"visible",children:i.children},l),(s=$n(s,l,r,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,r),(i=t.child).memoizedState=Bo(r),i.childLanes=$o(e,n,r),t.memoizedState=zo,t=s);else if(so(t),gu(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var d=n.dgst;n=d,(i=Error(a(419))).stack="",i.digest=n,mi({value:i,source:null,stack:null}),t=Vo(e,t,r)}else if(To||ki(e,t,r,!1),n=0!==(r&e.childLanes),To||n){if(null!==(n=nl)&&(0!==(i=0!==((i=0!==(42&(i=r&-r))?1:xe(i))&(n.suspendedLanes|r))?0:i)&&i!==c.retryLane))throw c.retryLane=i,Ln(e,i),jl(n,e,i),Po;"$?"===l.data||Ql(),t=Vo(e,t,r)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ii=yu(l.nextSibling),ni=t,si=!0,ai=null,oi=!1,null!==e&&(Wn[Gn++]=Xn,Wn[Gn++]=Jn,Wn[Gn++]=Yn,Xn=e.id,Jn=e.overflow,Yn=t),(t=Ho(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,l=t.mode,d=(c=e.child).sibling,(i=Fn(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?s=Fn(d,s):(s=$n(s,l,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(l=e.child.memoizedState)?l=Bo(r):(null!==(c=l.cachePool)?(d=Ii._currentValue,c=c.parent!==d?{parent:d,pool:d}:c):c=qi(),l={baseLanes:l.baseLanes|r,cachePool:c}),s.memoizedState=l,s.childLanes=$o(e,n,r),t.memoizedState=zo,i):(so(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:i.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=jn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vo(e,t,r){return to(t,e.child,null,r),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),_i(e.return,t,r)}function Qo(e,t,r,n,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Wo(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(xo(e,t,n.children,r),0!==(2&(n=lo.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,r,t);else if(19===e.tag)Ko(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch($(lo,n),i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Qo(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Qo(t,!0,r,null,s);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),hl|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(ki(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ri(e))}function Xo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!Yo(e,r)&&0===(128&t.flags))return To=!1,function(e,t,r){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),vi(0,Ii,e.memoizedState.cache),hi();break;case 27:case 5:W(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:vi(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(so(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Uo(e,t,r):(so(t),null!==(e=Go(e,t,r))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(ki(e,t,r,!1),n=0!==(r&t.childLanes)),i){if(n)return Wo(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(lo,lo.current),n)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,r);case 24:vi(0,Ii,e.memoizedState.cache)}return Go(e,t,r)}(e,t,r);To=0!==(131072&e.flags)}else To=!1,si&&0!==(1048576&t.flags)&&ei(t,Qn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((i=n.$$typeof)===S){t.tag=11,t=Do(null,t,n,e,r);break e}if(i===C){t.tag=14,t=Eo(null,t,n,e,r);break e}}throw t=I(n)||n,Error(a(306,t,""))}An(n)?(e=go(n,e),t.tag=1,t=Ao(null,t,n,e,r)):(t.tag=0,t=No(null,t,n,e,r))}return t;case 0:return No(e,t,t.type,t.pendingProps,r);case 1:return Ao(e,t,n=t.type,i=go(n,t.pendingProps),r);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));n=t.pendingProps;var s=t.memoizedState;i=s.element,ns(e,t),ds(t,n,null,r);var o=t.memoizedState;if(n=o.cache,vi(0,Ii,n),n!==s.cache&&Si(t,[Ii],r,!0),ls(),n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fo(e,t,n,r);break e}if(n!==i){mi(i=Rn(Error(a(424)),t)),t=Fo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yu(e.firstChild),ni=t,si=!0,ai=null,oi=!0,r=ro(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hi(),n===i){t=Go(e,t,r);break e}xo(e,t,n,r)}t=t.child}return t;case 26:return Mo(e,t),null===e?(r=xu(t.type,null,t.pendingProps,null))?t.memoizedState=r:si||(r=t.type,e=t.pendingProps,(n=nu(q.current).createElement(r))[Ie]=t,n[Oe]=e,eu(n,r,e),Ve(n),t.stateNode=n):t.memoizedState=xu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&si&&(n=t.stateNode=wu(t.type,t.pendingProps,q.current),ni=t,oi=!0,i=ii,hu(t.type)?(bu=i,ii=yu(n.firstChild)):ii=i),xo(e,t,t.pendingProps.children,r),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=n=ii)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=yu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,oi))?(t.stateNode=n,ni=t,ii=yu(n.firstChild),oi=!1,i=!0):i=!1),i||li(t)),W(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,n=s.children,au(i,s)?n=null:null!==o&&au(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ls(e,t,Ms,null,null,r),Wu._currentValue=i),Mo(e,t),xo(e,t,n,r),t.child;case 6:return null===e&&si&&((e=r=ii)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yu(e.nextSibling)))return null}return e}(r,t.pendingProps,oi))?(t.stateNode=r,ni=t,ii=null,e=!0):e=!1),e||li(t)),null;case 13:return Uo(e,t,r);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=to(t,null,n,r):xo(e,t,n,r),t.child;case 11:return Do(e,t,t.type,t.pendingProps,r);case 7:return xo(e,t,t.pendingProps,r),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,vi(0,t.type,n.value),xo(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Ci(t),n=n(i=Pi(i)),t.flags|=1,xo(e,t,n,r),t.child;case 14:return Eo(e,t,t.type,t.pendingProps,r);case 15:return Lo(e,t,t.type,t.pendingProps,r);case 19:return Wo(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=qo(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Fn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Io(e,t,r);case 24:return Ci(t),n=Pi(Ii),null===e?(null===(i=Ui())&&(i=nl,s=Oi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=r),i=s),t.memoizedState={parent:n,cache:i},rs(t),vi(0,Ii,i)):(0!==(e.lanes&r)&&(ns(e,t),ds(t,null,null,r),ls()),i=e.memoizedState,s=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),vi(0,Ii,n)):(n=s.cache,vi(0,Ii,n),n!==i.cache&&Si(t,[Ii],r,!0))),xo(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!$u(t)){if(null!==(t=no.current)&&((4194048&sl)===sl?null!==io:(62914560&sl)!==sl&&0===(536870912&sl)||t!==io))throw Ji=Wi,Ki;e.flags|=8192}}function ec(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yl|=t)}function tc(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=65011712&i.subtreeFlags,n|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nc(e,t,r){var n=t.pendingProps;switch(ri(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rc(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Ii),Q(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),rc(t),null;case 26:return r=t.memoizedState,null===e?(Jo(t),null!==r?(rc(t),Zo(t,r)):(rc(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Jo(t),rc(t),Zo(t,r)):(rc(t),t.flags&=-16777217):(e.memoizedProps!==n&&Jo(t),rc(t),t.flags&=-16777217),null;case 27:G(t),r=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return rc(t),null}e=U.current,pi(t)?di(t):(e=wu(i,n,r),t.stateNode=e,Jo(t))}return rc(t),null;case 5:if(G(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return rc(t),null}if(e=U.current,pi(t))di(t);else{switch(i=nu(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?i.createElement(r,{is:n.is}):i.createElement(r)}}e[Ie]=t,e[Oe]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eu(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return rc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(e=q.current,pi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(i=ni))switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Yd(e.nodeValue,r)))||li(t)}else(e=nu(e).createTextNode(n))[Ie]=t,t.stateNode=e}return rc(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=pi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ie]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rc(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(co(t),t):(co(t),null)}if(co(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){i=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(i=n.alternate.memoizedState.cachePool.pool);var s=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),ec(t,t.updateQueue),rc(t),null;case 4:return Q(),null===e&&Bd(t.stateNode.containerInfo),rc(t),null;case 10:return wi(t.type),rc(t),null;case 19:if(B(lo),null===(i=t.memoizedState))return rc(t),null;if(n=0!==(128&t.flags),null===(s=i.rendering))if(n)tc(i,!1);else{if(0!==pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tc(i,!1),e=s.updateQueue,t.updateQueue=e,ec(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)zn(r,e),r=r.sibling;return $(lo,1&lo.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sl&&(t.flags|=128,n=!0,tc(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(s))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ec(t,e),tc(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return rc(t),null}else 2*te()-i.renderingStartTime>Sl&&536870912!==r&&(t.flags|=128,n=!0,tc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=lo.current,$(lo,n?1&e|2:1&e),t):(rc(t),null);case 22:case 23:return co(t),ys(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rc(t),6&t.subtreeFlags&&(t.flags|=8192)):rc(t),null!==(r=t.updateQueue)&&ec(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&B($i),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Ii),rc(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ic(e,t){switch(ri(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Ii),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(co(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(lo),null;case 4:return Q(),null;case 10:return wi(t.type),null;case 22:case 23:return co(t),ys(),null!==e&&B($i),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Ii),null;default:return null}}function sc(e,t){switch(ri(t),t.tag){case 3:wi(Ii),Q();break;case 26:case 27:case 5:G(t);break;case 4:Q();break;case 13:co(t);break;case 19:B(lo);break;case 10:wi(t.type);break;case 22:case 23:co(t),ys(),null!==e&&B($i);break;case 24:wi(Ii)}}function ac(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var s=r.create,a=r.inst;n=s(),a.destroy=n}r=r.next}while(r!==i)}}catch(o){dd(t,t.return,o)}}function oc(e,t,r){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var s=i.next;n=s;do{if((n.tag&e)===e){var a=n.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var c=r,l=o;try{l()}catch(d){dd(i,c,d)}}}n=n.next}while(n!==s)}}catch(d){dd(t,t.return,d)}}function cc(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ps(t,r)}catch(n){dd(e,e.return,n)}}}function lc(e,t,r){r.props=go(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){dd(e,t,n)}}function dc(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(i){dd(e,t,i)}}function uc(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(i){dd(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){dd(e,t,s)}else r.current=null}function pc(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){dd(e,e.return,i)}}function hc(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,c=null,l=null,d=null,u=null;for(f in r){var p=r[f];if(r.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":l=p;default:n.hasOwnProperty(f)||Jd(e,t,f,null,n,p)}}for(var h in n){var f=n[h];if(p=r[h],n.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":s=f;break;case"name":i=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==p&&Jd(e,t,h,f,n,p)}}return void gt(e,o,c,l,d,u,s,i);case"select":for(s in f=o=c=h=null,r)if(l=r[s],r.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":f=l;default:n.hasOwnProperty(s)||Jd(e,t,s,null,n,l)}for(i in n)if(s=n[i],l=r[i],n.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":h=s;break;case"defaultValue":c=s;break;case"multiple":o=s;default:s!==l&&Jd(e,t,i,s,n,l)}return t=c,r=o,n=f,void(null!=h?vt(e,!!r,h,!1):!!n!==!!r&&(null!=t?vt(e,!!r,t,!0):vt(e,!!r,r?[]:"",!1)));case"textarea":for(c in f=h=null,r)if(i=r[c],r.hasOwnProperty(c)&&null!=i&&!n.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Jd(e,t,c,null,n,i)}for(o in n)if(i=n[o],s=r[o],n.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Jd(e,t,o,i,n,s)}return void wt(e,h,f);case"option":for(var m in r)if(h=r[m],r.hasOwnProperty(m)&&null!=h&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Jd(e,t,m,null,n,h);for(l in n)if(h=n[l],f=r[l],n.hasOwnProperty(l)&&h!==f&&(null!=h||null!=f))if("selected"===l)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Jd(e,t,l,h,n,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)h=r[g],r.hasOwnProperty(g)&&null!=h&&!n.hasOwnProperty(g)&&Jd(e,t,g,null,n,h);for(d in n)if(h=n[d],f=r[d],n.hasOwnProperty(d)&&h!==f&&(null!=h||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Jd(e,t,d,h,n,f)}return;default:if(Pt(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&void 0!==h&&!n.hasOwnProperty(y)&&Zd(e,t,y,void 0,n,h);for(u in n)h=n[u],f=r[u],!n.hasOwnProperty(u)||h===f||void 0===h&&void 0===f||Zd(e,t,u,h,n,f);return}}for(var b in r)h=r[b],r.hasOwnProperty(b)&&null!=h&&!n.hasOwnProperty(b)&&Jd(e,t,b,null,n,h);for(p in n)h=n[p],f=r[p],!n.hasOwnProperty(p)||h===f||null==h&&null==f||Jd(e,t,p,h,n,f)}(n,e.type,r,t),n[Oe]=t}catch(i){dd(e,e.return,i)}}function fc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hu(e.type)||4===e.tag}function mc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xd));else if(4!==n&&(27===n&&hu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gc(e,t,r),e=e.sibling;null!==e;)gc(e,t,r),e=e.sibling}function yc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&hu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(yc(e,t,r),e=e.sibling;null!==e;)yc(e,t,r),e=e.sibling}function bc(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eu(t,n,r),t[Ie]=e,t[Oe]=r}catch(s){dd(e,e.return,s)}}var vc=!1,wc=!1,_c=!1,Sc="function"===typeof WeakSet?WeakSet:Set,kc=null;function Rc(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Ac(e,r),4&n&&ac(5,r);break;case 1:if(Ac(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(a){dd(r,r.return,a)}else{var i=go(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(r,r.return,o)}}64&n&&cc(r),512&n&&dc(r,r.return);break;case 3:if(Ac(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ps(e,t)}catch(a){dd(r,r.return,a)}}break;case 27:null===t&&4&n&&bc(r);case 26:case 5:Ac(e,r),null===t&&4&n&&pc(r),512&n&&dc(r,r.return);break;case 12:Ac(e,r);break;case 13:Ac(e,r),4&n&&Ec(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=fd.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||vc)){t=null!==t&&null!==t.memoizedState||wc,i=vc;var s=wc;vc=n,(wc=t)&&!s?zc(e,r,0!==(8772&r.subtreeFlags)):Ac(e,r),vc=i,wc=s}break;case 30:break;default:Ac(e,r)}}function Cc(e){var t=e.alternate;null!==t&&(e.alternate=null,Cc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pc=null,Tc=!1;function xc(e,t,r){for(r=r.child;null!==r;)Dc(e,t,r),r=r.sibling}function Dc(e,t,r){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,r)}catch(s){}switch(r.tag){case 26:wc||uc(r,t),xc(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:wc||uc(r,t);var n=Pc,i=Tc;hu(r.type)&&(Pc=r.stateNode,Tc=!1),xc(e,t,r),_u(r.stateNode),Pc=n,Tc=i;break;case 5:wc||uc(r,t);case 6:if(n=Pc,i=Tc,Pc=null,xc(e,t,r),Tc=i,null!==(Pc=n))if(Tc)try{(9===Pc.nodeType?Pc.body:"HTML"===Pc.nodeName?Pc.ownerDocument.body:Pc).removeChild(r.stateNode)}catch(a){dd(r,t,a)}else try{Pc.removeChild(r.stateNode)}catch(a){dd(r,t,a)}break;case 18:null!==Pc&&(Tc?(fu(9===(e=Pc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Tp(e)):fu(Pc,r.stateNode));break;case 4:n=Pc,i=Tc,Pc=r.stateNode.containerInfo,Tc=!0,xc(e,t,r),Pc=n,Tc=i;break;case 0:case 11:case 14:case 15:wc||oc(2,r,t),wc||oc(4,r,t),xc(e,t,r);break;case 1:wc||(uc(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&lc(r,t,n)),xc(e,t,r);break;case 21:xc(e,t,r);break;case 22:wc=(n=wc)||null!==r.memoizedState,xc(e,t,r),wc=n;break;default:xc(e,t,r)}}function Ec(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Tp(e)}catch(r){dd(t,t.return,r)}}function Lc(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sc),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var n=md.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}function Ic(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n],s=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 27:if(hu(c.type)){Pc=c.stateNode,Tc=!1;break e}break;case 5:Pc=c.stateNode,Tc=!1;break e;case 3:case 4:Pc=c.stateNode.containerInfo,Tc=!0;break e}c=c.return}if(null===Pc)throw Error(a(160));Dc(s,o,i),Pc=null,Tc=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Mc(t,e),t=t.sibling}var Oc=null;function Mc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ic(t,e),Nc(e),4&n&&(oc(3,e,e.return),ac(3,e),oc(5,e,e.return));break;case 1:Ic(t,e),Nc(e),512&n&&(wc||null===r||uc(r,r.return)),64&n&&vc&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var i=Oc;if(Ic(t,e),Nc(e),512&n&&(wc||null===r||uc(r,r.return)),4&n){var s=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":(!(s=i.getElementsByTagName("title")[0])||s[ze]||s[Ie]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(n),i.head.insertBefore(s,i.querySelector("head > title"))),eu(s,n,r),s[Ie]=e,Ve(s),n=s;break e;case"link":var o=zu("link","href",i).get(n+(r.href||""));if(o)for(var c=0;c<o.length;c++)if((s=o[c]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(c,1);break t}eu(s=i.createElement(n),n,r),i.head.appendChild(s);break;case"meta":if(o=zu("meta","content",i).get(n+(r.content||"")))for(c=0;c<o.length;c++)if((s=o[c]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(c,1);break t}eu(s=i.createElement(n),n,r),i.head.appendChild(s);break;default:throw Error(a(468,n))}s[Ie]=e,Ve(s),n=s}e.stateNode=n}else Bu(i,e.type,e.stateNode);else e.stateNode=Mu(i,n,e.memoizedProps);else s!==n?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===n?Bu(i,e.type,e.stateNode):Mu(i,n,e.memoizedProps)):null===n&&null!==e.stateNode&&hc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ic(t,e),Nc(e),512&n&&(wc||null===r||uc(r,r.return)),null!==r&&4&n&&hc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ic(t,e),Nc(e),512&n&&(wc||null===r||uc(r,r.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(f){dd(e,e.return,f)}}4&n&&null!=e.stateNode&&hc(e,i=e.memoizedProps,null!==r?r.memoizedProps:i),1024&n&&(_c=!0);break;case 6:if(Ic(t,e),Nc(e),4&n){if(null===e.stateNode)throw Error(a(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(f){dd(e,e.return,f)}}break;case 3:if(Fu=null,i=Oc,Oc=Ru(t.containerInfo),Ic(t,e),Oc=i,Nc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Tp(t.containerInfo)}catch(f){dd(e,e.return,f)}_c&&(_c=!1,jc(e));break;case 4:n=Oc,Oc=Ru(e.stateNode.containerInfo),Ic(t,e),Nc(e),Oc=n;break;case 12:default:Ic(t,e),Nc(e);break;case 13:Ic(t,e),Nc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(_l=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Lc(e,n)));break;case 22:i=null!==e.memoizedState;var l=null!==r&&null!==r.memoizedState,d=vc,u=wc;if(vc=d||i,wc=u||l,Ic(t,e),wc=u,vc=d,Nc(e),8192&n)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===r||l||vc||wc||Fc(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){l=r=t;try{if(s=l.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{c=l.stateNode;var p=l.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;c.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){dd(l,l.return,f)}}}else if(6===t.tag){if(null===r){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(f){dd(l,l.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Lc(e,r))));break;case 19:Ic(t,e),Nc(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Lc(e,n)));case 30:case 21:}}function Nc(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(fc(n)){r=n;break}n=n.return}if(null==r)throw Error(a(160));switch(r.tag){case 27:var i=r.stateNode;yc(e,mc(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(St(s,""),r.flags&=-33),yc(e,mc(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;gc(e,mc(e),o);break;default:throw Error(a(161))}}catch(c){dd(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ac(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rc(e,t.alternate,t),t=t.sibling}function Fc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oc(4,t,t.return),Fc(t);break;case 1:uc(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&lc(t,t.return,r),Fc(t);break;case 27:_u(t.stateNode);case 26:case 5:uc(t,t.return),Fc(t);break;case 22:null===t.memoizedState&&Fc(t);break;default:Fc(t)}e=e.sibling}}function zc(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:zc(i,s,r),ac(4,s);break;case 1:if(zc(i,s,r),"function"===typeof(i=(n=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){dd(n,n.return,l)}if(null!==(i=(n=s).updateQueue)){var o=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)us(c[i],o)}catch(l){dd(n,n.return,l)}}r&&64&a&&cc(s),dc(s,s.return);break;case 27:bc(s);case 26:case 5:zc(i,s,r),r&&null===n&&4&a&&pc(s),dc(s,s.return);break;case 12:zc(i,s,r);break;case 13:zc(i,s,r),r&&4&a&&Ec(i,s);break;case 22:null===s.memoizedState&&zc(i,s,r),dc(s,s.return);break;case 30:break;default:zc(i,s,r)}t=t.sibling}}function Bc(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Mi(r))}function $c(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e))}function Uc(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hc(e,t,r,n),t=t.sibling}function Hc(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Uc(e,t,r,n),2048&i&&ac(9,t);break;case 1:case 13:default:Uc(e,t,r,n);break;case 3:Uc(e,t,r,n),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e)));break;case 12:if(2048&i){Uc(e,t,r,n),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){dd(t,t.return,c)}}else Uc(e,t,r,n);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Uc(e,t,r,n):Vc(e,t):2&s._visibility?Uc(e,t,r,n):(s._visibility|=2,qc(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&i&&Bc(a,t);break;case 24:Uc(e,t,r,n),2048&i&&$c(t.alternate,t)}}function qc(e,t,r,n,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=r,c=n,l=a.flags;switch(a.tag){case 0:case 11:case 15:qc(s,a,o,c,i),ac(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?qc(s,a,o,c,i):Vc(s,a):(d._visibility|=2,qc(s,a,o,c,i)),i&&2048&l&&Bc(a.alternate,a);break;case 24:qc(s,a,o,c,i),i&&2048&l&&$c(a.alternate,a);break;default:qc(s,a,o,c,i)}t=t.sibling}}function Vc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:Vc(r,n),2048&i&&Bc(n.alternate,n);break;case 24:Vc(r,n),2048&i&&$c(n.alternate,n);break;default:Vc(r,n)}t=t.sibling}}var Kc=8192;function Qc(e){if(e.subtreeFlags&Kc)for(e=e.child;null!==e;)Wc(e),e=e.sibling}function Wc(e){switch(e.tag){case 26:Qc(e),e.flags&Kc&&null!==e.memoizedState&&function(e,t,r){if(null===Uu)throw Error(a(475));var n=Uu;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Du(r.href),s=e.querySelector(Eu(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=qu.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=s,void Ve(s);s=e.ownerDocument||e,r=Lu(r),(i=Su.get(i))&&ju(r,i),Ve(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(s,"link",r),t.instance=s}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=qu.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Oc,e.memoizedState,e.memoizedProps);break;case 5:default:Qc(e);break;case 3:case 4:var t=Oc;Oc=Ru(e.stateNode.containerInfo),Qc(e),Oc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kc,Kc=16777216,Qc(e),Kc=t):Qc(e))}}function Gc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];kc=n,Zc(n,e)}Gc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xc(e),e=e.sibling}function Xc(e){switch(e.tag){case 0:case 11:case 15:Yc(e),2048&e.flags&&oc(9,e,e.return);break;case 3:case 12:default:Yc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jc(e)):Yc(e)}}function Jc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];kc=n,Zc(n,e)}Gc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oc(8,t,t.return),Jc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Jc(t));break;default:Jc(t)}e=e.sibling}}function Zc(e,t){for(;null!==kc;){var r=kc;switch(r.tag){case 0:case 11:case 15:oc(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Mi(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,kc=n;else e:for(r=e;null!==kc;){var i=(n=kc).sibling,s=n.return;if(Cc(n),n===r){kc=null;break e}if(null!==i){i.return=s,kc=i;break e}kc=s}}}var el={getCacheForType:function(e){var t=Pi(Ii),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tl="function"===typeof WeakMap?WeakMap:Map,rl=0,nl=null,il=null,sl=0,al=0,ol=null,cl=!1,ll=!1,dl=!1,ul=0,pl=0,hl=0,fl=0,ml=0,gl=0,yl=0,bl=null,vl=null,wl=!1,_l=0,Sl=1/0,kl=null,Rl=null,Cl=0,Pl=null,Tl=null,xl=0,Dl=0,El=null,Ll=null,Il=0,Ol=null;function Ml(){if(0!==(2&rl)&&0!==sl)return sl&-sl;if(null!==M.T){return 0!==Ai?Ai:Dd()}return Ee()}function Nl(){0===gl&&(gl=0===(536870912&sl)||si?Se():536870912);var e=no.current;return null!==e&&(e.flags|=32),gl}function jl(e,t,r){(e!==nl||2!==al&&9!==al)&&null===e.cancelPendingCommit||(Hl(e,0),Bl(e,sl,gl,!1)),Ce(e,r),0!==(2&rl)&&e===nl||(e===nl&&(0===(2&rl)&&(fl|=r),4===pl&&Bl(e,sl,gl,!1)),Sd(e))}function Al(e,t,r){if(0!==(6&rl))throw Error(a(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=n?function(e,t){var r=rl;rl|=2;var n=Vl(),i=Kl();nl!==e||sl!==t?(kl=null,Sl=te()+500,Hl(e,t)):ll=we(e,t);e:for(;;)try{if(0!==al&&null!==il){t=il;var s=ol;t:switch(al){case 1:al=0,ol=null,Zl(e,t,s,1);break;case 2:case 9:if(Gi(s)){al=0,ol=null,Jl(t);break}t=function(){2!==al&&9!==al||nl!==e||(al=7),Sd(e)},s.then(t,t);break e;case 3:al=7;break e;case 4:al=5;break e;case 7:Gi(s)?(al=0,ol=null,Jl(t)):(al=0,ol=null,Zl(e,t,s,7));break;case 5:var o=null;switch(il.tag){case 26:o=il.memoizedState;case 5:case 27:var c=il;if(!o||$u(o)){al=0,ol=null;var l=c.sibling;if(null!==l)il=l;else{var d=c.return;null!==d?(il=d,ed(d)):il=null}break t}}al=0,ol=null,Zl(e,t,s,5);break;case 6:al=0,ol=null,Zl(e,t,s,6);break;case 8:Ul(),pl=6;break e;default:throw Error(a(462))}}Yl();break}catch(u){ql(e,u)}return bi=yi=null,M.H=n,M.A=i,rl=r,null!==il?0:(nl=null,sl=0,xn(),pl)}(e,t):Wl(e,t,!0),s=n;;){if(0===i){ll&&!n&&Bl(e,t,0,!1);break}if(r=e.current.alternate,!s||zl(r)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var c=e;i=bl;var l=c.current.memoizedState.isDehydrated;if(l&&(Hl(c,o).flags|=256),2!==(o=Wl(c,o,!1))){if(dl&&!l){c.errorRecoveryDisabledLanes|=s,fl|=s,i=4;break e}s=vl,vl=i,null!==s&&(null===vl?vl=s:vl.push.apply(vl,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){Hl(e,0),Bl(e,t,0,!0);break}e:{switch(n=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bl(n,t,gl,!cl);break e;case 2:vl=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=_l+300-te())){if(Bl(n,t,gl,!cl),0!==ve(n,0,!0))break e;n.timeoutHandle=cu(Fl.bind(null,n,r,vl,kl,wl,t,gl,fl,yl,cl,s,2,-0,0),i)}else Fl(n,r,vl,kl,wl,t,gl,fl,yl,cl,s,0,-0,0)}break}i=Wl(e,t,!1),s=!1}Sd(e)}function Fl(e,t,r,n,i,s,o,c,l,d,u,p,h,f){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Uu={stylesheets:null,count:0,unsuspend:Hu},Wc(t),null!==(p=function(){if(null===Uu)throw Error(a(475));var e=Uu;return e.stylesheets&&0===e.count&&Ku(e,e.stylesheets),0<e.count?function(t){var r=setTimeout((function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=p(rd.bind(null,e,t,s,r,n,i,o,c,l,u,1,h,f)),void Bl(e,s,o,!d);rd(e,t,s,r,n,i,o,c,l)}function zl(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Wr(s(),i))return!1}catch(a){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bl(e,t,r,n){t&=~ml,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var s=31-he(i),a=1<<s;n[s]=-1,i&=~a}0!==r&&Pe(e,r,t)}function $l(){return 0!==(6&rl)||(kd(0,!1),!1)}function Ul(){if(null!==il){if(0===al)var e=il.return;else bi=yi=null,As(e=il),Wa=null,Ga=0,e=il;for(;null!==e;)sc(e.alternate,e),e=e.return;il=null}}function Hl(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,lu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Ul(),nl=e,il=r=Fn(e.current,null),sl=t,al=0,ol=null,cl=!1,ll=we(e,t),dl=!1,yl=gl=ml=fl=hl=pl=0,vl=bl=null,wl=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var i=31-he(n),s=1<<i;t|=e[i],n&=~s}return ul=t,xn(),r}function ql(e,t){vs=null,M.H=qa,t===Vi||t===Qi?(t=Zi(),al=3):t===Ki?(t=Zi(),al=4):al=t===Po?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ol=t,null===il&&(pl=1,_o(e,Rn(t,e.current)))}function Vl(){var e=M.H;return M.H=qa,null===e?qa:e}function Kl(){var e=M.A;return M.A=el,e}function Ql(){pl=4,cl||(4194048&sl)!==sl&&null!==no.current||(ll=!0),0===(134217727&hl)&&0===(134217727&fl)||null===nl||Bl(nl,sl,gl,!1)}function Wl(e,t,r){var n=rl;rl|=2;var i=Vl(),s=Kl();nl===e&&sl===t||(kl=null,Hl(e,t)),t=!1;var a=pl;e:for(;;)try{if(0!==al&&null!==il){var o=il,c=ol;switch(al){case 8:Ul(),a=6;break e;case 3:case 2:case 9:case 6:null===no.current&&(t=!0);var l=al;if(al=0,ol=null,Zl(e,o,c,l),r&&ll){a=0;break e}break;default:l=al,al=0,ol=null,Zl(e,o,c,l)}}Gl(),a=pl;break}catch(d){ql(e,d)}return t&&e.shellSuspendCounter++,bi=yi=null,rl=n,M.H=i,M.A=s,null===il&&(nl=null,sl=0,xn()),a}function Gl(){for(;null!==il;)Xl(il)}function Yl(){for(;null!==il&&!Z();)Xl(il)}function Xl(e){var t=Xo(e.alternate,e,ul);e.memoizedProps=e.pendingProps,null===t?ed(e):il=t}function Jl(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=jo(r,t,t.pendingProps,t.type,void 0,sl);break;case 11:t=jo(r,t,t.pendingProps,t.type.render,t.ref,sl);break;case 5:As(t);default:sc(r,t),t=Xo(r,t=il=zn(t,ul),ul)}e.memoizedProps=e.pendingProps,null===t?ed(e):il=t}function Zl(e,t,r,n){bi=yi=null,As(t),Wa=null,Ga=0;var i=t.return;try{if(function(e,t,r,n,i){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&ki(t,r,i,!0),null!==(r=no.current)){switch(r.tag){case 13:return null===io?Ql():null===r.alternate&&0===pl&&(pl=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===Wi?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),ud(e,n,i)),!1;case 22:return r.flags|=65536,n===Wi?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),ud(e,n,i)),!1}throw Error(a(435,r.tag))}return ud(e,n,i),Ql(),!1}if(si)return null!==(t=no.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==ci&&mi(Rn(e=Error(a(422),{cause:n}),r))):(n!==ci&&mi(Rn(t=Error(a(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,n=Rn(n,r),os(e,i=ko(e.stateNode,n,i)),4!==pl&&(pl=2)),!1;var s=Error(a(520),{cause:n});if(s=Rn(s,r),null===bl?bl=[s]:bl.push(s),4!==pl&&(pl=2),null===t)return!0;n=Rn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,os(r,e=ko(r.stateNode,n,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Rl||!Rl.has(s))))return r.flags|=65536,i&=-i,r.lanes|=i,Co(i=Ro(i),e,r,n),os(r,i),!1}r=r.return}while(null!==r);return!1}(e,i,t,r,sl))return pl=1,_o(e,Rn(r,e.current)),void(il=null)}catch(s){if(null!==i)throw il=i,s;return pl=1,_o(e,Rn(r,e.current)),void(il=null)}32768&t.flags?(si||1===n?e=!0:ll||0!==(536870912&sl)?e=!1:(cl=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=no.current)&&13===n.tag&&(n.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,cl);e=t.return;var r=nc(t.alternate,t,ul);if(null!==r)return void(il=r);if(null!==(t=t.sibling))return void(il=t);il=t=e}while(null!==t);0===pl&&(pl=5)}function td(e,t){do{var r=ic(e.alternate,e);if(null!==r)return r.flags&=32767,void(il=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(il=e);il=e=r}while(null!==e);pl=6,il=null}function rd(e,t,r,n,i,s,o,c,l){e.cancelPendingCommit=null;do{od()}while(0!==Cl);if(0!==(6&rl))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,r,n,i,s){var a=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(r=a&~r;0<r;){var d=31-he(r),u=1<<d;o[d]=0,c[d]=-1;var p=l[d];if(null!==p)for(l[d]=null,d=0;d<p.length;d++){var h=p[d];null!==h&&(h.lane&=-536870913)}r&=~u}0!==n&&Pe(e,n,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,r,s|=Tn,o,c,l),e===nl&&(il=nl=null,sl=0),Tl=t,Pl=e,xl=r,Dl=s,El=i,Ll=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(se,(function(){return cd(),null}))):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null,i=N.p,N.p=2,o=rl,rl|=4;try{!function(e,t){if(e=e.containerInfo,tu=rp,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(g){r=null;break e}var o=0,c=-1,l=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var f;p!==r||0!==i&&3!==p.nodeType||(c=o+i),p!==s||0!==n&&3!==p.nodeType||(l=o+n),3===p.nodeType&&(o+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===r&&++d===i&&(c=o),h===s&&++u===n&&(l=o),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ru={focusedElem:e,selectionRange:r},rp=!1,kc=t;null!==kc;)if(e=(t=kc).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kc=e;else for(;null!==kc;){switch(s=(t=kc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,i=s.memoizedProps,s=s.memoizedState,n=r.stateNode;try{var m=go(r.type,i,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(m,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){dd(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))mu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kc=e;break}kc=t.return}}(e,t)}finally{rl=o,N.p=i,M.T=n}}Cl=1,nd(),id(),sd()}}function nd(){if(1===Cl){Cl=0;var e=Pl,t=Tl,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null;var n=N.p;N.p=2;var i=rl;rl|=4;try{Mc(t,e);var s=ru,a=Zr(e.containerInfo),o=s.focusedElem,c=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Jr(o.ownerDocument.documentElement,o)){if(null!==c&&en(o)){var l=c.start,d=c.end;if(void 0===d&&(d=l),"selectionStart"in o)o.selectionStart=l,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=o.textContent.length,m=Math.min(c.start,f),g=void 0===c.end?m:Math.min(c.end,f);!h.extend&&m>g&&(a=g,g=m,m=a);var y=Xr(o,m),b=Xr(o,g);if(y&&b&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var v=u.createRange();v.setStart(y.node,y.offset),h.removeAllRanges(),m>g?(h.addRange(v),h.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),h.addRange(v))}}}}for(u=[],h=o;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var w=u[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rp=!!tu,ru=tu=null}finally{rl=i,N.p=n,M.T=r}}e.current=t,Cl=2}}function id(){if(2===Cl){Cl=0;var e=Pl,t=Tl,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=M.T,M.T=null;var n=N.p;N.p=2;var i=rl;rl|=4;try{Rc(e,t.alternate,t)}finally{rl=i,N.p=n,M.T=r}}Cl=3}}function sd(){if(4===Cl||3===Cl){Cl=0,ee();var e=Pl,t=Tl,r=xl,n=Ll;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cl=5:(Cl=0,Tl=Pl=null,ad(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Rl=null),De(r),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==n){t=M.T,i=N.p,N.p=2,M.T=null;try{for(var s=e.onRecoverableError,a=0;a<n.length;a++){var o=n[a];s(o.value,{componentStack:o.stack})}}finally{M.T=t,N.p=i}}0!==(3&xl)&&od(),Sd(e),i=e.pendingLanes,0!==(4194090&r)&&0!==(42&i)?e===Ol?Il++:(Il=0,Ol=e):Il=0,kd(0,!1)}}function ad(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mi(t)))}function od(e){return nd(),id(),sd(),cd()}function cd(){if(5!==Cl)return!1;var e=Pl,t=Dl;Dl=0;var r=De(xl),n=M.T,i=N.p;try{N.p=32>r?32:r,M.T=null,r=El,El=null;var s=Pl,o=xl;if(Cl=0,Tl=Pl=null,xl=0,0!==(6&rl))throw Error(a(331));var c=rl;if(rl|=4,Xc(s.current),Hc(s,s.current,o,r),rl=c,kd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,s)}catch(l){}return!0}finally{N.p=i,M.T=n,ad(e,t)}}function ld(e,t,r){t=Rn(r,t),null!==(e=ss(e,t=ko(e.stateNode,t,2),2))&&(Ce(e,2),Sd(e))}function dd(e,t,r){if(3===e.tag)ld(e,e,r);else for(;null!==t;){if(3===t.tag){ld(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Rl||!Rl.has(n))){e=Rn(r,e),null!==(n=ss(t,r=Ro(2),2))&&(Co(r,n,t,e),Ce(n,2),Sd(n));break}}t=t.return}}function ud(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tl;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(dl=!0,i.add(r),e=pd.bind(null,e,t,r),t.then(e,e))}function pd(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nl===e&&(sl&r)===r&&(4===pl||3===pl&&(62914560&sl)===sl&&300>te()-_l?0===(2&rl)&&Hl(e,0):ml|=r,yl===sl&&(yl=0)),Sd(e)}function hd(e,t){0===t&&(t=ke()),null!==(e=Ln(e,t))&&(Ce(e,t),Sd(e))}function fd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),hd(e,r)}function md(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==n&&n.delete(t),hd(e,r)}var gd=null,yd=null,bd=!1,vd=!1,wd=!1,_d=0;function Sd(e){e!==yd&&null===e.next&&(null===yd?gd=yd=e:yd=yd.next=e),vd=!0,bd||(bd=!0,uu((function(){0!==(6&rl)?X(ne,Rd):Cd()})))}function kd(e,t){if(!wd&&vd){wd=!0;do{for(var r=!1,n=gd;null!==n;){if(!t)if(0!==e){var i=n.pendingLanes;if(0===i)var s=0;else{var a=n.suspendedLanes,o=n.pingedLanes;s=(1<<31-he(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,xd(n,s))}else s=sl,0===(3&(s=ve(n,n===nl?s:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||we(n,s)||(r=!0,xd(n,s));n=n.next}}while(r);wd=!1}}function Rd(){Cd()}function Cd(){vd=bd=!1;var e=0;0!==_d&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=_d),_d=0);for(var t=te(),r=null,n=gd;null!==n;){var i=n.next,s=Pd(n,t);0===s?(n.next=null,null===r?gd=i:r.next=i,null===i&&(yd=r)):(r=n,(0!==e||0!==(3&s))&&(vd=!0)),n=i}kd(e,!1)}function Pd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-he(s),o=1<<a,c=i[a];-1===c?0!==(o&r)&&0===(o&n)||(i[a]=_e(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}if(r=sl,r=ve(e,e===(t=nl)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===al||9===al)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&J(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||we(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&J(n),De(r)){case 2:case 8:r=ie;break;case 32:default:r=se;break;case 268435456:r=oe}return n=Td.bind(null,e),r=X(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&J(n),e.callbackPriority=2,e.callbackNode=null,2}function Td(e,t){if(0!==Cl&&5!==Cl)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(od()&&e.callbackNode!==r)return null;var n=sl;return 0===(n=ve(e,e===nl?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Al(e,n,t),Pd(e,te()),null!=e.callbackNode&&e.callbackNode===r?Td.bind(null,e):null)}function xd(e,t){if(od())return null;Al(e,t,!0)}function Dd(){return 0===_d&&(_d=Se()),_d}function Ed(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Ld(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Id=0;Id<_n.length;Id++){var Od=_n[Id];Sn(Od.toLowerCase(),"on"+(Od[0].toUpperCase()+Od.slice(1)))}Sn(hn,"onAnimationEnd"),Sn(fn,"onAnimationIteration"),Sn(mn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(gn,"onTransitionRun"),Sn(yn,"onTransitionStart"),Sn(bn,"onTransitionCancel"),Sn(vn,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function jd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=l;try{s(i)}catch(d){yo(d)}i.currentTarget=null,s=c}else for(a=0;a<n.length;a++){if(c=(o=n[a]).instance,l=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=l;try{s(i)}catch(d){yo(d)}i.currentTarget=null,s=c}}}}function Ad(e,t){var r=t[Ne];void 0===r&&(r=t[Ne]=new Set);var n=e+"__bubble";r.has(n)||($d(t,e,2,!1),r.add(n))}function Fd(e,t,r){var n=0;t&&(n|=4),$d(r,e,n,t)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[zd]){e[zd]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Nd.has(t)||Fd(t,!1,e),Fd(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zd]||(t[zd]=!0,Fd("selectionchange",!1,t))}}function $d(e,t,r,n){switch(lp(t)){case 2:var i=np;break;case 8:i=ip;break;default:i=sp}r=i.bind(null,t,r,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ud(e,t,r,n,i){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var o=n.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=$e(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){n=s=a;continue e}o=o.parentNode}}n=n.return}jt((function(){var n=s,i=Lt(r),a=[];e:{var o=wn.get(e);if(void 0!==o){var l=Zt,d=e;switch(e){case"keypress":if(0===Vt(r))break e;case"keydown":case"keyup":l=fr;break;case"focusin":d="focus",l=sr;break;case"focusout":d="blur",l=sr;break;case"beforeblur":case"afterblur":l=sr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gr;break;case hn:case fn:case mn:l=ar;break;case vn:l=yr;break;case"scroll":case"scrollend":l=tr;break;case"wheel":l=br;break;case"copy":case"cut":case"paste":l=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mr;break;case"toggle":case"beforetoggle":l=vr}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=n;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=At(m,h))&&u.push(Hd(m,g,f)),p)break;m=m.return}0<u.length&&(o=new l(o,d,null,r,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Et||!(d=r.relatedTarget||r.fromElement)||!$e(d)&&!d[Me])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(d=(d=r.relatedTarget||r.toElement)?$e(d):null)&&(p=c(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(l=null,d=n),l!==d)){if(u=nr,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=mr,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==l?o:He(l),f=null==d?o:He(d),(o=new u(g,m+"leave",l,r,i)).target=p,o.relatedTarget=f,g=null,$e(i)===n&&((u=new u(h,m+"enter",d,r,i)).target=f,u.relatedTarget=p,g=u),p=g,l&&d)e:{for(h=d,m=0,f=u=l;f;f=Vd(f))m++;for(f=0,g=h;g;g=Vd(g))f++;for(;0<m-f;)u=Vd(u),m--;for(;0<f-m;)h=Vd(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vd(u),h=Vd(h)}u=null}else u=null;null!==l&&Kd(a,o,l,u,!1),null!==d&&null!==p&&Kd(a,p,d,u,!0)}if("select"===(l=(o=n?He(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var y=Ar;else if(Lr(o))if(Fr)y=Qr;else{y=Vr;var b=qr}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Pt(n.elementType)&&(y=Ar):y=Kr;switch(y&&(y=y(e,n))?Ir(a,y,r,i):(b&&b(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&bt(o,"number",o.value)),b=n?He(n):window,e){case"focusin":(Lr(b)||"true"===b.contentEditable)&&(rn=b,nn=n,sn=null);break;case"focusout":sn=nn=rn=null;break;case"mousedown":an=!0;break;case"contextmenu":case"mouseup":case"dragend":an=!1,on(a,r,i);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":on(a,r,i)}var v;if(_r)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Dr?Tr(e,r)&&(w="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(w="onCompositionStart");w&&(Rr&&"ko"!==r.locale&&(Dr||"onCompositionStart"!==w?"onCompositionEnd"===w&&Dr&&(v=qt()):(Ut="value"in($t=i)?$t.value:$t.textContent,Dr=!0)),0<(b=qd(n,w)).length&&(w=new cr(w,e,null,r,i),a.push({event:w,listeners:b}),v?w.data=v:null!==(v=xr(r))&&(w.data=v))),(v=kr?function(e,t){switch(e){case"compositionend":return xr(t);case"keypress":return 32!==t.which?null:(Pr=!0,Cr);case"textInput":return(e=t.data)===Cr&&Pr?null:e;default:return null}}(e,r):function(e,t){if(Dr)return"compositionend"===e||!_r&&Tr(e,t)?(e=qt(),Ht=Ut=$t=null,Dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(w=qd(n,"onBeforeInput")).length&&(b=new cr("onBeforeInput","beforeinput",null,r,i),a.push({event:b,listeners:w}),b.data=v)),function(e,t,r,n,i){if("submit"===t&&r&&r.stateNode===i){var s=Ed((i[Oe]||null).action),a=n.submitter;a&&null!==(t=(t=a[Oe]||null)?Ed(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,n,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==_d){var e=a?Ld(i,a):new FormData(i);Ea(r,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Ld(i,a):new FormData(i),Ea(r,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,n,r,i)}jd(a,t)}))}function Hd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qd(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=At(e,r))&&n.unshift(Hd(e,i,s)),null!=(i=At(e,t))&&n.push(Hd(e,i,s))),3===e.tag)return n;e=e.return}return[]}function Vd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kd(e,t,r,n,i){for(var s=t._reactName,a=[];null!==r&&r!==n;){var o=r,c=o.alternate,l=o.stateNode;if(o=o.tag,null!==c&&c===n)break;5!==o&&26!==o&&27!==o||null===l||(c=l,i?null!=(l=At(r,s))&&a.unshift(Hd(r,l,c)):i||null!=(l=At(r,s))&&a.push(Hd(r,l,c))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var Qd=/\r\n?/g,Wd=/\u0000|\uFFFD/g;function Gd(e){return("string"===typeof e?e:""+e).replace(Qd,"\n").replace(Wd,"")}function Yd(e,t){return t=Gd(t),Gd(e)===t}function Xd(){}function Jd(e,t,r,n,i,s){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||St(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&St(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":Ct(e,n,s);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Dt(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&Jd(e,t,"name",i.name,i,null),Jd(e,t,"formEncType",i.formEncType,i,null),Jd(e,t,"formMethod",i.formMethod,i,null),Jd(e,t,"formTarget",i.formTarget,i,null)):(Jd(e,t,"encType",i.encType,i,null),Jd(e,t,"method",i.method,i,null),Jd(e,t,"target",i.target,i,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Dt(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Xd);break;case"onScroll":null!=n&&Ad("scroll",e);break;case"onScrollEnd":null!=n&&Ad("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Dt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Ad("beforetoggle",e),Ad("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Tt.get(r)||r,n)}}function Zd(e,t,r,n,i,s){switch(r){case"style":Ct(e,n,s);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=r}}break;case"children":"string"===typeof n?St(e,n):("number"===typeof n||"bigint"===typeof n)&&St(e,""+n);break;case"onScroll":null!=n&&Ad("scroll",e);break;case"onScrollEnd":null!=n&&Ad("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Xd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),"function"===typeof(s=null!=(s=e[Oe]||null)?s[r]:null)&&e.removeEventListener(t,s,i),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i)))}}function eu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ad("error",e),Ad("load",e);var n,i=!1,s=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Jd(e,t,n,o,r,null)}}return s&&Jd(e,t,"srcSet",r.srcSet,r,null),void(i&&Jd(e,t,"src",r.src,r,null));case"input":Ad("invalid",e);var c=n=o=s=null,l=null,d=null;for(i in r)if(r.hasOwnProperty(i)){var u=r[i];if(null!=u)switch(i){case"name":s=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":c=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:Jd(e,t,i,u,r,null)}}return yt(e,n,c,l,d,o,s,!1),void ut(e);case"select":for(s in Ad("invalid",e),i=o=n=null,r)if(r.hasOwnProperty(s)&&null!=(c=r[s]))switch(s){case"value":n=c;break;case"defaultValue":o=c;break;case"multiple":i=c;default:Jd(e,t,s,c,r,null)}return t=n,r=o,e.multiple=!!i,void(null!=t?vt(e,!!i,t,!1):null!=r&&vt(e,!!i,r,!0));case"textarea":for(o in Ad("invalid",e),n=s=i=null,r)if(r.hasOwnProperty(o)&&null!=(c=r[o]))switch(o){case"value":i=c;break;case"defaultValue":s=c;break;case"children":n=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(a(91));break;default:Jd(e,t,o,c,r,null)}return _t(e,i,s,n),void ut(e);case"option":for(l in r)if(r.hasOwnProperty(l)&&null!=(i=r[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Jd(e,t,l,i,r,null);return;case"dialog":Ad("beforetoggle",e),Ad("toggle",e),Ad("cancel",e),Ad("close",e);break;case"iframe":case"object":Ad("load",e);break;case"video":case"audio":for(i=0;i<Md.length;i++)Ad(Md[i],e);break;case"image":Ad("error",e),Ad("load",e);break;case"details":Ad("toggle",e);break;case"embed":case"source":case"link":Ad("error",e),Ad("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(i=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Jd(e,t,d,i,r,null)}return;default:if(Pt(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(i=r[u])&&Zd(e,t,u,i,r,void 0));return}}for(c in r)r.hasOwnProperty(c)&&(null!=(i=r[c])&&Jd(e,t,c,i,r,null))}var tu=null,ru=null;function nu(e){return 9===e.nodeType?e:e.ownerDocument}function iu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function su(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function au(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var cu="function"===typeof setTimeout?setTimeout:void 0,lu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(pu)}:cu;function pu(e){setTimeout((function(){throw e}))}function hu(e){return"head"===e}function fu(e,t){var r=t,n=0,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0<n&&8>n){r=n;var a=e.ownerDocument;if(1&r&&_u(a.documentElement),2&r&&_u(a.body),4&r)for(_u(r=a.head),a=r.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[ze]||"SCRIPT"===c||"STYLE"===c||"LINK"===c&&"stylesheet"===a.rel.toLowerCase()||r.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Tp(t);i--}else"$"===r||"$?"===r||"$!"===r?i++:n=r.charCodeAt(0)-48;else n=0;r=s}while(r);Tp(t)}function mu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mu(r),Be(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bu=null;function vu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function wu(e,t,r){switch(t=nu(r),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function _u(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Su=new Map,ku=new Set;function Ru(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cu=N.d;N.d={f:function(){var e=Cu.f(),t=$l();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ia(t):Cu.r(e)},D:function(e){Cu.D(e),Tu("dns-prefetch",e,null)},C:function(e,t){Cu.C(e,t),Tu("preconnect",e,t)},L:function(e,t,r){Cu.L(e,t,r);var n=Pu;if(n&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(i+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(i+='[imagesizes="'+mt(r.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Du(e);break;case"script":s=Iu(e)}Su.has(s)||(e=p({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Su.set(s,e),null!==n.querySelector(i)||"style"===t&&n.querySelector(Eu(s))||"script"===t&&n.querySelector(Ou(s))||(eu(t=n.createElement("link"),"link",e),Ve(t),n.head.appendChild(t)))}},m:function(e,t){Cu.m(e,t);var r=Pu;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',s=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Iu(e)}if(!Su.has(s)&&(e=p({rel:"modulepreload",href:e},t),Su.set(s,e),null===r.querySelector(i))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ou(s)))return}eu(n=r.createElement("link"),"link",e),Ve(n),r.head.appendChild(n)}}},X:function(e,t){Cu.X(e,t);var r=Pu;if(r&&e){var n=qe(r).hoistableScripts,i=Iu(e),s=n.get(i);s||((s=r.querySelector(Ou(i)))||(e=p({src:e,async:!0},t),(t=Su.get(i))&&Au(e,t),Ve(s=r.createElement("script")),eu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}},S:function(e,t,r){Cu.S(e,t,r);var n=Pu;if(n&&e){var i=qe(n).hoistableStyles,s=Du(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=n.querySelector(Eu(s)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Su.get(s))&&ju(e,r);var c=a=n.createElement("link");Ve(c),eu(c,"link",e),c._p=new Promise((function(e,t){c.onload=e,c.onerror=t})),c.addEventListener("load",(function(){o.loading|=1})),c.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Nu(a,t,n)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Cu.M(e,t);var r=Pu;if(r&&e){var n=qe(r).hoistableScripts,i=Iu(e),s=n.get(i);s||((s=r.querySelector(Ou(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=Su.get(i))&&Au(e,t),Ve(s=r.createElement("script")),eu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}};var Pu="undefined"===typeof document?null:document;function Tu(e,t,r){var n=Pu;if(n&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof r&&(i+='[crossorigin="'+r+'"]'),ku.has(i)||(ku.add(i),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(i)&&(eu(t=n.createElement("link"),"link",e),Ve(t),n.head.appendChild(t)))}}function xu(e,t,r,n){var i,s,o,c,l=(l=q.current)?Ru(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Du(r.href),(n=(r=qe(l).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Du(r.href);var d=qe(l).hoistableStyles,u=d.get(e);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=l.querySelector(Eu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Su.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Su.set(e,r),d||(i=l,s=e,o=r,c=u.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",(function(){return c.loading|=1})),s.addEventListener("error",(function(){return c.loading|=2})),eu(s,"link",o),Ve(s),i.head.appendChild(s))))),t&&null===n)throw Error(a(528,""));return u}if(t&&null!==n)throw Error(a(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Iu(r),(n=(r=qe(l).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Du(e){return'href="'+mt(e)+'"'}function Eu(e){return'link[rel="stylesheet"]['+e+"]"}function Lu(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Iu(e){return'[src="'+mt(e)+'"]'}function Ou(e){return"script[async]"+e}function Mu(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(r.href)+'"]');if(n)return t.instance=n,Ve(n),n;var i=p({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ve(n=(e.ownerDocument||e).createElement("style")),eu(n,"style",i),Nu(n,r.precedence,e),t.instance=n;case"stylesheet":i=Du(r.href);var s=e.querySelector(Eu(i));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;n=Lu(r),(i=Su.get(i))&&ju(n,i),Ve(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(s,"link",n),t.state.loading|=4,Nu(s,r.precedence,e),t.instance=s;case"script":return s=Iu(r.src),(i=e.querySelector(Ou(s)))?(t.instance=i,Ve(i),i):(n=r,(i=Su.get(s))&&Au(n=p({},r),i),Ve(i=(e=e.ownerDocument||e).createElement("script")),eu(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Nu(n,r.precedence,e));return t.instance}function Nu(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,s=i,a=0;a<n.length;a++){var o=n[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function ju(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Au(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fu=null;function zu(e,t,r){if(null===Fu){var n=new Map,i=Fu=new Map;i.set(r,n)}else(n=(i=Fu).get(r))||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var s=r[i];if(!(s[ze]||s[Ie]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=n.get(a);o?o.push(s):n.set(a,[s])}}return n}function Bu(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function $u(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Uu=null;function Hu(){}function qu(){if(this.count--,0===this.count)if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vu=null;function Ku(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vu=new Map,t.forEach(Qu,e),Vu=null,qu.call(e))}function Qu(e,t){if(!(4&t.state.loading)){var r=Vu.get(e);if(r)var n=r.get(null);else{r=new Map,Vu.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(r.set(a.dataset.precedence,a),n=a)}n&&r.set(null,n)}a=(i=t.instance).getAttribute("data-precedence"),(s=r.get(a)||n)===n&&r.set(null,i),r.set(a,i),this.count++,n=qu.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Wu={$$typeof:_,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Gu(e,t,r,n,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yu(e,t,r,n,i,s,a,o,c,l,d,u){return e=new Gu(e,t,r,a,o,c,l,u),t=1,!0===s&&(t|=24),s=jn(3,null,null,t),e.current=s,s.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:r,cache:t},rs(s),e}function Xu(e){return e?e=Mn:Mn}function Ju(e,t,r,n,i,s){i=Xu(i),null===n.context?n.context=i:n.pendingContext=i,(n=is(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(n.callback=s),null!==(r=ss(e,n,t))&&(jl(r,0,t),as(r,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ep(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tp(e){if(13===e.tag){var t=Ln(e,67108864);null!==t&&jl(t,0,67108864),ep(e,67108864)}}var rp=!0;function np(e,t,r,n){var i=M.T;M.T=null;var s=N.p;try{N.p=2,sp(e,t,r,n)}finally{N.p=s,M.T=i}}function ip(e,t,r,n){var i=M.T;M.T=null;var s=N.p;try{N.p=8,sp(e,t,r,n)}finally{N.p=s,M.T=i}}function sp(e,t,r,n){if(rp){var i=ap(n);if(null===i)Ud(e,t,n,op,r),bp(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return up=vp(up,e,t,r,n,i),!0;case"dragenter":return pp=vp(pp,e,t,r,n,i),!0;case"mouseover":return hp=vp(hp,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return fp.set(s,vp(fp.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,mp.set(s,vp(mp.get(s)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(bp(e,n),4&t&&-1<yp.indexOf(e)){for(;null!==i;){var s=Ue(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=be(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-he(a);o.entanglements[1]|=c,a&=~c}Sd(s),0===(6&rl)&&(Sl=te()+500,kd(0,!1))}}break;case 13:null!==(o=Ln(s,2))&&jl(o,0,2),$l(),ep(s,2)}if(null===(s=ap(n))&&Ud(e,t,n,op,r),s===i)break;i=s}null!==i&&n.stopPropagation()}else Ud(e,t,n,null,r)}}function ap(e){return cp(e=Lt(e))}var op=null;function cp(e){if(op=null,null!==(e=$e(e))){var t=c(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=l(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return op=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dp=!1,up=null,pp=null,hp=null,fp=new Map,mp=new Map,gp=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(e,t){switch(e){case"focusin":case"focusout":up=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(t.pointerId)}}function vp(e,t,r,n,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&tp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wp(e){var t=$e(e.target);if(null!==t){var r=c(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=l(r)))return e.blockedOn=t,void function(e,t){var r=N.p;try{return N.p=e,t()}finally{N.p=r}}(e.priority,(function(){if(13===r.tag){var e=Ml();e=xe(e);var t=Ln(r,e);null!==t&&jl(t,0,e),ep(r,e)}}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function _p(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=ap(e.nativeEvent);if(null!==r)return null!==(t=Ue(r))&&tp(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Et=n,r.target.dispatchEvent(n),Et=null,t.shift()}return!0}function Sp(e,t,r){_p(e)&&r.delete(t)}function kp(){dp=!1,null!==up&&_p(up)&&(up=null),null!==pp&&_p(pp)&&(pp=null),null!==hp&&_p(hp)&&(hp=null),fp.forEach(Sp),mp.forEach(Sp)}function Rp(e,t){e.blockedOn===t&&(e.blockedOn=null,dp||(dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kp)))}var Cp=null;function Pp(e){Cp!==e&&(Cp=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,(function(){Cp===e&&(Cp=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if("function"!==typeof n){if(null===cp(n||r))continue;break}var s=Ue(r);null!==s&&(e.splice(t,3),t-=3,Ea(s,{pending:!0,data:i,method:r.method,action:n},n,i))}})))}function Tp(e){function t(t){return Rp(t,e)}null!==up&&Rp(up,e),null!==pp&&Rp(pp,e),null!==hp&&Rp(hp,e),fp.forEach(t),mp.forEach(t);for(var r=0;r<gp.length;r++){var n=gp[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<gp.length&&null===(r=gp[0]).blockedOn;)wp(r),null===r.blockedOn&&gp.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var i=r[n],s=r[n+1],a=i[Oe]||null;if("function"===typeof s)a||Pp(r);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Oe]||null)o=a.formAction;else if(null!==cp(i))continue}else o=a.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Pp(r)}}}function xp(e){this._internalRoot=e}function Dp(e){this._internalRoot=e}Dp.prototype.render=xp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ju(t.current,Ml(),e,t,null,null)},Dp.prototype.unmount=xp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Ju(e.current,2,null,e,null,null),$l(),t[Me]=null}},Dp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ee();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gp.length&&0!==t&&t<gp[r].priority;r++);gp.splice(r,0,e),0===r&&wp(e)}};var Ep=i.version;if("19.1.0"!==Ep)throw Error(a(527,Ep,"19.1.0"));N.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(n=i.return)){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return d(i),e;if(s===n)return d(i),t;s=s.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Lp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{de=Ip.inject(Lp),ue=Ip}catch(Mp){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var r=!1,n="",i=bo,s=vo,c=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yu(e,1,!1,null,0,r,n,i,s,c,0,null),e[Me]=t.current,Bd(e),new xp(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(a(299));var n=!1,i="",s=bo,c=vo,l=wo,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(c=r.onCaughtError),void 0!==r.onRecoverableError&&(l=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(d=r.formState)),(t=Yu(e,1,!0,t,0,n,i,s,c,l,0,d)).context=Xu(null),r=t.current,(i=is(n=xe(n=Ml()))).callback=null,ss(r,i,n),r=n,t.current.lanes=r,Ce(t,r),Sd(t),e[Me]=t.current,Bd(e),new Dp(t)},t.version="19.1.0"},7163:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const i=n(r(6522)),s="h264-profile-level-id";t.Logger=class{constructor(e){e?(this._debug=(0,i.default)(`${s}:${e}`),this._warn=(0,i.default)(`${s}:WARN:${e}`),this._error=(0,i.default)(`${s}:ERROR:${e}`)):(this._debug=(0,i.default)(s),this._warn=(0,i.default)(`${s}:WARN`),this._error=(0,i.default)(`${s}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},7340:e=>{var t=1e3,r=60*t,n=60*r,i=24*n,s=7*i,a=365.25*i;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,c){c=c||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!o)return;var c=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&isFinite(e))return c.long?function(e){var s=Math.abs(e);if(s>=i)return o(e,s,i,"day");if(s>=n)return o(e,s,n,"hour");if(s>=r)return o(e,s,r,"minute");if(s>=t)return o(e,s,t,"second");return e+" ms"}(e):function(e){var s=Math.abs(e);if(s>=i)return Math.round(e/i)+"d";if(s>=n)return Math.round(e/n)+"h";if(s>=r)return Math.round(e/r)+"m";if(s>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileLevelId=t.Level=t.Profile=void 0,t.parseProfileLevelId=p,t.profileLevelIdToString=h,t.profileToString=function(e){switch(e){case i.ConstrainedBaseline:return"ConstrainedBaseline";case i.Baseline:return"Baseline";case i.Main:return"Main";case i.ConstrainedHigh:return"ConstrainedHigh";case i.High:return"High";case i.PredictiveHigh444:return"PredictiveHigh444";default:return void n.warn(`profileToString() | unrecognized profile ${e}`)}},t.levelToString=function(e){switch(e){case s.L1_b:return"1b";case s.L1:return"1";case s.L1_1:return"1.1";case s.L1_2:return"1.2";case s.L1_3:return"1.3";case s.L2:return"2";case s.L2_1:return"2.1";case s.L2_2:return"2.2";case s.L3:return"3";case s.L3_1:return"3.1";case s.L3_2:return"3.2";case s.L4:return"4";case s.L4_1:return"4.1";case s.L4_2:return"4.2";case s.L5:return"5";case s.L5_1:return"5.1";case s.L5_2:return"5.2";default:return void n.warn(`levelToString() | unrecognized level ${e}`)}},t.parseSdpProfileLevelId=f,t.isSameProfile=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=f(e),n=f(t);return Boolean(r&&n&&r.profile===n.profile)},t.isSameProfileAndLevel=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=f(e),n=f(t);return Boolean(r&&n&&r.profile===n.profile&&r.level==n.level)},t.generateProfileLevelIdStringForAnswer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e["profile-level-id"]&&!t["profile-level-id"])return void n.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");const r=f(e),i=f(t);if(!r)throw new TypeError("invalid local_profile_level_id");if(!i)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==i.profile)throw new TypeError("H264 Profile mismatch");const o=g(e)&&g(t),c=r.level,l=i.level,d=(p=c,m=l,function(e,t){return e===s.L1_b?t!==s.L1&&t!==s.L1_b:t===s.L1_b?e!==s.L1:e<t}(p,m)?p:m),u=o?c:d;var p,m;return n.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${r.profile}, level:${u}]`),h(new a(r.profile,u))},t.supportedLevel=function(e,t){for(let r=u.length-1;r>=0;--r){const i=u[r];if(256*i.max_macroblock_frame_size<=e&&i.max_macroblocks_per_second<=t*i.max_macroblock_frame_size)return n.debug(`supportedLevel() | result [max_frame_pixel_count:${e}, max_fps:${t}, level:${i.level}]`),i.level}return void n.warn(`supportedLevel() | no level supported [max_frame_pixel_count:${e}, max_fps:${t}]`)};const n=new(r(7163).Logger);var i,s;!function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"}(i||(t.Profile=i={})),function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"}(s||(t.Level=s={}));class a{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=a;const o=new a(i.ConstrainedBaseline,s.L3_1);class c{constructor(e){this.mask=~m("x",e),this.masked_value=m("1",e)}isMatch(e){return this.masked_value===(e&this.mask)}}class l{constructor(e,t,r){this.profile_idc=e,this.profile_iop=t,this.profile=r}}const d=[new l(66,new c("x1xx0000"),i.ConstrainedBaseline),new l(77,new c("1xxx0000"),i.ConstrainedBaseline),new l(88,new c("11xx0000"),i.ConstrainedBaseline),new l(66,new c("x0xx0000"),i.Baseline),new l(88,new c("10xx0000"),i.Baseline),new l(77,new c("0x0x0000"),i.Main),new l(100,new c("00000000"),i.High),new l(100,new c("00001100"),i.ConstrainedHigh),new l(244,new c("00000000"),i.PredictiveHigh444)],u=[{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:s.L1},{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:s.L1_b},{max_macroblocks_per_second:3e3,max_macroblock_frame_size:396,level:s.L1_1},{max_macroblocks_per_second:6e3,max_macroblock_frame_size:396,level:s.L1_2},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:s.L1_3},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:s.L2},{max_macroblocks_per_second:19800,max_macroblock_frame_size:792,level:s.L2_1},{max_macroblocks_per_second:20250,max_macroblock_frame_size:1620,level:s.L2_2},{max_macroblocks_per_second:40500,max_macroblock_frame_size:1620,level:s.L3},{max_macroblocks_per_second:108e3,max_macroblock_frame_size:3600,level:s.L3_1},{max_macroblocks_per_second:216e3,max_macroblock_frame_size:5120,level:s.L3_2},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:s.L4},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:s.L4_1},{max_macroblocks_per_second:522240,max_macroblock_frame_size:8704,level:s.L4_2},{max_macroblocks_per_second:589824,max_macroblock_frame_size:22080,level:s.L5},{max_macroblocks_per_second:983040,max_macroblock_frame_size:36864,level:s.L5_1},{max_macroblocks_per_second:2073600,max_macroblock_frame_size:36864,level:s.L5_2}];function p(e){if("string"!==typeof e||6!==e.length)return;const t=parseInt(e,16);if(0===t)return;const r=255&t,i=t>>8&255,o=t>>16&255;let c;switch(r){case s.L1_1:c=0!==(16&i)?s.L1_b:s.L1_1;break;case s.L1:case s.L1_2:case s.L1_3:case s.L2:case s.L2_1:case s.L2_2:case s.L3:case s.L3_1:case s.L3_2:case s.L4:case s.L4_1:case s.L4_2:case s.L5:case s.L5_1:case s.L5_2:c=r;break;default:return void n.warn(`parseProfileLevelId() | unrecognized level_idc [str:${e}, level_idc:${r}]`)}for(const s of d)if(o===s.profile_idc&&s.profile_iop.isMatch(i))return n.debug(`parseProfileLevelId() | result [str:${e}, profile:${s.profile}, level:${c}]`),new a(s.profile,c);n.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${e}, profile_idc:${o}, profile_iop:${i}]`)}function h(e){if(e.level==s.L1_b)switch(e.profile){case i.ConstrainedBaseline:return"42f00b";case i.Baseline:return"42100b";case i.Main:return"4d100b";default:return void n.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${e.profile}`)}let t;switch(e.profile){case i.ConstrainedBaseline:t="42e0";break;case i.Baseline:t="4200";break;case i.Main:t="4d00";break;case i.ConstrainedHigh:t="640c";break;case i.High:t="6400";break;case i.PredictiveHigh444:t="f400";break;default:return void n.warn(`profileLevelIdToString() | unrecognized profile ${e.profile}`)}let r=e.level.toString(16);return 1===r.length&&(r=`0${r}`),`${t}${r}`}function f(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["profile-level-id"];return e?p(e):o}function m(e,t){return Number(t[0]===e)<<7|Number(t[1]===e)<<6|Number(t[2]===e)<<5|Number(t[3]===e)<<4|Number(t[4]===e)<<3|Number(t[5]===e)<<2|Number(t[6]===e)<<1|Number(t[7]===e)}function g(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["level-asymmetry-allowed"];return!0===e||1===e||"1"===e}},7849:(e,t,r)=>{"use strict";const n=r(8988);function i(){return String(n.generateRandomNumber())}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},7964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const n=r(2669),i=r(2097),s=r(9642),a=r(9398),o=r(8988),c=r(5809),l=r(4315),d=r(8021),u=r(5275),p=r(4357),h=new i.Logger("Transport");class f{consumerOptions;promise;resolve;reject;constructor(e){this.consumerOptions=e,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class m extends s.EnhancedEventEmitter{_id;_closed=!1;_direction;_extendedRtpCapabilities;_canProduceByKind;_maxSctpMessageSize;_handler;_iceGatheringState="new";_connectionState="new";_appData;_producers=(()=>new Map)();_consumers=(()=>new Map)();_dataProducers=(()=>new Map)();_dataConsumers=(()=>new Map)();_probatorConsumerCreated=!1;_awaitQueue=(()=>new n.AwaitQueue)();_pendingConsumerTasks=[];_consumerCreationInProgress=!1;_pendingPauseConsumers=(()=>new Map)();_consumerPauseInProgress=!1;_pendingResumeConsumers=(()=>new Map)();_consumerResumeInProgress=!1;_pendingCloseConsumers=(()=>new Map)();_consumerCloseInProgress=!1;_observer=(()=>new s.EnhancedEventEmitter)();constructor(e){let{direction:t,id:r,iceParameters:n,iceCandidates:i,dtlsParameters:s,sctpParameters:a,iceServers:c,iceTransportPolicy:l,additionalSettings:d,proprietaryConstraints:u,appData:p,handlerFactory:f,extendedRtpCapabilities:m,canProduceByKind:g}=e;super(),h.debug("constructor() [id:%s, direction:%s]",r,t),this._id=r,this._direction=t,this._extendedRtpCapabilities=m,this._canProduceByKind=g,this._maxSctpMessageSize=a?a.maxMessageSize:null;const y=o.clone(d)??{};delete y.iceServers,delete y.iceTransportPolicy,delete y.bundlePolicy,delete y.rtcpMuxPolicy,delete y.sdpSemantics,this._handler=f(),this._handler.run({direction:t,iceParameters:n,iceCandidates:i,dtlsParameters:s,sctpParameters:a,iceServers:c,iceTransportPolicy:l,additionalSettings:y,proprietaryConstraints:u,extendedRtpCapabilities:m}),this._appData=p??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){if(!this._closed){h.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new a.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce(e){let{iceParameters:t}=e;if(h.debug("restartIce()"),this._closed)throw new a.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push((async()=>await this._handler.restartIce(t)),"transport.restartIce()")}async updateIceServers(){let{iceServers:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h.debug("updateIceServers()"),this._closed)throw new a.InvalidStateError("closed");if(!Array.isArray(e))throw new TypeError("missing iceServers");return this._awaitQueue.push((async()=>this._handler.updateIceServers(e)),"transport.updateIceServers()")}async produce(){let{track:e,encodings:t,codecOptions:r,codec:n,stopTracks:i=!0,disableTrackOnPause:s=!0,zeroRtpOnPause:o=!1,onRtpSender:d,appData:u={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h.debug("produce() [track:%o]",e),this._closed)throw new a.InvalidStateError("closed");if(!e)throw new TypeError("missing track");if("send"!==this._direction)throw new a.UnsupportedError("not a sending Transport");if(!this._canProduceByKind[e.kind])throw new a.UnsupportedError(`cannot produce ${e.kind}`);if("ended"===e.readyState)throw new a.InvalidStateError("track ended");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("produce"))throw new TypeError('no "produce" listener set into this transport');if(u&&"object"!==typeof u)throw new TypeError("if given, appData must be an object");return this._awaitQueue.push((async()=>{let a;if(t&&!Array.isArray(t))throw TypeError("encodings must be an array");t&&0===t.length?a=void 0:t&&(a=t.map((e=>{const t={active:!0};return!1===e.active&&(t.active=!1),"boolean"===typeof e.dtx&&(t.dtx=e.dtx),"string"===typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"===typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"===typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"===typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"===typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"===typeof e.priority&&(t.priority=e.priority),"string"===typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t})));const{localId:p,rtpParameters:h,rtpSender:f}=await this._handler.send({track:e,encodings:a,codecOptions:r,codec:n,onRtpSender:d});try{c.validateRtpParameters(h);const{id:t}=await new Promise(((t,r)=>{this.safeEmit("produce",{kind:e.kind,rtpParameters:h,appData:u},t,r)})),r=new l.Producer({id:t,localId:p,rtpSender:f,track:e,rtpParameters:h,stopTracks:i,disableTrackOnPause:s,zeroRtpOnPause:o,appData:u});return this._producers.set(r.id,r),this.handleProducer(r),this._observer.safeEmit("newproducer",r),r}catch(m){throw this._handler.stopSending(p).catch((()=>{})),m}}),"transport.produce()").catch((t=>{if(i)try{e.stop()}catch(r){}throw t}))}async consume(e){let{id:t,producerId:r,kind:n,rtpParameters:i,streamId:s,onRtpReceiver:l,appData:d={}}=e;if(h.debug("consume()"),this._closed)throw new a.InvalidStateError("closed");if("recv"!==this._direction)throw new a.UnsupportedError("not a receiving Transport");if("string"!==typeof t)throw new TypeError("missing id");if("string"!==typeof r)throw new TypeError("missing producerId");if("audio"!==n&&"video"!==n)throw new TypeError(`invalid kind '${n}'`);if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(d&&"object"!==typeof d)throw new TypeError("if given, appData must be an object");const u=o.clone(i);if(!c.canReceive(u,this._extendedRtpCapabilities))throw new a.UnsupportedError("cannot consume this Producer");const p=new f({id:t,producerId:r,kind:n,rtpParameters:u,streamId:s,onRtpReceiver:l,appData:d});return this._pendingConsumerTasks.push(p),queueMicrotask((()=>{this._closed||!1===this._consumerCreationInProgress&&this.createPendingConsumers()})),p.promise}async produceData(){let{ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:r,label:n="",protocol:i="",appData:s={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h.debug("produceData()"),this._closed)throw new a.InvalidStateError("closed");if("send"!==this._direction)throw new a.UnsupportedError("not a sending Transport");if(!this._maxSctpMessageSize)throw new a.UnsupportedError("SCTP not enabled by remote Transport");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("producedata"))throw new TypeError('no "producedata" listener set into this transport');if(s&&"object"!==typeof s)throw new TypeError("if given, appData must be an object");return(t||r)&&(e=!1),this._awaitQueue.push((async()=>{const{dataChannel:a,sctpStreamParameters:o}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:n,protocol:i});c.validateSctpStreamParameters(o);const{id:l}=await new Promise(((e,t)=>{this.safeEmit("producedata",{sctpStreamParameters:o,label:n,protocol:i,appData:s},e,t)})),d=new u.DataProducer({id:l,dataChannel:a,sctpStreamParameters:o,appData:s});return this._dataProducers.set(d.id,d),this.handleDataProducer(d),this._observer.safeEmit("newdataproducer",d),d}),"transport.produceData()")}async consumeData(e){let{id:t,dataProducerId:r,sctpStreamParameters:n,label:i="",protocol:s="",appData:l={}}=e;if(h.debug("consumeData()"),this._closed)throw new a.InvalidStateError("closed");if("recv"!==this._direction)throw new a.UnsupportedError("not a receiving Transport");if(!this._maxSctpMessageSize)throw new a.UnsupportedError("SCTP not enabled by remote Transport");if("string"!==typeof t)throw new TypeError("missing id");if("string"!==typeof r)throw new TypeError("missing dataProducerId");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(l&&"object"!==typeof l)throw new TypeError("if given, appData must be an object");const d=o.clone(n);return c.validateSctpStreamParameters(d),this._awaitQueue.push((async()=>{const{dataChannel:e}=await this._handler.receiveDataChannel({sctpStreamParameters:d,label:i,protocol:s}),n=new p.DataConsumer({id:t,dataProducerId:r,dataChannel:e,sctpStreamParameters:d,appData:l});return this._dataConsumers.set(n.id,n),this.handleDataConsumer(n),this._observer.safeEmit("newdataconsumer",n),n}),"transport.consumeData()")}createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingConsumerTasks.length)return void h.debug("createPendingConsumers() | there is no Consumer to be created");const e=[...this._pendingConsumerTasks];let t;this._pendingConsumerTasks=[];const r=[];for(const i of e){const{id:e,kind:t,rtpParameters:n,streamId:s,onRtpReceiver:a}=i.consumerOptions;r.push({trackId:e,kind:t,rtpParameters:n,streamId:s,onRtpReceiver:a})}try{const n=await this._handler.receive(r);for(let r=0;r<n.length;++r){const i=e[r],s=n[r],{id:a,producerId:o,kind:c,rtpParameters:l,appData:u}=i.consumerOptions,{localId:p,rtpReceiver:h,track:f}=s,m=new d.Consumer({id:a,localId:p,producerId:o,rtpReceiver:h,track:f,rtpParameters:l,appData:u});this._consumers.set(m.id,m),this.handleConsumer(m),this._probatorConsumerCreated||t||"video"!==c||(t=m),this._observer.safeEmit("newconsumer",m),i.resolve(m)}}catch(n){for(const t of e)t.reject(n)}if(t)try{const e=c.generateProbatorRtpParameters(t.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:e}]),h.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(n){h.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",n)}}),"transport.createPendingConsumers()").then((()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()})).catch((()=>{}))}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingPauseConsumers.size)return void h.debug("pausePendingConsumers() | there is no Consumer to be paused");const e=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const t=e.map((e=>e.localId));await this._handler.pauseReceiving(t)}catch(t){h.error("pausePendingConsumers() | failed to pause Consumers:",t)}}),"transport.pausePendingConsumers").then((()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()})).catch((()=>{}))}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingResumeConsumers.size)return void h.debug("resumePendingConsumers() | there is no Consumer to be resumed");const e=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const t=e.map((e=>e.localId));await this._handler.resumeReceiving(t)}catch(t){h.error("resumePendingConsumers() | failed to resume Consumers:",t)}}),"transport.resumePendingConsumers").then((()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()})).catch((()=>{}))}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingCloseConsumers.size)return void h.debug("closePendingConsumers() | there is no Consumer to be closed");const e=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(e.map((e=>e.localId)))}catch(t){h.error("closePendingConsumers() | failed to close Consumers:",t)}}),"transport.closePendingConsumers").then((()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()})).catch((()=>{}))}handleHandler(){const e=this._handler;e.on("@connect",((e,t,r)=>{let{dtlsParameters:n}=e;this._closed?r(new a.InvalidStateError("closed")):this.safeEmit("connect",{dtlsParameters:n},t,r)})),e.on("@icegatheringstatechange",(e=>{e!==this._iceGatheringState&&(h.debug("ICE gathering state changed to %s",e),this._iceGatheringState=e,this._closed||this.safeEmit("icegatheringstatechange",e))})),e.on("@icecandidateerror",(e=>{h.warn(`ICE candidate error [url:${e.url}, localAddress:${e.address}, localPort:${e.port}]: ${e.errorCode} "${e.errorText}"`),this.safeEmit("icecandidateerror",e)})),e.on("@connectionstatechange",(e=>{e!==this._connectionState&&(h.debug("connection state changed to %s",e),this._connectionState=e,this._closed||this.safeEmit("connectionstatechange",e))}))}handleProducer(e){e.on("@close",(()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push((async()=>await this._handler.stopSending(e.localId)),"producer @close event").catch((e=>h.warn("producer.close() failed:%o",e)))})),e.on("@pause",((t,r)=>{this._awaitQueue.push((async()=>await this._handler.pauseSending(e.localId)),"producer @pause event").then(t).catch(r)})),e.on("@resume",((t,r)=>{this._awaitQueue.push((async()=>await this._handler.resumeSending(e.localId)),"producer @resume event").then(t).catch(r)})),e.on("@replacetrack",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.replaceTrack(e.localId,t)),"producer @replacetrack event").then(r).catch(n)})),e.on("@setmaxspatiallayer",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.setMaxSpatialLayer(e.localId,t)),"producer @setmaxspatiallayer event").then(r).catch(n)})),e.on("@setrtpencodingparameters",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.setRtpEncodingParameters(e.localId,t)),"producer @setrtpencodingparameters event").then(r).catch(n)})),e.on("@getstats",((t,r)=>{if(this._closed)return r(new a.InvalidStateError("closed"));this._handler.getSenderStats(e.localId).then(t).catch(r)}))}handleConsumer(e){e.on("@close",(()=>{this._consumers.delete(e.id),this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.delete(e.id),this._closed||(this._pendingCloseConsumers.set(e.id,e),!1===this._consumerCloseInProgress&&this.closePendingConsumers())})),e.on("@pause",(()=>{this._pendingResumeConsumers.has(e.id)&&this._pendingResumeConsumers.delete(e.id),this._pendingPauseConsumers.set(e.id,e),queueMicrotask((()=>{this._closed||!1===this._consumerPauseInProgress&&this.pausePendingConsumers()}))})),e.on("@resume",(()=>{this._pendingPauseConsumers.has(e.id)&&this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.set(e.id,e),queueMicrotask((()=>{this._closed||!1===this._consumerResumeInProgress&&this.resumePendingConsumers()}))})),e.on("@getstats",((t,r)=>{if(this._closed)return r(new a.InvalidStateError("closed"));this._handler.getReceiverStats(e.localId).then(t).catch(r)}))}handleDataProducer(e){e.on("@close",(()=>{this._dataProducers.delete(e.id)}))}handleDataConsumer(e){e.on("@close",(()=>{this._dataConsumers.delete(e.id)}))}}t.Transport=m},8021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=void 0;const n=r(2097),i=r(9642),s=r(9398),a=new n.Logger("Consumer");class o extends i.EnhancedEventEmitter{_id;_localId;_producerId;_closed=!1;_rtpReceiver;_track;_rtpParameters;_paused;_appData;_observer=(()=>new i.EnhancedEventEmitter)();constructor(e){let{id:t,localId:r,producerId:n,rtpReceiver:i,track:s,rtpParameters:o,appData:c}=e;super(),a.debug("constructor()"),this._id=t,this._localId=r,this._producerId=n,this._rtpReceiver=i,this._track=s,this._rtpParameters=o,this._paused=!s.enabled,this._appData=c??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(a.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(a.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new s.InvalidStateError("closed");return new Promise(((e,t)=>{this.safeEmit("@getstats",e,t)}))}pause(){a.debug("pause()"),this._closed?a.error("pause() | Consumer closed"):this._paused?a.debug("pause() | Consumer is already paused"):(this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause"))}resume(){a.debug("resume()"),this._closed?a.error("resume() | Consumer closed"):this._paused?(this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")):a.debug("resume() | Consumer is already resumed")}onTrackEnded(){a.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch(e){}}}t.Consumer=o},8027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome55=void 0;const n=r(9640),i=r(2097),s=r(9398),a=r(8988),o=r(5809),c=r(5467),l=r(9613),d=r(2384),u=r(3054),p=new i.Logger("Chrome55"),h={OS:1024,MIS:1024};class f extends d.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdTrack=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new f}constructor(){super()}get name(){return"Chrome55"}close(){if(p.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){p.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:h}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:h}=e;p.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",h),video:o.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",h),video:o.getSendingRemoteRtpParameters("video",h)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){p.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:s}=e;this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&p.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let d,u=await this._pc.createOffer(),h=n.parse(u.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=a.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=o.reduceCodecs(f.codecs);const m=a.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=o.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(p.debug("send() | enabling simulcast"),h=n.parse(u.sdp),d=h.media.find((e=>"video"===e.type)),l.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),u={type:"offer",sdp:n.write(h)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=c.getCname({offerMediaObject:d}),f.encodings=l.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:i});const g={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(y,t),{localId:y,rtpParameters:f}}async stopSending(e){this.assertSendDirection(),p.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void p.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());throw i}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){throw new s.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new s.UnsupportedError(" not implemented")}async setRtpEncodingParameters(e,t){throw new s.UnsupportedError("not supported")}async getSenderStats(e){throw new s.UnsupportedError("not implemented")}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:i,protocol:a};p.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[];for(const n of e){const{trackId:e,kind:t,rtpParameters:r,streamId:i}=n;p.debug("receive() [trackId:%s, kind:%s]",e,t);const s=t;this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:r,streamId:i??r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,i=s.media.find((e=>String(e.mid)===r));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{kind:e,trackId:r,rtpParameters:i}=n,s=e,a=r,o=n.streamId??i.rtcp.cname,c=this._pc.getRemoteStreams().find((e=>e.id===o)).getTrackById(a);if(!c)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(a,{mid:s,rtpParameters:i}),t.push({localId:a,track:c})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){p.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new s.UnsupportedError("not implemented")}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:i};p.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=c.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome55=f},8174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfferMediaSection=t.AnswerMediaSection=t.MediaSection=void 0;const n=r(9640),i=r(8988);class s{_mediaObject;_planB;constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:i=!1}=e;if(this._mediaObject={},this._planB=i,t&&this.setIceParameters(t),r){this._mediaObject.candidates=[];for(const e of r){const t={component:1};t.foundation=e.foundation,t.ip=e.address??e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}t.MediaSection=s;t.AnswerMediaSection=class extends s{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:o,planB:c=!1,offerMediaObject:l,offerRtpParameters:d,answerRtpParameters:u,codecOptions:p}=e;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:c}),this._mediaObject.mid=String(l.mid),this._mediaObject.type=l.type,this._mediaObject.protocol=l.protocol,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),l.type){case"audio":case"video":this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of u.codecs){const t={payload:e.payloadType,codec:a(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const r=i.clone(e.parameters)??{};let n=i.clone(e.rtcpFeedback)??[];if(p){const{opusStereo:t,opusFec:i,opusDtx:s,opusMaxPlaybackRate:a,opusMaxAverageBitrate:o,opusPtime:c,opusNack:l,videoGoogleStartBitrate:u,videoGoogleMaxBitrate:h,videoGoogleMinBitrate:f}=p,m=d.codecs.find((t=>t.payloadType===e.payloadType));switch(e.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":void 0!==t&&(m.parameters["sprop-stereo"]=t?1:0,r.stereo=t?1:0),void 0!==i&&(m.parameters.useinbandfec=i?1:0,r.useinbandfec=i?1:0),void 0!==s&&(m.parameters.usedtx=s?1:0,r.usedtx=s?1:0),void 0!==a&&(r.maxplaybackrate=a),void 0!==o&&(r.maxaveragebitrate=o),void 0!==c&&(m.parameters.ptime=c,r.ptime=c),l||(m.rtcpFeedback=m.rtcpFeedback.filter((e=>"nack"!==e.type||e.parameter)),n=n.filter((e=>"nack"!==e.type||e.parameter)));break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==u&&(r["x-google-start-bitrate"]=u),void 0!==h&&(r["x-google-max-bitrate"]=h),void 0!==f&&(r["x-google-min-bitrate"]=f)}}const s={payload:e.payloadType,config:""};for(const e of Object.keys(r))s.config&&(s.config+=";"),s.config+=`${e}=${r[e]}`;s.config&&this._mediaObject.fmtp.push(s);for(const i of n)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:i.type,subtype:i.parameter})}this._mediaObject.payloads=u.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const e of u.headerExtensions){(l.ext??[]).some((t=>t.uri===e.uri))&&this._mediaObject.ext.push({uri:e.uri,value:e.id})}if("extmap-allow-mixed"===l.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),l.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:l.simulcast.list1},this._mediaObject.rids=[];for(const e of l.rids??[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}else if(l.simulcast_03){this._mediaObject.simulcast_03={value:l.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const e of l.rids??[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&"video"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag="conference");break;case"application":"number"===typeof l.sctpPort?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize):l.sctpmap&&(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize})}}setDtlsRole(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(e){if(!this._mediaObject.simulcast?.list1)return;const t={};for(const n of e)n.rid&&(t[n.rid]=n);const r=this._mediaObject.simulcast.list1,i=n.parseSimulcastStreamList(r);for(const n of i)for(const e of n)e.paused=!t[e.scid]?.active;this._mediaObject.simulcast.list1=i.map((e=>e.map((e=>`${e.paused?"~":""}${e.scid}`)).join(","))).join(";")}};function a(e){const t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.OfferMediaSection=class extends s{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,plainRtpParameters:s,planB:o=!1,mid:c,kind:l,offerRtpParameters:d,streamId:u,trackId:p,oldDataChannelSpec:h=!1}=e;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(c),this._mediaObject.type=l,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=s.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.protocol=i?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),this._mediaObject.extmapAllowMixed="extmap-allow-mixed",l){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${u??"-"} ${p}`);for(const n of d.codecs){const e={payload:n.payloadType,codec:a(n),rate:n.clockRate};n.channels>1&&(e.encoding=n.channels),this._mediaObject.rtp.push(e);const t={payload:n.payloadType,config:""};for(const r of Object.keys(n.parameters))t.config&&(t.config+=";"),t.config+=`${r}=${n.parameters[r]}`;t.config&&this._mediaObject.fmtp.push(t);for(const r of n.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:n.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads=d.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const n of d.headerExtensions)this._mediaObject.ext.push({uri:n.uri,value:n.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const e=d.encodings[0],t=e.ssrc,r=e.rtx?.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],d.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:"cname",value:d.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:"msid",value:`${u??"-"} ${p}`}),r&&(d.rtcp.cname&&this._mediaObject.ssrcs.push({id:r,attribute:"cname",value:d.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:r,attribute:"msid",value:`${u??"-"} ${p}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${t} ${r}`}));break}case"application":h?(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive(e){let{offerRtpParameters:t,streamId:r,trackId:n}=e;const i=t.encodings[0],s=i.ssrc,o=i.rtx?.ssrc,c=this._mediaObject.payloads.split(" ");for(const l of t.codecs){if(c.includes(String(l.payloadType)))continue;const e={payload:l.payloadType,codec:a(l),rate:l.clockRate};l.channels>1&&(e.encoding=l.channels),this._mediaObject.rtp.push(e);const t={payload:l.payloadType,config:""};for(const r of Object.keys(l.parameters))t.config&&(t.config+=";"),t.config+=`${r}=${l.parameters[r]}`;t.config&&this._mediaObject.fmtp.push(t);for(const r of l.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:l.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter((e=>!this._mediaObject.payloads.includes(e.payloadType))).map((e=>e.payloadType)).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:s,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:s,attribute:"msid",value:`${r??"-"} ${n}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${r??"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${s} ${o}`}))}planBStopReceiving(e){let{offerRtpParameters:t}=e;const r=t.encodings[0],n=r.ssrc,i=r.rtx?.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((e=>e.id!==n&&e.id!==i)),i&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((e=>e.ssrcs!==`${n} ${i}`)))}}},8390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome74=void 0;const n=r(9640),i=r(2097),s=r(8988),a=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new i.Logger("Chrome74"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"Chrome74"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp),s=o.extractRtpCapabilities({sdpObject:i});return l.addNackSupportForOpus(s),s}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",u),video:a.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",u),video:a.getSendingRemoteRtpParameters("video",u)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:l}=e;this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach(((e,t)=>{e.rid=`r${t}`}));const d=s.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=a.reduceCodecs(d.codecs,l);const u=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);u.codecs=a.reduceCodecs(u.codecs,l);const p=this._remoteSdp.getNextMediaSectionIdx(),m=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let g,y=await this._pc.createOffer(),b=n.parse(y.sdp);b.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b});let v=!1;const w=(0,h.parse)((r??[{}])[0].scalabilityMode);r&&1===r.length&&w.spatialLayers>1&&"video/vp9"===d.codecs[0].mimeType.toLowerCase()&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),v=!0,b=n.parse(y.sdp),g=b.media[p.idx],c.addLegacySimulcast({offerMediaObject:g,numStreams:w.spatialLayers}),y={type:"offer",sdp:n.write(b)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const _=m.mid;if(d.mid=_,b=n.parse(this._pc.localDescription.sdp),g=b.media[p.idx],d.rtcp.cname=o.getCname({offerMediaObject:g}),r)if(1===r.length){let e=c.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],r[0]),v&&(e=[e[0]]),d.encodings=e}else d.encodings=r;else d.encodings=c.getRtpEncodings({offerMediaObject:g});if(d.encodings.length>1&&("video/vp8"===d.codecs[0].mimeType.toLowerCase()||"video/h264"===d.codecs[0].mimeType.toLowerCase()))for(const n of d.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${w.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:p.reuseMid,offerRtpParameters:d,answerRtpParameters:u,codecOptions:i});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(_,m),{localId:_,rtpParameters:d,rtpSender:m.sender}}async stopSending(e){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(i){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:i,protocol:a};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i,streamId:s}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const a=i.mid??String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:i,streamId:s??i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const a=n.parse(s.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,i=r.get(e),s=a.media.find((e=>String(e.mid)===i));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})}s={type:"answer",sdp:n.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{trackId:e}=n,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:i};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=o.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome74=g},8716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome111=void 0;const n=r(9640),i=r(2097),s=r(8988),a=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new i.Logger("Chrome111"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"Chrome111"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const i=n.parse(r.sdp),s=o.extractRtpCapabilities({sdpObject:i});return l.addNackSupportForOpus(s),s}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;this.assertNotClosed(),f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",u),video:a.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",u),video:a.getSendingRemoteRtpParameters("video",u)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:l,onRtpSender:d}=e;if(this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1){let e=1;for(const t of r){const r=t.scalabilityMode?(0,h.parse)(t.scalabilityMode).temporalLayers:3;r>e&&(e=r)}r.forEach(((t,r)=>{t.rid=`r${r}`,t.scalabilityMode=`L1T${e}`}))}const u=s.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=a.reduceCodecs(u.codecs,l);const p=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);p.codecs=a.reduceCodecs(p.codecs,l);const m=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});d&&d(g.sender);const y=await this._pc.createOffer();let b=n.parse(y.sdp);b.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const v=g.mid;u.mid=v,b=n.parse(this._pc.localDescription.sdp);const w=b.media[m.idx];if(u.rtcp.cname=o.getCname({offerMediaObject:w}),r)if(1===r.length){const e=c.getRtpEncodings({offerMediaObject:w});Object.assign(e[0],r[0]),u.encodings=e}else u.encodings=r;else u.encodings=c.getRtpEncodings({offerMediaObject:w});this._remoteSdp.send({offerMediaObject:w,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:p,codecOptions:i});const _={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_),this._mapMidTransceiver.set(v,g),{localId:v,rtpParameters:u,rtpSender:g.sender}}async stopSending(e){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(i){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const i=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:i,protocol:a};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:i,streamId:s}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const a=i.mid??String(this._mapMidTransceiver.size);r.set(e,a),this._remoteSdp.receive({mid:a,kind:t,offerRtpParameters:i,streamId:s??i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===n));if(!i)throw new Error("transceiver not found");t(i.receiver)}}let s=await this._pc.createAnswer();const a=n.parse(s.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,i=r.get(e),s=a.media.find((e=>String(e.mid)===i));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})}s={type:"answer",sdp:n.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const n of e){const{trackId:e}=n,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:i};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=o.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome111=g},8741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Safari11=void 0;const n=r(9640),i=r(2097),s=r(8988),a=r(5809),o=r(5467),c=r(9613),l=r(2384),d=r(3054),u=new i.Logger("Safari11"),p={OS:1024,MIS:1024};class h extends l.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdRtpSender=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new h}constructor(){super()}get name(){return"Safari11"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const i=n.parse(r.sdp);return o.extractRtpCapabilities({sdpObject:i})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:p,extendedRtpCapabilities:h}=e;u.debug("run()"),this._direction=t,this._remoteSdp=new d.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",h),video:a.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",h),video:a.getSendingRemoteRtpParameters("video",h)},i.role&&"auto"!==i.role&&(this._forcedLocalDtlsRole="server"===i.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},p),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(u.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:i,codec:l}=e;this.assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),l&&u.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let d,p=await this._pc.createOffer(),h=n.parse(p.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=s.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=a.reduceCodecs(f.codecs);const m=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=a.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(u.debug("send() | enabling simulcast"),h=n.parse(p.sdp),d=h.media.find((e=>"video"===e.type)),c.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),p={type:"offer",sdp:n.write(h)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=o.getCname({offerMediaObject:d}),f.encodings=c.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:i});const g={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);this._nextSendLocalId++;const b=this._pc.getSenders().find((e=>e.track===t));return this._mapSendLocalIdRtpSender.set(y,b),{localId:y,rtpParameters:f,rtpSender:b}}async stopSending(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(i){if(0===this._sendStream.getTracks().length)return void u.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());throw i}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?u.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):u.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),u.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),u.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:i,label:s,protocol:a}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:i,protocol:a};u.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const i={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[];for(const n of e){const{trackId:e,kind:t,rtpParameters:r,streamId:i}=n;u.debug("receive() [trackId:%s, kind:%s]",e,t);const s=t;this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:r,streamId:i??r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,i=s.media.find((e=>String(e.mid)===r));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{kind:e,trackId:r,rtpParameters:i}=n,s=e,a=r,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===a));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(a,{mid:s,rtpParameters:i,rtpReceiver:o}),t.push({localId:a,track:o.track,rtpReceiver:o})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){u.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)??{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async pauseReceiving(e){}async resumeReceiving(e){}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:i}=e;this.assertRecvDirection();const{streamId:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:s,ordered:a,maxPacketLifeTime:o,maxRetransmits:c,protocol:i};u.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const i=o.extractDtlsParameters({sdpObject:r});i.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:i},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari11=h},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},8877:(e,t,r)=>{var n=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var s=e.push?{}:i?t[e.name]:t;!function(e,t,r,i){if(i&&!r)t[i]=n(e[1]);else for(var s=0;s<r.length;s+=1)null!=e[s+1]&&(t[r[s]]=n(e[s+1]))}(r.match(e.reg),s,e.names,e.name),e.push&&t[e.push].push(s)},s=r(6321),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var o=0;o<(s[t]||[]).length;o+=1){var c=s[t][o];if(c.reg.test(a))return i(c,n,a)}})),t.media=r,t};var o=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),i=0;i<r.length;i+=3)t.push({component:r[i],ip:r[i+1],port:r[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},8971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FakeMediaStreamTrack=void 0;const n=r(3221),i=r(5942);class s extends EventTarget{#e;#t;#r;#n;#i;#s;#a;#o;#c;#l;#d;#u=null;#p=null;#h=null;#f=null;#m=null;constructor(e){let{kind:t,id:r,label:i,contentHint:s,enabled:a,muted:o,readyState:c,capabilities:l,constraints:d,settings:u,data:p}=e;super(),this.#e=r??(0,n.v4)(),this.#t=t,this.#r=i??"",this.#a=s??"",this.#i=a??!0,this.#s=o??!1,this.#n=c??"live",this.#o=l??{},this.#c=d??{},this.#l=u??{},this.#d=p??{}}get id(){return this.#e}get kind(){return this.#t}get label(){return this.#r}get contentHint(){return this.#a}set contentHint(e){this.#a=e}get enabled(){return this.#i}set enabled(e){const t=this.#i!==e;this.#i=e,t&&this.dispatchEvent(new Event("enabledchange"))}get muted(){return this.#s}get readyState(){return this.#n}get data(){return this.#d}set data(e){this.#d=e}get onmute(){return this.#u}set onmute(e){this.#u&&this.removeEventListener("mute",this.#u),this.#u=e,e&&this.addEventListener("mute",e)}get onunmute(){return this.#p}set onunmute(e){this.#p&&this.removeEventListener("unmute",this.#p),this.#p=e,e&&this.addEventListener("unmute",e)}get onended(){return this.#h}set onended(e){this.#h&&this.removeEventListener("ended",this.#h),this.#h=e,e&&this.addEventListener("ended",e)}get onenabledchange(){return this.#f}set onenabledchange(e){this.#f&&this.removeEventListener("enabledchange",this.#f),this.#f=e,e&&this.addEventListener("enabledchange",e)}get onstopped(){return this.#m}set onstopped(e){this.#m&&this.removeEventListener("stopped",this.#m),this.#m=e,e&&this.addEventListener("stopped",e)}addEventListener(e,t,r){super.addEventListener(e,t,r)}removeEventListener(e,t,r){super.removeEventListener(e,t,r)}stop(){"ended"!==this.#n&&(this.#n="ended",this.dispatchEvent(new Event("stopped")))}clone(){let{id:e,data:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new s({id:e??(0,n.v4)(),kind:this.#t,label:this.#r,contentHint:this.#a,enabled:this.#i,muted:this.#s,readyState:this.#n,capabilities:(0,i.clone)(this.#o),constraints:(0,i.clone)(this.#c),settings:(0,i.clone)(this.#l),data:t??(0,i.clone)(this.#d)})}getCapabilities(){return this.#o}getConstraints(){return this.#c}async applyConstraints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.#c=e,Promise.resolve()}getSettings(){return this.#l}remoteStop(){"ended"!==this.#n&&(this.#n="ended",this.dispatchEvent(new Event("stopped")),this.dispatchEvent(new Event("ended")))}remoteMute(){this.#s||(this.#s=!0,this.dispatchEvent(new Event("mute")))}remoteUnmute(){this.#s&&(this.#s=!1,this.dispatchEvent(new Event("unmute")))}}t.FakeMediaStreamTrack=s},8988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){return void 0===e?void 0:Number.isNaN(e)?NaN:"function"===typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())},t.deepFreeze=function e(t){const r=Reflect.ownKeys(t);for(const n of r){const r=t[n];(r&&"object"===typeof r||"function"===typeof r)&&e(r)}return Object.freeze(t)}},9398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStateError=t.UnsupportedError=void 0;class r extends Error{constructor(e){super(e),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r):this.stack=new Error(e).stack}}t.UnsupportedError=r;class n extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,n):this.stack=new Error(e).stack}}t.InvalidStateError=n},9496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Edge11=void 0;const n=r(2097),i=r(9398),s=r(8988),a=r(5809),o=r(918),c=r(2384),l=new n.Logger("Edge11");class d extends c.HandlerInterface{_sendingRtpParametersByKind;_remoteIceParameters;_remoteIceCandidates;_remoteDtlsParameters;_iceGatherer;_iceTransport;_dtlsTransport;_rtpSenders=(()=>new Map)();_rtpReceivers=(()=>new Map)();_nextSendLocalId=0;_cname;_transportReady=!1;static createFactory(){return()=>new d}constructor(){super()}get name(){return"Edge11"}close(){l.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const t of this._rtpSenders.values())try{t.stop()}catch(e){}for(const t of this._rtpReceivers.values())try{t.stop()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){return l.debug("getNativeRtpCapabilities()"),o.getCapabilities()}async getNativeSctpCapabilities(){return l.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:c,iceTransportPolicy:d,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}=e;l.debug("run()"),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",h),video:a.getSendingRtpParameters("video",h)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=i,this._cname=`CNAME-${s.generateRandomNumber()}`,this.setIceGatherer({iceServers:c,iceTransportPolicy:d}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(e){throw new i.UnsupportedError("not supported")}async restartIce(e){if(l.debug("restartIce()"),this._remoteIceParameters=e,this._transportReady){l.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,e,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send(e){let{track:t,encodings:r,codecOptions:n,codec:i}=e;l.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),l.debug("send() | calling new RTCRtpSender()");const c=new RTCRtpSender(t,this._dtlsTransport),d=s.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=a.reduceCodecs(d.codecs,i);const u=d.codecs.some((e=>/.+\/rtx$/i.test(e.mimeType)));r||(r=[{}]);for(const a of r)a.ssrc=s.generateRandomNumber(),u&&(a.rtx={ssrc:s.generateRandomNumber()});d.encodings=r,d.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const p=o.mangleRtpParameters(d);l.debug("send() | calling rtpSender.send() [params:%o]",p),await c.send(p);const h=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(h,c),{localId:h,rtpParameters:d,rtpSender:c}}async stopSending(e){l.debug("stopSending() [localId:%s]",e);const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(e);try{l.debug("stopSending() | calling rtpSender.stop()"),t.stop()}catch(r){throw l.warn("stopSending() | rtpSender.stop() failed:%o",r),r}}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){t?l.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):l.debug("replaceTrack() [localId:%s, no track]",e);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");r.setTrack(t)}async setMaxSpatialLayer(e,t){l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){throw new i.UnsupportedError("not implemented")}async receive(e){const t=[];for(const r of e){const{trackId:e,kind:t}=r;l.debug("receive() [trackId:%s, kind:%s]",e,t)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const r of e){const{trackId:e,kind:n,rtpParameters:i}=r;l.debug("receive() | calling new RTCRtpReceiver()");const s=new RTCRtpReceiver(this._dtlsTransport,n);s.addEventListener("error",(e=>{l.error('rtpReceiver "error" event [event:%o]',e)}));const a=o.mangleRtpParameters(i);l.debug("receive() | calling rtpReceiver.receive() [params:%o]",a),await s.receive(a);const c=e;this._rtpReceivers.set(c,s),t.push({localId:c,track:s.track,rtpReceiver:s})}return t}async stopReceiving(e){for(const r of e){l.debug("stopReceiving() [localId:%s]",r);const e=this._rtpReceivers.get(r);if(!e)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(r);try{l.debug("stopReceiving() | calling rtpReceiver.stop()"),e.stop()}catch(t){l.warn("stopReceiving() | rtpReceiver.stop() failed:%o",t)}}}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){throw new i.UnsupportedError("not implemented")}setIceGatherer(e){let{iceServers:t,iceTransportPolicy:r}=e;const n=new RTCIceGatherer({iceServers:t??[],gatherPolicy:r??"all"});n.addEventListener("error",(e=>{l.error('iceGatherer "error" event [event:%o]',e)}));try{n.gather()}catch(i){l.debug("setIceGatherer() | iceGatherer.gather() failed: %s",i.toString())}this._iceGatherer=n}setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener("statechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("icestatechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("candidatepairchange",(e=>{l.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=e}setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener("statechange",(()=>{l.debug('dtlsTransport "statechange" event [state:%s]',e.state)})),e.addEventListener("dtlsstatechange",(()=>{l.debug('dtlsTransport "dtlsstatechange" event [state:%s]',e.state),"closed"===e.state&&this.emit("@connectionstatechange","closed")})),e.addEventListener("error",(e=>{l.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=e}async setupTransport(e){let{localDtlsRole:t}=e;l.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=t,await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:r},e,t)})),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((e=>"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm)),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=d},9613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function(e){let t,{offerMediaObject:r,track:n}=e;const i=new Set;for(const o of r.ssrcs??[]){if("msid"!==o.attribute)continue;if(o.value.split(" ")[1]===n.id){const e=o.id;i.add(e),t||(t=e)}}if(0===i.size)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const s=new Map;for(const o of r.ssrcGroups??[]){if("FID"!==o.semantics)continue;let[e,t]=o.ssrcs.split(/\s+/);e=Number(e),t=Number(t),i.has(e)&&(i.delete(e),i.delete(t),s.set(e,t))}for(const o of i)s.set(o,null);const a=[];for(const[o,c]of s){const e={ssrc:o};c&&(e.rtx={ssrc:c}),a.push(e)}return a},t.addLegacySimulcast=function(e){let t,r,n,{offerMediaObject:i,track:s,numStreams:a}=e;if(a<=1)throw new TypeError("numStreams must be greater than 1");if(!(i.ssrcs??[]).find((e=>{if("msid"!==e.attribute)return!1;return e.value.split(" ")[1]===s.id&&(t=e.id,n=e.value.split(" ")[0],!0)})))throw new Error(`a=ssrc line with msid information not found [track.id:${s.id}]`);(i.ssrcGroups??[]).some((e=>{if("FID"!==e.semantics)return!1;const n=e.ssrcs.split(/\s+/);return Number(n[0])===t&&(r=Number(n[1]),!0)}));const o=i.ssrcs.find((e=>"cname"===e.attribute&&e.id===t));if(!o)throw new Error(`a=ssrc line with cname information not found [track.id:${s.id}]`);const c=o.value,l=[],d=[];for(let u=0;u<a;++u)l.push(t+u),r&&d.push(r+u);i.ssrcGroups=i.ssrcGroups??[],i.ssrcs=i.ssrcs??[],i.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const u of l)i.ssrcs.push({id:u,attribute:"cname",value:c}),i.ssrcs.push({id:u,attribute:"msid",value:`${n} ${s.id}`});for(let u=0;u<d.length;++u){const e=l[u],t=d[u];i.ssrcs.push({id:t,attribute:"cname",value:c}),i.ssrcs.push({id:t,attribute:"msid",value:`${n} ${s.id}`}),i.ssrcGroups.push({semantics:"FID",ssrcs:`${e} ${t}`})}}},9640:(e,t,r)=>{var n=r(8877),i=r(6605),s=r(6321);t.grammar=s,t.write=i,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},9642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedEventEmitter=void 0;const n=r(2499),i=new(r(2097).Logger)("EnhancedEventEmitter");class s extends n.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return super.emit(e,...r)}safeEmit(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return super.emit(e,...r)}catch(s){i.error("safeEmit() | event listener threw an error [eventName:%s]:%o",e,s);try{super.emit("listenererror",e,s)}catch(a){}return Boolean(super.listenerCount(e))}}on(e,t){return super.on(e,t),this}off(e,t){return super.off(e,t),this}addListener(e,t){return super.on(e,t),this}prependListener(e,t){return super.prependListener(e,t),this}once(e,t){return super.once(e,t),this}prependOnceListener(e,t){return super.prependOnceListener(e,t),this}removeListener(e,t){return super.off(e,t),this}removeAllListeners(e){return super.removeAllListeners(e),this}listenerCount(e){return super.listenerCount(e)}listeners(e){return super.listeners(e)}rawListeners(e){return super.rawListeners(e)}}t.EnhancedEventEmitter=s},9970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueueRemovedTaskError=t.AwaitQueueStoppedError=void 0;class r extends Error{constructor(e){super(e??"queue stopped"),this.name="AwaitQueueStoppedError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}}t.AwaitQueueStoppedError=r;class n extends Error{constructor(e){super(e??"queue task removed"),this.name="AwaitQueueRemovedTaskError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}}t.AwaitQueueRemovedTaskError=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,r.amdO={},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".258b012d.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";r.l=(n,i,s,a)=>{if(e[n])e[n].push(i);else{var o,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[i];var p=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise(((r,n)=>i=e[t]=[r,n]));n.push(i[2]=s);var a=r.p+r.u(t),o=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,s,a=n[0],o=n[1],c=n[2],l=0;if(a.some((t=>0!==e[t]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(c)c(r)}for(t&&t(n);l<a.length;l++)s=a[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{Decoder:()=>ye,Encoder:()=>me,PacketType:()=>fe,protocol:()=>he});var t=r(5043),n=r(4391);const i=Object.create(null);i.open="0",i.close="1",i.ping="2",i.pong="3",i.message="4",i.upgrade="5",i.noop="6";const s=Object.create(null);Object.keys(i).forEach((e=>{s[i[e]]=e}));const a={type:"error",data:"parser error"},o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"===typeof ArrayBuffer,l=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,d=(e,t,r)=>{let{type:n,data:s}=e;return o&&s instanceof Blob?t?r(s):u(s,r):c&&(s instanceof ArrayBuffer||l(s))?t?r(s):u(new Blob([s]),r):r(i[n]+(s||""))},u=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function p(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let h;const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)m[f.charCodeAt(r)]=r;const g="function"===typeof ArrayBuffer,y=(e,t)=>{if("string"!==typeof e)return{type:"message",data:v(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:b(e.substring(1),t)};return s[r]?e.length>1?{type:s[r],data:e.substring(1)}:{type:s[r]}:a},b=(e,t)=>{if(g){const r=(e=>{let t,r,n,i,s,a=.75*e.length,o=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const l=new ArrayBuffer(a),d=new Uint8Array(l);for(t=0;t<o;t+=4)r=m[e.charCodeAt(t)],n=m[e.charCodeAt(t+1)],i=m[e.charCodeAt(t+2)],s=m[e.charCodeAt(t+3)],d[c++]=r<<2|n>>4,d[c++]=(15&n)<<4|i>>2,d[c++]=(3&i)<<6|63&s;return l})(e);return v(r,t)}return{base64:!0,data:e}},v=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,w=String.fromCharCode(30);function _(){return new TransformStream({transform(e,t){!function(e,t){o&&e.data instanceof Blob?e.data.arrayBuffer().then(p).then(t):c&&(e.data instanceof ArrayBuffer||l(e.data))?t(p(e.data)):d(e,!1,(e=>{h||(h=new TextEncoder),t(h.encode(e))}))}(e,(r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(r)}))}})}let S;function k(e){return e.reduce(((e,t)=>e+t.length),0)}function R(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function C(e){if(e)return function(e){for(var t in C.prototype)e[t]=C.prototype[t];return e}(e)}C.prototype.on=C.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},C.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},C.prototype.off=C.prototype.removeListener=C.prototype.removeAllListeners=C.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},C.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},C.prototype.emitReserved=C.prototype.emit,C.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},C.prototype.hasListeners=function(e){return!!this.listeners(e).length};const P="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),T="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function x(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const D=T.setTimeout,E=T.clearTimeout;function L(e,t){t.useNativeTimers?(e.setTimeoutFn=D.bind(T),e.clearTimeoutFn=E.bind(T)):(e.setTimeoutFn=T.setTimeout.bind(T),e.clearTimeoutFn=T.clearTimeout.bind(T))}function I(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class O extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class M extends C{constructor(e){super(),this.writable=!1,L(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new O(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=y(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class N extends M{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(w),n=[];for(let i=0;i<r.length;i++){const e=y(r[i],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach(((e,s)=>{d(e,!1,(e=>{n[s]=e,++i===r&&t(n.join(w))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=I()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let j=!1;try{j="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Le){}const A=j;function F(){}class z extends N{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class B extends C{constructor(e,t,r){super(),this.createRequest=e,L(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=x(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(n){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{r.setRequestHeader("Accept","*/*")}catch(n){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(n){return void this.setTimeoutFn((()=>{this._onError(n)}),0)}"undefined"!==typeof document&&(this._index=B.requestsCount++,B.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=F,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete B.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(B.requestsCount=0,B.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",$);else if("function"===typeof addEventListener){addEventListener("onpagehide"in T?"pagehide":"unload",$,!1)}function $(){for(let e in B.requests)B.requests.hasOwnProperty(e)&&B.requests[e].abort()}const U=function(){const e=H({xdomain:!1});return e&&null!==e.responseType}();function H(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||A))return new XMLHttpRequest}catch(r){}if(!t)try{return new(T[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}const q="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class V extends M{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=q?{}:x(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(Le){return this.emitReserved("error",Le)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;d(r,this.supportsBinary,(e=>{try{this.doWrite(r,e)}catch(t){}n&&P((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=I()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const K=T.WebSocket||T.MozWebSocket;const Q={websocket:class extends V{createSocket(e,t,r){return q?new K(e,t,r):t?new K(e,t):new K(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends M{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Le){return this.emitReserved("error",Le)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){S||(S=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,c){for(r.push(o);;){if(0===n){if(k(r)<1)break;const e=R(r,1);s=128===(128&e[0]),i=127&e[0],n=i<126?3:126===i?1:2}else if(1===n){if(k(r)<2)break;const e=R(r,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(k(r)<8)break;const e=R(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){c.enqueue(a);break}i=s*Math.pow(2,32)+t.getUint32(4),n=3}else{if(k(r)<i)break;const e=R(r,i);c.enqueue(y(s?e:S.decode(e),t)),n=0}if(0===i||i>e){c.enqueue(a);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=_();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const i=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),i())})).catch((e=>{}))};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then((()=>{n&&P((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends z{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=U&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new B(H,this.uri(),e)}}},W=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,G=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Y(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=W.exec(e||""),s={},a=14;for(;a--;)s[G[a]]=i[a]||"";return-1!=r&&-1!=n&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,s.path),s.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,s.query),s}const X="function"===typeof addEventListener&&"function"===typeof removeEventListener,J=[];X&&addEventListener("offline",(()=>{J.forEach((e=>e()))}),!1);class Z extends C{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Y(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Y(t.host).host);L(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),X&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},J.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Z.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Z.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,P((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}_onError(e){if(Z.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),X&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=J.indexOf(this._offlineEventListener);-1!==e&&J.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Z.protocol=4;class ee extends Z{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Z.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Z.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){r||(r=!0,l(),t.close(),t=null)}const s=e=>{const r=new Error("probe error: "+e);r.transport=t.name,i(),this.emitReserved("upgradeError",r)};function a(){s("transport closed")}function o(){s("socket closed")}function c(e){t&&e.name!==t.name&&i()}const l=()=>{t.removeListener("open",n),t.removeListener("error",s),t.removeListener("close",a),this.off("close",o),this.off("upgrading",c)};t.once("open",n),t.once("error",s),t.once("close",a),this.once("close",o),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class te extends ee{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Q[e])).filter((e=>!!e))),super(e,t)}}const re="function"===typeof ArrayBuffer,ne=Object.prototype.toString,ie="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ne.call(Blob),se="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ne.call(File);function ae(e){return re&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||ie&&e instanceof Blob||se&&e instanceof File}function oe(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(oe(e[t]))return!0;return!1}if(ae(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return oe(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&oe(e[r]))return!0;return!1}function ce(e){const t=[],r=e.data,n=e;return n.data=le(r,t),n.attachments=t.length,{packet:n,buffers:t}}function le(e,t){if(!e)return e;if(ae(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=le(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=le(e[n],t));return r}return e}function de(e,t){return e.data=ue(e.data,t),delete e.attachments,e}function ue(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ue(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ue(e[r],t));return e}const pe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],he=5;var fe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(fe||(fe={}));class me{constructor(e){this.replacer=e}encode(e){return e.type!==fe.EVENT&&e.type!==fe.ACK||!oe(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==fe.BINARY_EVENT&&e.type!==fe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ce(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function ge(e){return"[object Object]"===Object.prototype.toString.call(e)}class ye extends C{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===fe.BINARY_EVENT;r||t.type===fe.BINARY_ACK?(t.type=r?fe.EVENT:fe.ACK,this.reconstructor=new be(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ae(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===fe[r.type])throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!ye.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case fe.CONNECT:return ge(t);case fe.DISCONNECT:return void 0===t;case fe.CONNECT_ERROR:return"string"===typeof t||ge(t);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===pe.indexOf(t[0]));case fe.ACK:case fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class be{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=de(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ve(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const we=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _e extends C{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ve(e,"open",this.onopen.bind(this)),ve(e,"packet",this.onpacket.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,n;if(we.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:fe.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const c=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,l=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),a=function(){n.io.clearTimeoutFn(s);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.apply(n,r)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(((t,n)=>{const i=(e,r)=>e?n(e):t(r);i.withError=!0,r.push(i),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];r(null,...s)}return n.pending=!1,t._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];t.packet({type:fe.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Se(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Se.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},Se.prototype.reset=function(){this.attempts=0},Se.prototype.setMin=function(e){this.ms=e},Se.prototype.setMax=function(e){this.max=e},Se.prototype.setJitter=function(e){this.jitter=e};class ke extends C{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(r=t,t=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,L(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=r.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Se({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new te(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=ve(t,"open",(function(){r.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=ve(t,"error",i);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ve(e,"ping",this.onping.bind(this)),ve(e,"data",this.ondata.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this)),ve(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){P((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new _e(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Re={};function Ce(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=Y(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,i=r.id,s=r.path,a=Re[i]&&s in Re[i].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?o=new ke(n,t):(Re[i]||(Re[i]=new ke(n,t)),o=Re[i]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(Ce,{Manager:ke,Socket:_e,io:Ce,connect:Ce});var Pe=r(2081),Te=r(579);const xe=Ce();xe.on("connect_error",(e=>{console.error("WebSocket Connection Error:",e)}));const De=function(){const[e,r]=(0,t.useState)(""),[n,i]=(0,t.useState)(""),[s,a]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[l,d]=(0,t.useState)(!1),u=(0,t.useRef)(null),[p,h]=(0,t.useState)(null),f=(0,t.useRef)(!1),m=(0,t.useRef)({}),g=(0,t.useRef)(null),[y,b]=(0,t.useState)(!1),v=(0,t.useRef)(null),[w,_]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),[R,C]=(0,t.useState)("mic-24.png"),[P,T]=(0,t.useState)("video-24.png"),[x,D]=(0,t.useState)({video:{track:null,encodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:3e5},{rid:"r2",maxBitrate:9e5}],codecOptions:{videoGoogleStartBitrate:1e3},appData:{mediaTag:"video"}},audio:{track:null,appData:{mediaTag:"audio"}}});let E="";1===s.length?E="grid-1":s.length>=2&&s.length<=4?E="grid-2":s.length>4&&(E="grid-3"),(0,t.useEffect)((()=>{null!==p&&void 0!==p&&p.id&&x.video.track&&(!async function(){try{console.log("connecting send transport and start producing",x);const e=await p.produce(x.video),t=await p.produce(x.audio);f.current=!0,e.on("trackended",(()=>{console.log("video track ended")})),t.on("trackended",(()=>{console.log("audio track ended")})),e.on("transportclose",(()=>{console.log("video transport ended")})),t.on("transportclose",(()=>{console.log("audio transport ended")}))}catch(Le){console.error("Error creating producer",Le)}}(),b(!0))}),[p,x.video.track]),(0,t.useEffect)((()=>{window.addEventListener("beforeunload",(()=>{document.getElementById("leave-button").click()}))}),[]);const L=(e,t,r)=>{console.log(r),a((n=>[...n,{user:e,id:t,stream:r}]))};async function I(){console.log("deleting tranports for:",e);try{var t;p.close(),g.current.close();const r=null===(t=s.find((t=>t.user===e)))||void 0===t?void 0:t.stream;console.log(r,"local video for me"),r.getTracks().forEach((e=>e.stop()))}catch(r){console.error("error deleting transports for ",e,r)}}return xe.on("new-transport",(t=>{console.log("new transport created for ",t),t===e||m.current[t]||(!async function(){console.log("connecting recv transport and start consuming"),await xe.emit("consume",{rtpCapabilities:u.current.rtpCapabilities},(async t=>{let{paramsList:r}=t;const n=new Map;try{for(const e of r){if(e.error){console.log("error consuming",e.error);continue}const t=await g.current.consume({id:e.id,producerId:e.producerId,kind:e.kind,rtpParameters:e.rtpParameters});console.log("consumer created for",e.kind,"from",e.user);let r=n.get(e.user)||new MediaStream;r.addTrack(t.track),n.set(e.user,r),xe.emit("consumer-resume",e.user,e.id)}for(const[t,r]of n.entries()){const n=Math.floor(100*Math.random());L(t,n,r),console.log("added participant media for",t),m.current[e]=!0}}catch(i){console.error("Error consuming tracks:",i)}}))}(),m.current[t]=!0)})),xe.on("remove video",(t=>{(t=>{a((e=>e.filter((e=>e.user!==t)))),t===e&&(I(),d(!0))})(t)})),xe.on("remove-all-videos",(()=>{a([]),d(!0),I()})),(0,Te.jsx)("div",{className:"flex items-center justify-center w-full",children:l?(0,Te.jsx)("div",{className:"w-full h-screen bg-linear-to-br from-gray-300 to-gray-600",children:(0,Te.jsx)("h1",{className:"text-3xl md:text-5xl lg:7xl font-semibold absolute -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2",children:"Thank you"})}):(0,Te.jsxs)("div",{className:"container my-10 mx-auto w-full p-2",children:[o?(0,Te.jsxs)("form",{id:"join-screen",onSubmit:async t=>{let r,i;t.preventDefault();try{e&&n&&(navigator.mediaDevices.getUserMedia({audio:!1,video:!0,audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,googNoiseReduction:!0,volume:1}}).then((async t=>{L(e,"local",t),v.current=t,c(!1);const r=t.getVideoTracks()[0],n=t.getAudioTracks()[0];D((e=>({video:{...e.video,track:r},audio:{...e.audio,track:n}})))})),r=new Pe.pF,xe.emit("joinRoom",{username:e,roomId:n},(async e=>{e.rtpCapabilities&&(i=e.rtpCapabilities,await r.load({routerRtpCapabilities:i}),u.current=r,console.log("device created",r.rtpCapabilities),xe.emit("createWebRTCTransport",(async e=>{console.log("transports received from backend",e.producer,e.consumer);const t=r.createSendTransport(e.producer);g.current=r.createRecvTransport(e.consumer),console.log("transports created on frontend",p,g.current),t.on("connect",(async(e,t,r)=>{let{dtlsParameters:n}=e;try{await xe.emit("transport-connect",{dtlsParameters:n}),t()}catch(i){r(i)}})),t.on("produce",(async(e,t,r)=>{console.log(e);try{await xe.emit("transport-produce",{kind:e.kind,rtpParameters:e.rtpParameters,appData:e.appData},(e=>{let{id:r}=e;t({id:r})}))}catch(n){r(n)}})),h(t),g.current.on("connect",(async(e,t,r)=>{let{dtlsParameters:n}=e;try{await xe.emit("transport-recv-connect",{dtlsParameters:n}),t()}catch(i){r(i)}}))})))})))}catch(Le){console.error(Le)}},className:"mx-auto my-4 p-4 border-2 dark:border-gray-200 border-gray-600  md:w-1/2",children:[(0,Te.jsx)("h2",{className:"dark:text-white text-2xl font-semibold ml-[35%] my-4",children:"Join Room"}),(0,Te.jsxs)("label",{className:"dark:text-white my-8",children:["Display name:",(0,Te.jsx)("input",{type:"text",id:"username",placeholder:"Enter your name",value:e,onChange:e=>r(e.target.value)})]}),(0,Te.jsxs)("label",{className:"dark:text-white my-8",children:["Room number to join:",(0,Te.jsx)("input",{type:"text",id:"room-id",placeholder:"Enter room ID",value:n,onChange:e=>i(e.target.value)})]}),(0,Te.jsx)("button",{id:"join-button",className:"mt-6 block w-full select-none rounded-lg hover:bg-gray-600 py-3 px-6 text-center align-middle bg-gray-300 dark:bg-gray-800 border border-gray-300 text-gray-900 font-bold uppercase shadow-md shadow-gray-500/20 dark:text-white dark:border-gray-50",children:"Join Meeting"})]}):null,(0,Te.jsx)("div",{className:`gap-2 my-4 mx-10 place-items-center ${E}`,children:s.map((e=>(0,Te.jsxs)("div",{className:"video-frame",children:[(0,Te.jsx)("video",{className:"object-cover",ref:t=>{t&&(t.srcObject=e.stream)},autoPlay:!0,playsInline:!0}),(0,Te.jsx)("div",{className:"video-username",children:e.user})]},e.id)))}),(0,Te.jsx)("div",{className:"hidden dark:bg-white dark:border-gray-600"}),o?null:(0,Te.jsxs)("div",{className:"fixed bottom-1 left-0 right-0 z-50 flex items-center justify-center gap-2 md:gap-6 mt-2 w-full",children:[(0,Te.jsx)("button",{onClick:()=>{var e;const t=null===(e=v.current)||void 0===e?void 0:e.getAudioTracks()[0];if(!t)return;const r=!w;t.enabled=!r,_(r),C(r?"mute-24.png":"mic-24.png"),console.log(`Audio ${r?"muted":"unmuted"}.`)},className:"bg-white-400 border border-gray-400 rounded-full dark:bg-white dark:border-gray-600",children:(0,Te.jsx)("img",{src:R,alt:"Microphone",style:{cursor:"pointer"},className:"p-3"})}),(0,Te.jsx)("button",{onClick:t=>{!async function(){console.log("Exiting user from call:",e),xe.emit("hangup",e),I(),d(!0),a([]),console.log("emiting hangup username",e)}()},id:"leave-button",className:"custom-button",children:"Leave"}),(0,Te.jsx)("button",{onClick:e=>{!async function(){xe.emit("end-meeting")}()},className:"custom-button",children:"End Meeting"}),(0,Te.jsx)("button",{onClick:()=>{var e;const t=null===(e=v.current)||void 0===e?void 0:e.getVideoTracks()[0];if(!t)return;const r=!S;t.enabled=!r,k(r),T(r?"no-video-24.png":"video-24.png"),console.log("Video "+(r?"video paused":"video resumed"))},className:"bg-white-400 border border-gray-400 rounded-full dark:bg-white dark:border-gray-600",children:(0,Te.jsx)("img",{src:P,alt:"Video Icon",style:{cursor:"pointer"},className:"p-3"})})]})]})})},Ee=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:i,getLCP:s,getTTFB:a}=t;r(e),n(e),i(e),s(e),a(e)}))};n.createRoot(document.getElementById("root")).render((0,Te.jsx)(t.StrictMode,{children:(0,Te.jsx)(De,{})})),Ee()})()})();
//# sourceMappingURL=main.5a147832.js.map