/*! For license information please see main.a2f84549.js.LICENSE.txt */
(()=>{var e={109:(e,t,r)=>{"use strict";Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}});var n=p(r(1344)),a=p(r(5386)),i=p(r(2899)),s=p(r(4028)),o=p(r(3206)),c=p(r(421)),l=p(r(3455)),d=p(r(2012)),u=p(r(9138));function p(e){return e&&e.__esModule?e:{default:e}}},421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(3455))&&n.__esModule?n:{default:n};var i=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=i},579:(e,t,r)=>{"use strict";e.exports=r(2799)},683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function(e){let{offerMediaObject:t}=e;const r=new Set;for(const i of t.ssrcs??[]){const e=i.id;r.add(e)}if(0===r.size)throw new Error("no a=ssrc lines found");const n=new Map;for(const i of t.ssrcGroups??[]){if("FID"!==i.semantics)continue;let[e,t]=i.ssrcs.split(/\s+/);e=Number(e),t=Number(t),r.has(e)&&(r.delete(e),r.delete(t),n.set(e,t))}for(const i of r)n.set(i,null);const a=[];for(const[i,s]of n){const e={ssrc:i};s&&(e.rtx={ssrc:s}),a.push(e)}return a},t.addLegacySimulcast=function(e){let{offerMediaObject:t,numStreams:r}=e;if(r<=1)throw new TypeError("numStreams must be greater than 1");const n=(t.ssrcs??[]).find((e=>"msid"===e.attribute));if(!n)throw new Error("a=ssrc line with msid information not found");const[a,i]=n.value.split(" "),s=Number(n.id);let o;(t.ssrcGroups??[]).some((e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===s&&(o=Number(t[1]),!0)}));const c=t.ssrcs.find((e=>"cname"===e.attribute));if(!c)throw new Error("a=ssrc line with cname information not found");const l=c.value,d=[],u=[];for(let p=0;p<r;++p)d.push(s+p),o&&u.push(o+p);t.ssrcGroups=[],t.ssrcs=[],t.ssrcGroups.push({semantics:"SIM",ssrcs:d.join(" ")});for(const p of d)t.ssrcs.push({id:p,attribute:"cname",value:l}),t.ssrcs.push({id:p,attribute:"msid",value:`${a} ${i}`});for(let p=0;p<u.length;++p){const e=d[p],r=u[p];t.ssrcs.push({id:r,attribute:"cname",value:l}),t.ssrcs.push({id:r,attribute:"msid",value:`${a} ${i}`}),t.ssrcGroups.push({semantics:"FID",ssrcs:`${e} ${r}`})}}},918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=n.clone(e);for(const r of t.codecs??[]){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType??`${r.kind}/${r.name}`,r.parameters){const e=r.parameters;e.apt&&(e.apt=Number(e.apt)),e["packetization-mode"]&&(e["packetization-mode"]=Number(e["packetization-mode"]))}for(const e of r.rtcpFeedback??[])e.parameter||(e.parameter="")}return t},t.mangleRtpParameters=function(e){const t=n.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return t};const n=r(8988)},928:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},1194:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeUnifiedPlan=void 0;const n=r(9640),a=r(2097),i=r(8988),s=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new a.Logger("ReactNativeUnifiedPlan"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"ReactNativeUnifiedPlan"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const a=n.parse(r.sdp),i=o.extractRtpCapabilities({sdpObject:a});return l.addNackSupportForOpus(i),i}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;this.assertNotClosed(),f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",u),video:s.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",u),video:s.getSendingRemoteRtpParameters("video",u)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:l,onRtpSender:d}=e;this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach(((e,t)=>{e.rid=`r${t}`}));const u=i.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=s.reduceCodecs(u.codecs,l);const p=i.clone(this._sendingRemoteRtpParametersByKind[t.kind]);p.codecs=s.reduceCodecs(p.codecs,l);const m=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});d&&d(g.sender);let y,b=await this._pc.createOffer(),v=n.parse(b.sdp);v.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v});let _=!1;const w=(0,h.parse)((r??[{}])[0].scalabilityMode);r&&1===r.length&&w.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),_=!0,v=n.parse(b.sdp),y=v.media[m.idx],c.addLegacySimulcast({offerMediaObject:y,numStreams:w.spatialLayers}),b={type:"offer",sdp:n.write(v)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);let S=g.mid??void 0;if(S||f.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),u.mid=S,v=n.parse(this._pc.localDescription.sdp),y=v.media[m.idx],u.rtcp.cname=o.getCname({offerMediaObject:y}),r)if(1===r.length){let e=c.getRtpEncodings({offerMediaObject:y});Object.assign(e[0],r[0]),_&&(e=[e[0]]),u.encodings=e}else u.encodings=r;else u.encodings=c.getRtpEncodings({offerMediaObject:y});if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${w.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:y,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:p,codecOptions:a});const k={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),S||(S=g.mid,u.mid=S),this._mapMidTransceiver.set(S,g),{localId:S,rtpParameters:u,rtpSender:g.sender}}async stopSending(e){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(a){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:a,protocol:s};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a,streamId:i}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const s=a.mid??String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:a,streamId:i??a.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===n));if(!a)throw new Error("transceiver not found");t(a.receiver)}}let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,a=r.get(e),i=s.media.find((e=>String(e.mid)===a));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{trackId:e}=n,a=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===a));if(!i)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(a,i),t.push({localId:a,track:i.receiver.track,rtpReceiver:i.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:a};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=o.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNativeUnifiedPlan=g},1313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox120=void 0;const n=r(9640),a=r(2097),i=r(9398),s=r(8988),o=r(5809),c=r(5467),l=r(683),d=r(2384),u=r(3054),p=r(3204),h=new a.Logger("Firefox120"),f={OS:16,MIS:2048};class m extends d.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new m}constructor(){super()}get name(){return"Firefox120"}close(){if(h.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const r=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"}),e.addTransceiver(r,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const i=await e.createOffer();try{t.remove()}catch(a){}try{r.stop()}catch(a){}try{e.close()}catch(a){}const s=n.parse(i.sdp);return c.extractRtpCapabilities({sdpObject:s})}catch(a){try{t.remove()}catch(i){}try{r.stop()}catch(i){}try{e.close()}catch(i){}throw a}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:f}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:p}=e;this.assertNotClosed(),h.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",p),video:o.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",p),video:o.getSendingRemoteRtpParameters("video",p)},this._pc=new RTCPeerConnection({iceServers:s??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){throw this.assertNotClosed(),new i.UnsupportedError("not supported")}async restartIce(e){if(this.assertNotClosed(),h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:i,onRtpSender:d}=e;this.assertNotClosed(),this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach(((e,t)=>{e.rid=`r${t}`}));const u=s.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=o.reduceCodecs(u.codecs,i);const f=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);f.codecs=o.reduceCodecs(f.codecs,i);const m=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});d&&d(m.sender);const g=await this._pc.createOffer();let y=n.parse(g.sdp);y.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:y});const b=(0,p.parse)((r??[{}])[0].scalabilityMode);h.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const v=m.mid;u.mid=v,y=n.parse(this._pc.localDescription.sdp);const _=y.media[y.media.length-1];if(u.rtcp.cname=c.getCname({offerMediaObject:_}),r)if(1===r.length){const e=l.getRtpEncodings({offerMediaObject:_});Object.assign(e[0],r[0]),u.encodings=e}else u.encodings=r;else u.encodings=l.getRtpEncodings({offerMediaObject:_});if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${b.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:_,offerRtpParameters:u,answerRtpParameters:f,codecOptions:a});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(v,m),{localId:v,rtpParameters:u,rtpSender:m.sender}}async stopSending(e){if(this.assertSendDirection(),h.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const r=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated transceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:a,protocol:s};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%f.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a,streamId:i}=n;h.debug("receive() [trackId:%s, kind:%s]",e,t);const s=a.mid??String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:a,streamId:i??a.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===n));if(!a)throw new Error("transceiver not found");t(a.receiver)}}let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,a=r.get(e),l=s.media.find((e=>String(e.mid)===a));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:l}),i={type:"answer",sdp:n.write(s)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:s}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{trackId:e}=n,a=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===a));if(!i)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(a,i),t.push({localId:a,track:i.receiver.track,rtpReceiver:i.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){h.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:a};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=c.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new i.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox120=m},1344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(928))&&n.__esModule?n:{default:n},i=r(2012);let s,o,c=0,l=0;var d=function(e,t,r){let n=t&&r||0;const d=t||new Array(16);let u=(e=e||{}).node||s,p=void 0!==e.clockseq?e.clockseq:o;if(null==u||null==p){const t=e.random||(e.rng||a.default)();null==u&&(u=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=o=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1;const m=h-c+(f-l)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||h>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,l=f,o=p,h+=122192928e5;const g=(1e4*(268435455&h)+f)%4294967296;d[n++]=g>>>24&255,d[n++]=g>>>16&255,d[n++]=g>>>8&255,d[n++]=255&g;const y=h/4294967296*1e4&268435455;d[n++]=y>>>8&255,d[n++]=255&y,d[n++]=y>>>24&15|16,d[n++]=y>>>16&255,d[n++]=p>>>8|128,d[n++]=255&p;for(let a=0;a<6;++a)d[n+a]=u[a];return t||(0,i.unsafeStringify)(d)};t.default=d},1518:function(e,t,r){var n;!function(a,i){"use strict";var s="user-agent",o="",c="function",l="undefined",d="object",u="string",p="browser",h="cpu",f="device",m="engine",g="os",y="result",b="name",v="type",_="vendor",w="version",S="architecture",k="major",R="model",C="console",P="mobile",T="tablet",x="smarttv",E="wearable",D="xr",L="embedded",O="inapp",I="brands",M="formFactors",N="fullVersionList",j="platform",A="platformVersion",F="bitness",z="sec-ch-ua",B=z+"-full-version-list",U=z+"-arch",$=z+"-"+F,H=z+"-form-factors",q=z+"-"+P,V=z+"-"+R,K=z+"-"+j,W=K+"-version",Q=[I,N,P,R,j,A,S,M,F],G="Amazon",Y="Apple",X="ASUS",J="BlackBerry",Z="Google",ee="Huawei",te="Lenovo",re="Honor",ne="LG",ae="Microsoft",ie="Motorola",se="Nvidia",oe="OnePlus",ce="OPPO",le="Samsung",de="Sharp",ue="Sony",pe="Xiaomi",he="Zebra",fe="Chrome",me="Chromium",ge="Chromecast",ye="Firefox",be="Opera",ve="Facebook",_e="Sogou",we="Mobile ",Se=" Browser",ke="Windows",Re=typeof a!==l,Ce=Re&&a.navigator?a.navigator:i,Pe=Ce&&Ce.userAgentData?Ce.userAgentData:i,Te=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},xe=function(e,t){if(typeof e===d&&e.length>0){for(var r in e)if(Oe(e[r])==Oe(t))return!0;return!1}return!!De(e)&&-1!==Oe(t).indexOf(Oe(e))},Ee=function(e,t){for(var r in e)return/^(browser|cpu|device|engine|os)$/.test(r)||!!t&&Ee(e[r])},De=function(e){return typeof e===u},Le=function(e){if(!e)return i;for(var t=[],r=Ne(/\\?\"/g,e).split(","),n=0;n<r.length;n++)if(r[n].indexOf(";")>-1){var a=Ae(r[n]).split(";v=");t[n]={brand:a[0],version:a[1]}}else t[n]=Ae(r[n]);return t},Oe=function(e){return De(e)?e.toLowerCase():e},Ie=function(e){return De(e)?Ne(/[^\d\.]/g,e).split(".")[0]:i},Me=function(e){for(var t in e){var r=e[t];typeof r==d&&2==r.length?this[r[0]]=r[1]:this[r]=i}return this},Ne=function(e,t){return De(t)?t.replace(e,o):t},je=function(e){return Ne(/\\?\"/g,e)},Ae=function(e,t){if(De(e))return e=Ne(/^\s\s*/,e),typeof t===l?e:e.substring(0,500)},Fe=function(e,t){if(e&&t)for(var r,n,a,s,o,l,u=0;u<t.length&&!o;){var p=t[u],h=t[u+1];for(r=n=0;r<p.length&&!o&&p[r];)if(o=p[r++].exec(e))for(a=0;a<h.length;a++)l=o[++n],typeof(s=h[a])===d&&s.length>0?2===s.length?typeof s[1]==c?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==c||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;u+=2}},ze=function(e,t){for(var r in t)if(typeof t[r]===d&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(xe(t[r][n],e))return"?"===r?i:r}else if(xe(t[r],e))return"?"===r?i:r;return t.hasOwnProperty("*")?t["*"]:e},Be={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ue={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":i},$e={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[b,we+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,w],[/opios[\/ ]+([\w\.]+)/i],[w,[b,be+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[b,be+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[b,be]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[b,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[b,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[b,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[b,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[b,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[b,"Smart "+te+Se]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure"+Se],w],[/\bfocus\/([\w\.]+)/i],[w,[b,ye+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[b,be+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[b,be+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[b,"MIUI"+Se]],[/fxios\/([\w\.-]+)/i],[w,[b,we+ye]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[b,"360"]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+Se],w],[/samsungbrowser\/([\w\.]+)/i],[w,[b,le+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[b,_e+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,_e+" Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[b,w],[/(lbbrowser|rekonq)/i],[b],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,ve],w,[v,O]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,w,[v,O]],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[b,"GSA"],[v,O]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[b,"TikTok"],[v,O]],[/\[(linkedin)app\]/i],[b,[v,O]],[/(chromium)[\/ ]([-\w\.]+)/i],[b,w],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[b,fe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,fe+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[b,"Android"+Se]],[/chrome\/([\w\.]+) mobile/i],[w,[b,we+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,w],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[w,[b,we+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[b,we+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[w,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[w,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[b,w],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[b,we+ye],w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[b,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[b,ye+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[b,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[w,/[^\d\.]+./,o]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[S,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[S,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[S,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[S,/ower/,o,Oe]],[/ sun4\w[;\)]/i],[[S,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[S,Oe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[R,[_,le],[v,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[R,[_,le],[v,P]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[R,[_,Y],[v,P]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[R,[_,Y],[v,T]],[/(macintosh);/i],[R,[_,Y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[R,[_,de],[v,P]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[R,[_,re],[v,T]],[/honor([-\w ]+)[;\)]/i],[R,[_,re],[v,P]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[R,[_,ee],[v,T]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[R,[_,ee],[v,P]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[R,/_/g," "],[_,pe],[v,T]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[R,/_/g," "],[_,pe],[v,P]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[R,[_,ce],[v,P]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[R,[_,ze,{OnePlus:["304","403","203"],"*":ce}],[v,T]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[R,[_,"BLU"],[v,P]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[R,[_,"Vivo"],[v,P]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[R,[_,"Realme"],[v,P]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[R,[_,ie],[v,P]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[R,[_,ie],[v,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[R,[_,ne],[v,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[R,[_,ne],[v,P]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[R,[_,te],[v,T]],[/(nokia) (t[12][01])/i],[_,R,[v,T]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[R,/_/g," "],[v,P],[_,"Nokia"]],[/(pixel (c|tablet))\b/i],[R,[_,Z],[v,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[R,[_,Z],[v,P]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[R,[_,ue],[v,P]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[R,"Xperia Tablet"],[_,ue],[v,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[R,[_,oe],[v,P]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[R,[_,G],[v,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[R,/(.+)/g,"Fire Phone $1"],[_,G],[v,P]],[/(playbook);[-\w\),; ]+(rim)/i],[R,_,[v,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[R,[_,J],[v,P]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[R,[_,X],[v,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[R,[_,X],[v,P]],[/(nexus 9)/i],[R,[_,"HTC"],[v,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[_,[R,/_/g," "],[v,P]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[R,[_,"TCL"],[v,T]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[R,[_,"TCL"],[v,P]],[/(itel) ((\w+))/i],[[_,Oe],R,[v,ze,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[R,[_,"Acer"],[v,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[R,[_,"Meizu"],[v,P]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[R,[_,"Ulefone"],[v,P]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[R,[_,"Energizer"],[v,P]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[R,[_,"Cat"],[v,P]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[R,[_,"Smartfren"],[v,P]],[/droid.+; (a(?:015|06[35]|142p?))/i],[R,[_,"Nothing"],[v,P]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[R,[_,"Archos"],[v,T]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[R,[_,"Archos"],[v,P]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[_,R,[v,T]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[_,R,[v,P]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[_,R,[v,T]],[/(surface duo)/i],[R,[_,ae],[v,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[R,[_,"Fairphone"],[v,P]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[R,[_,se],[v,T]],[/(sprint) (\w+)/i],[_,R,[v,P]],[/(kin\.[onetw]{3})/i],[[R,/\./g," "],[_,ae],[v,P]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[R,[_,he],[v,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[R,[_,he],[v,P]],[/smart-tv.+(samsung)/i],[_,[v,x]],[/hbbtv.+maple;(\d+)/i],[[R,/^/,"SmartTV"],[_,le],[v,x]],[/tcast.+(lg)e?. ([-\w]+)/i],[_,R,[v,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,ne],[v,x]],[/(apple) ?tv/i],[_,[R,Y+" TV"],[v,x]],[/crkey.*devicetype\/chromecast/i],[[R,ge+" Third Generation"],[_,Z],[v,x]],[/crkey.*devicetype\/([^/]*)/i],[[R,/^/,"Chromecast "],[_,Z],[v,x]],[/fuchsia.*crkey/i],[[R,ge+" Nest Hub"],[_,Z],[v,x]],[/crkey/i],[[R,ge],[_,Z],[v,x]],[/(portaltv)/i],[R,[_,ve],[v,x]],[/droid.+aft(\w+)( bui|\))/i],[R,[_,G],[v,x]],[/(shield \w+ tv)/i],[R,[_,se],[v,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[R,[_,de],[v,x]],[/(bravia[\w ]+)( bui|\))/i],[R,[_,ue],[v,x]],[/(mi(tv|box)-?\w+) bui/i],[R,[_,pe],[v,x]],[/Hbbtv.*(technisat) (.*);/i],[_,R,[v,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[_,Ae],[R,Ae],[v,x]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[R,[v,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,x]],[/(ouya)/i,/(nintendo) (\w+)/i],[_,R,[v,C]],[/droid.+; (shield)( bui|\))/i],[R,[_,se],[v,C]],[/(playstation \w+)/i],[R,[_,ue],[v,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[R,[_,ae],[v,C]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[R,[_,le],[v,E]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[_,R,[v,E]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[R,[_,ce],[v,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[R,[_,Y],[v,E]],[/(opwwe\d{3})/i],[R,[_,oe],[v,E]],[/(moto 360)/i],[R,[_,ie],[v,E]],[/(smartwatch 3)/i],[R,[_,ue],[v,E]],[/(g watch r)/i],[R,[_,ne],[v,E]],[/droid.+; (wt63?0{2,3})\)/i],[R,[_,he],[v,E]],[/droid.+; (glass) \d/i],[R,[_,Z],[v,D]],[/(pico) (4|neo3(?: link|pro)?)/i],[_,R,[v,D]],[/(quest( \d| pro)?s?).+vr/i],[R,[_,ve],[v,D]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[v,L]],[/(aeobc)\b/i],[R,[_,G],[v,L]],[/(homepod).+mac os/i],[R,[_,Y],[v,L]],[/windows iot/i],[[v,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[R,[v,ze,{mobile:"Mobile",xr:"VR","*":T}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,P]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[R,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[b,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[b,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,w],[/ladybird\//i],[[b,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,w],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[b,[w,ze,Be]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,ze,Be],[b,ke]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"macOS"],[w,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[w,[b,ge+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[w,[b,ge+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[w,[b,ge+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[w,[b,ge+" Linux"]],[/crkey\/([\d\.]+)/i],[w,[b,ge]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,b],[/(ubuntu) ([\w\.]+) like android/i],[[b,/(.+)/,"$1 Touch"],w],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[b,w],[/\(bb(10);/i],[w,[b,J]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[w,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[b,ye+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[b,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,"Chrome OS"],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,w],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,w]]},He=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Me.call(e.init,[[p,[b,w,k,v]],[h,[S]],[f,[v,R,_]],[m,[b,w]],[g,[b,w]]]),Me.call(e.isIgnore,[[p,[w,k]],[m,[w]],[g,[w]]]),Me.call(e.isIgnoreRgx,[[p,/ ?browser$/i],[g,/ ?os$/i]]),Me.call(e.toString,[[p,[b,w]],[h,[S]],[f,[_,R]],[m,[b,w]],[g,[b,w]]]),e}(),qe=function(e,t){var r=He.init[t],n=He.isIgnore[t]||0,a=He.isIgnoreRgx[t]||0,i=He.toString[t]||0;function s(){Me.call(this,r)}return s.prototype.getItem=function(){return e},s.prototype.withClientHints=function(){return Pe?Pe.getHighEntropyValues(Q).then((function(t){return e.setCH(new Ve(t,!1)).parseCH().get()})):e.parseCH().get()},s.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=y&&(s.prototype.is=function(e){var t=!1;for(var r in this)if(this.hasOwnProperty(r)&&!xe(n,r)&&Oe(a?Ne(a,this[r]):this[r])==Oe(a?Ne(a,e):e)){if(t=!0,e!=l)break}else if(e==l&&t){t=!t;break}return t},s.prototype.toString=function(){var e=o;for(var t in i)typeof this[i[t]]!==l&&(e+=(e?" ":o)+this[i[t]]);return e||l}),Pe||(s.prototype.then=function(e){var t=this,r=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};r.prototype={is:s.prototype.is,toString:s.prototype.toString};var n=new r;return e(n),n}),new s};function Ve(e,t){if(e=e||{},Me.call(this,Q),t)Me.call(this,[[I,Le(e[z])],[N,Le(e[B])],[P,/\?1/.test(e[q])],[R,je(e[V])],[j,je(e[K])],[A,je(e[W])],[S,je(e[U])],[M,Le(e[H])],[F,je(e[$])]]);else for(var r in e)this.hasOwnProperty(r)&&typeof e[r]!==l&&(this[r]=e[r])}function Ke(e,t,r,n){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:i:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(Ce&&Ce.userAgent==this.ua)switch(this.itemType){case p:Ce.brave&&typeof Ce.brave.isBrave==c&&this.set(b,"Brave");break;case f:!this.get(v)&&Pe&&Pe[P]&&this.set(v,P),"Macintosh"==this.get(R)&&Ce&&typeof Ce.standalone!==l&&Ce.maxTouchPoints&&Ce.maxTouchPoints>2&&this.set(R,"iPad").set(v,T);break;case g:!this.get(b)&&Pe&&Pe[j]&&this.set(b,Pe[j]);break;case y:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(p,t(p)).set(h,t(h)).set(f,t(f)).set(m,t(m)).set(g,t(g))}return this},this.parseUA=function(){return this.itemType!=y&&Fe.call(this.data,this.ua,this.rgxMap),this.itemType==p&&this.set(k,Ie(this.get(w))),this},this.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case p:case m:var r,n=e[N]||e[I];if(n)for(var a in n){var s=n[a].brand||n[a],o=n[a].version;this.itemType!=p||/not.a.brand/i.test(s)||r&&(!/chrom/i.test(r)||s==me)||(s=ze(s,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(b,s).set(w,o).set(k,Ie(o)),r=s),this.itemType==m&&s==me&&this.set(w,o)}break;case h:var c=e[S];c&&(c&&"64"==e[F]&&(c+="64"),Fe.call(this.data,c+";",t));break;case f:if(e[P]&&this.set(v,P),e[R]&&(this.set(R,e[R]),!this.get(v)||!this.get(_))){var l={};Fe.call(l,"droid 9; "+e[R]+")",t),!this.get(v)&&l.type&&this.set(v,l.type),!this.get(_)&&l.vendor&&this.set(_,l.vendor)}if(e[M]){var d;if("string"!==typeof e[M])for(var u=0;!d&&u<e[M].length;)d=ze(e[M][u++],Ue);else d=ze(e[M],Ue);this.set(v,d)}break;case g:var C=e[j];if(C){var T=e[A];C==ke&&(T=parseInt(Ie(T),10)>=13?"11":"10"),this.set(b,C).set(w,T)}this.get(b)==ke&&"Xbox"==e[R]&&this.set(b,"Xbox").set(w,i);break;case y:var x=this.data,E=function(t){return x[t].getItem().setCH(e).parseCH().get()};this.set(p,E(p)).set(h,E(h)).set(f,E(f)).set(m,E(m)).set(g,E(g))}return this},Me.call(this,[["itemType",e],["ua",t],["uaCH",n],["rgxMap",r],["data",qe(this,e)]]),this}function We(e,t,r){if(typeof e===d?(Ee(e,!0)?(typeof t===d&&(r=t),t=e):(r=e,t=i),e=i):typeof e!==u||Ee(t,!0)||(r=t,t=i),r&&typeof r.append===c){var n={};r.forEach((function(e,t){n[t]=e})),r=n}if(!(this instanceof We))return new We(e,t,r).getResult();var a=typeof e===u?e:r&&r[s]?r[s]:Ce&&Ce.userAgent?Ce.userAgent:o,l=new Ve(r,!0),b=t?function(e,t){var r={},n=t;if(!Ee(t))for(var a in n={},t)for(var i in t[a])n[i]=t[a][i].concat(n[i]?n[i]:[]);for(var s in e)r[s]=n[s]&&n[s].length%2===0?n[s].concat(e[s]):e[s];return r}($e,t):$e,v=function(e){return e==y?function(){return new Ke(e,a,b,l).set("ua",a).set(p,this.getBrowser()).set(h,this.getCPU()).set(f,this.getDevice()).set(m,this.getEngine()).set(g,this.getOS()).get()}:function(){return new Ke(e,a,b[e],l).parseUA().get()}};return Me.call(this,[["getBrowser",v(p)],["getCPU",v(h)],["getDevice",v(f)],["getEngine",v(m)],["getOS",v(g)],["getResult",v(y)],["getUA",function(){return a}],["setUA",function(e){return De(e)&&(a=e.length>500?Ae(e,500):e),this}]]).setUA(a),this}We.VERSION="2.0.3",We.BROWSER=Te([b,w,k,v]),We.CPU=Te([S]),We.DEVICE=Te([R,_,v,C,P,x,T,E,L]),We.ENGINE=We.OS=Te([b,w]),typeof t!==l?(e.exports&&(t=e.exports=We),t.UAParser=We):r.amdO?(n=function(){return We}.call(t,r,t,e))===i||(e.exports=n):Re&&(a.UAParser=We);var Qe=Re&&(a.jQuery||a.Zepto);if(Qe&&!Qe.ua){var Ge=new We;Qe.ua=Ge.getResult(),Qe.ua.get=function(){return Ge.getUA()},Qe.ua.set=function(e){Ge.setUA(e);var t=Ge.getResult();for(var r in t)Qe.ua[r]=t[r]}}}("object"===typeof window?window:this)},1581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNackSupportForOpus=function(e){for(const t of e.codecs??[])"audio/opus"!==t.mimeType.toLowerCase()&&"audio/multiopus"!==t.mimeType.toLowerCase()||t.rtcpFeedback?.some((e=>"nack"===e.type&&!e.parameter))||(t.rtcpFeedback||(t.rtcpFeedback=[]),t.rtcpFeedback.push({type:"nack"}))}},1899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Device=void 0,t.detectDevice=k;const n=r(1518),a=r(2097),i=r(9642),s=r(9398),o=r(8988),c=r(5809),l=r(7964),d=r(8716),u=r(8390),p=r(2634),h=r(6230),f=r(8027),m=r(1313),g=r(5320),y=r(2652),b=r(8741),v=r(9496),_=r(1194),w=r(4471),S=new a.Logger("Device");function k(e){if(!e&&"object"===typeof navigator&&"ReactNative"===navigator.product)return S.debug("detectDevice() | React-Native detected"),"undefined"===typeof RTCPeerConnection?void S.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?"):"undefined"!==typeof RTCRtpTransceiver?(S.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(S.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative");if(e||"object"===typeof navigator&&"string"===typeof navigator.userAgent){e??=navigator.userAgent;const t=new n.UAParser(e);S.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",e,t.getResult());const r=t.getBrowser(),a=r.name?.toLowerCase(),i=parseInt(r.major??"0"),s=t.getEngine(),o=s.name?.toLowerCase(),c=t.getOS(),l=c.name?.toLowerCase(),d=parseFloat(c.version??"0"),u=t.getDevice(),p=u.model?.toLowerCase(),h="ios"===l||"ipad"===p,f=a&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(a),m=a&&["firefox","mobile firefox","mobile focus"].includes(a),g=a&&["safari","mobile safari"].includes(a),y=a&&["edge"].includes(a);if((f||y)&&!h&&i>=111)return"Chrome111";if(f&&!h&&i>=74||y&&!h&&i>=88)return"Chrome74";if(f&&!h&&i>=70)return"Chrome70";if(f&&!h&&i>=67)return"Chrome67";if(f&&!h&&i>=55)return"Chrome55";if(m&&!h&&i>=120)return"Firefox120";if(m&&!h&&i>=60)return"Firefox60";if(m&&h&&d>=14.3)return"Safari12";if(g&&i>=12&&"undefined"!==typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(g&&i>=11)return"Safari11";if(y&&!h&&i>=11&&i<=18)return"Edge11";if("webkit"===o&&h&&"undefined"!==typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if("blink"===o){const t=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(t){const e=Number(t[1]);return e>=111?"Chrome111":e>=74?"Chrome74":e>=70?"Chrome70":e>=67?"Chrome67":"Chrome55"}return"Chrome111"}S.warn("detectDevice() | browser not supported [name:%s, version:%s]",a,i)}else S.warn("detectDevice() | unknown device")}t.Device=class{_handlerFactory;_handlerName;_loaded=!1;_extendedRtpCapabilities;_recvRtpCapabilities;_canProduceByKind;_sctpCapabilities;_observer=(()=>new i.EnhancedEventEmitter)();constructor(){let{handlerName:e,handlerFactory:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(S.debug("constructor()"),e&&t)throw new TypeError("just one of handlerName or handlerInterface can be given");if(t)this._handlerFactory=t;else{if(e)S.debug("constructor() | handler given: %s",e);else{if(e=k(),!e)throw new s.UnsupportedError("device not supported");S.debug("constructor() | detected handler: %s",e)}switch(e){case"Chrome111":this._handlerFactory=d.Chrome111.createFactory();break;case"Chrome74":this._handlerFactory=u.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=p.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=h.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=f.Chrome55.createFactory();break;case"Firefox120":this._handlerFactory=m.Firefox120.createFactory();break;case"Firefox60":this._handlerFactory=g.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=y.Safari12.createFactory();break;case"Safari11":this._handlerFactory=b.Safari11.createFactory();break;case"Edge11":this._handlerFactory=v.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=_.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=w.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${e}"`)}}const r=this._handlerFactory();this._handlerName=r.name,r.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new s.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new s.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load(e){let t,{routerRtpCapabilities:r}=e;S.debug("load() [routerRtpCapabilities:%o]",r);try{if(this._loaded)throw new s.InvalidStateError("already loaded");const e=o.clone(r);c.validateRtpCapabilities(e),t=this._handlerFactory();const n=await t.getNativeRtpCapabilities();S.debug("load() | got native RTP capabilities:%o",n);const a=o.clone(n);c.validateRtpCapabilities(a),this._extendedRtpCapabilities=c.getExtendedRtpCapabilities(a,e),S.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=c.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=c.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=c.getRecvRtpCapabilities(this._extendedRtpCapabilities),c.validateRtpCapabilities(this._recvRtpCapabilities),S.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),S.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),c.validateSctpCapabilities(this._sctpCapabilities),S.debug("load() succeeded"),this._loaded=!0,t.close()}catch(n){throw t&&t.close(),n}}canProduce(e){if(!this._loaded)throw new s.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError(`invalid kind "${e}"`);return this._canProduceByKind[e]}createSendTransport(e){let{id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d}=e;return S.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d})}createRecvTransport(e){let{id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d}=e;return S.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:d})}createTransport(e){let{direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:c,iceTransportPolicy:d,additionalSettings:u,proprietaryConstraints:p,appData:h}=e;if(!this._loaded)throw new s.InvalidStateError("not loaded");if("string"!==typeof r)throw new TypeError("missing id");if("object"!==typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(a))throw new TypeError("missing iceCandidates");if("object"!==typeof i)throw new TypeError("missing dtlsParameters");if(o&&"object"!==typeof o)throw new TypeError("wrong sctpParameters");if(h&&"object"!==typeof h)throw new TypeError("if given, appData must be an object");const f=new l.Transport({direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:c,iceTransportPolicy:d,additionalSettings:u,proprietaryConstraints:p,appData:h,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}},2012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var n,a=(n=r(3455))&&n.__esModule?n:{default:n};const i=[];for(let c=0;c<256;++c)i.push((c+256).toString(16).slice(1));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}var o=function(e){const t=s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,a.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=o},2081:(e,t,r)=>{"use strict";t.pF=void 0;r(6522).default,r(2736);var n=r(1899);Object.defineProperty(t,"pF",{enumerable:!0,get:function(){return n.Device}});var a=r(3204);r(5809);var i=r(4752);r(7849)},2097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(6522),a="mediasoup-client";t.Logger=class{_debug;_warn;_error;constructor(e){e?(this._debug=(0,n.default)(`${a}:${e}`),this._warn=(0,n.default)(`${a}:WARN:${e}`),this._error=(0,n.default)(`${a}:ERROR:${e}`)):(this._debug=(0,n.default)(a),this._warn=(0,n.default)(`${a}:WARN`),this._error=(0,n.default)(`${a}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},2384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerInterface=void 0;const n=r(9642);class a extends n.EnhancedEventEmitter{constructor(){super()}}t.HandlerInterface=a},2499:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function a(r){e.removeListener(t,i),n(r)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&m(e,"error",t,r)}(e,a,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var a,i,s,l;if(o(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"===typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(a=c(e))>0&&s.length>a&&!s.warned){s.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=s.length,l=d,console&&console.warn&&console.warn(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=d.bind(n);return a.listener=r,n.wrapFn=a,a}function p(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"===typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):f(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(i){n.once&&e.removeEventListener(t,a),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var l=c.length,d=f(c,l);for(r=0;r<l;++r)n(d[r],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,a,i,s;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome70=void 0;const n=r(9640),a=r(2097),i=r(8988),s=r(5809),o=r(5467),c=r(683),l=r(2384),d=r(3054),u=r(3204),p=new a.Logger("Chrome70"),h={OS:1024,MIS:1024};class f extends l.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new f}constructor(){super()}get name(){return"Chrome70"}close(){if(p.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){p.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const a=n.parse(r.sdp);return o.extractRtpCapabilities({sdpObject:a})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:h}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,extendedRtpCapabilities:h}=e;p.debug("run()"),this._direction=t,this._remoteSdp=new d.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",h),video:s.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",h),video:s.getSendingRemoteRtpParameters("video",h)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},u),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){p.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:l}=e;this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const d=i.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=s.reduceCodecs(d.codecs,l);const h=i.clone(this._sendingRemoteRtpParametersByKind[t.kind]);h.codecs=s.reduceCodecs(h.codecs,l);const f=this._remoteSdp.getNextMediaSectionIdx(),m=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let g,y=await this._pc.createOffer(),b=n.parse(y.sdp);b.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),r&&r.length>1&&(p.debug("send() | enabling legacy simulcast"),b=n.parse(y.sdp),g=b.media[f.idx],c.addLegacySimulcast({offerMediaObject:g,numStreams:r.length}),y={type:"offer",sdp:n.write(b)});let v=!1;const _=(0,u.parse)((r??[{}])[0].scalabilityMode);if(r&&1===r.length&&_.spatialLayers>1&&"video/vp9"===d.codecs[0].mimeType.toLowerCase()&&(p.debug("send() | enabling legacy simulcast for VP9 SVC"),v=!0,b=n.parse(y.sdp),g=b.media[f.idx],c.addLegacySimulcast({offerMediaObject:g,numStreams:_.spatialLayers}),y={type:"offer",sdp:n.write(b)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y),r){p.debug("send() | applying given encodings");const e=m.sender.getParameters();for(let t=0;t<(e.encodings??[]).length;++t){const n=e.encodings[t],a=r[t];if(!a)break;e.encodings[t]=Object.assign(n,a)}await m.sender.setParameters(e)}const w=m.mid;if(d.mid=w,b=n.parse(this._pc.localDescription.sdp),g=b.media[f.idx],d.rtcp.cname=o.getCname({offerMediaObject:g}),d.encodings=c.getRtpEncodings({offerMediaObject:g}),r)for(let n=0;n<d.encodings.length;++n)r[n]&&Object.assign(d.encodings[n],r[n]);if(v&&(d.encodings=[d.encodings[0]]),d.encodings.length>1&&("video/vp8"===d.codecs[0].mimeType.toLowerCase()||"video/h264"===d.codecs[0].mimeType.toLowerCase()))for(const n of d.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:f.reuseMid,offerRtpParameters:d,answerRtpParameters:h,codecOptions:a});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,m),{localId:w,rtpParameters:d,rtpSender:m.sender}}async stopSending(e){this.assertSendDirection(),p.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(a){}const r=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?p.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):p.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();p.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();p.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s};p.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a,streamId:i}=n;p.debug("receive() [trackId:%s, kind:%s]",e,t);const s=a.mid??String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:a,streamId:i??a.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,a=r.get(e),i=s.media.find((e=>String(e.mid)===a));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{trackId:e}=n,a=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===a));if(!i)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(a,i),t.push({localId:a,track:i.receiver.track,rtpReceiver:i.receiver})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){p.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:a};p.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=o.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome70=f},2652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Safari12=void 0;const n=r(9640),a=r(2097),i=r(8988),s=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new a.Logger("Safari12"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"Safari12"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const a=n.parse(r.sdp),i=o.extractRtpCapabilities({sdpObject:a});return l.addNackSupportForOpus(i),i}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;this.assertNotClosed(),f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",u),video:s.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",u),video:s.getSendingRemoteRtpParameters("video",u)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:l,onRtpSender:d}=e;this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const u=i.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=s.reduceCodecs(u.codecs,l);const p=i.clone(this._sendingRemoteRtpParametersByKind[t.kind]);p.codecs=s.reduceCodecs(p.codecs,l);const m=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});d&&d(g.sender);let y,b=await this._pc.createOffer(),v=n.parse(b.sdp);v.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v});const _=(0,h.parse)((r??[{}])[0].scalabilityMode);r&&r.length>1&&(f.debug("send() | enabling legacy simulcast"),v=n.parse(b.sdp),y=v.media[m.idx],c.addLegacySimulcast({offerMediaObject:y,numStreams:r.length}),b={type:"offer",sdp:n.write(v)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const w=g.mid;if(u.mid=w,v=n.parse(this._pc.localDescription.sdp),y=v.media[m.idx],u.rtcp.cname=o.getCname({offerMediaObject:y}),u.encodings=c.getRtpEncodings({offerMediaObject:y}),r)for(let n=0;n<u.encodings.length;++n)r[n]&&Object.assign(u.encodings[n],r[n]);if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase()))for(const n of u.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${_.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:y,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:p,codecOptions:a});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,g),{localId:w,rtpParameters:u,rtpSender:g.sender}}async stopSending(e){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(a){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:a,protocol:s};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a,streamId:i}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const s=a.mid??String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:a,streamId:i??a.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===n));if(!a)throw new Error("transceiver not found");t(a.receiver)}}let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,a=r.get(e),i=s.media.find((e=>String(e.mid)===a));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{trackId:e}=n,a=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===a));if(!i)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(a,i),t.push({localId:a,track:i.receiver.track,rtpReceiver:i.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:a};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=o.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari12=g},2669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueueRemovedTaskError=t.AwaitQueueStoppedError=t.AwaitQueue=void 0;var n=r(4892);Object.defineProperty(t,"AwaitQueue",{enumerable:!0,get:function(){return n.AwaitQueue}});var a=r(9970);Object.defineProperty(t,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return a.AwaitQueueStoppedError}}),Object.defineProperty(t,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return a.AwaitQueueRemovedTaskError}})},2679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2736:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(1899),t),a(r(7964),t),a(r(4315),t),a(r(8021),t),a(r(5275),t),a(r(4357),t),a(r(2679),t),a(r(4191),t),a(r(2384),t),a(r(9398),t)},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element");function n(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}Symbol.for("react.fragment"),t.jsx=n,t.jsxs=n},2899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(5882)),a=s(r(928)),i=r(2012);function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const s=(e=e||{}).random||(e.rng||a.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,i.unsafeStringify)(s)};t.default=o},3054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSdp=void 0;const n=r(9640),a=r(2097),i=r(8174),s=new a.Logger("RemoteSdp");t.RemoteSdp=class{_iceParameters;_iceCandidates;_dtlsParameters;_sctpParameters;_plainRtpParameters;_planB;_mediaSections=[];_midToIndex=(()=>new Map)();_firstMid;_sdpObject;constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:a,plainRtpParameters:i,planB:s=!1}=e;if(this._iceParameters=t,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=a,this._plainRtpParameters=i,this._planB=s,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t?.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[e-1].algorithm,hash:n.fingerprints[e-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(e){s.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){s.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}setSessionExtmapAllowMixed(){s.debug("setSessionExtmapAllowMixed()"),this._sdpObject.extmapAllowMixed="extmap-allow-mixed"}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send(e){let{offerMediaObject:t,reuseMid:r,offerRtpParameters:n,answerRtpParameters:a,codecOptions:s}=e;const o=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:a,codecOptions:s});r?this._replaceMediaSection(o,r):this._midToIndex.has(o.mid)?this._replaceMediaSection(o):this._addMediaSection(o)}receive(e){let{mid:t,kind:r,offerRtpParameters:n,streamId:a,trackId:s}=e;const o=this._midToIndex.get(t);let c;if(void 0!==o&&(c=this._mediaSections[o]),c)c.planBReceive({offerRtpParameters:n,streamId:a,trackId:s}),this._replaceMediaSection(c);else{c=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:r,offerRtpParameters:n,streamId:a,trackId:s});const e=this._mediaSections.find((e=>e.closed));e?this._replaceMediaSection(c,e.mid):this._addMediaSection(c)}}pauseMediaSection(e){this._findMediaSection(e).pause()}resumeSendingMediaSection(e){this._findMediaSection(e).resume()}resumeReceivingMediaSection(e){this._findMediaSection(e).resume()}disableMediaSection(e){this._findMediaSection(e).disable()}closeMediaSection(e){const t=this._findMediaSection(e);return e===this._firstMid?(s.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),this.disableMediaSection(e),!1):(t.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(e,t){const r=this._findMediaSection(e);r.muxSimulcastStreams(t),this._replaceMediaSection(r)}planBStopReceiving(e){let{mid:t,offerRtpParameters:r}=e;const n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}sendSctpAssociation(e){let{offerMediaObject:t}=e;const r=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}receiveSctpAssociation(){let{oldDataChannelSpec:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if("string"===typeof t){const r=this._midToIndex.get(t);if(void 0===r)throw new Error(`no media section found for reuseMid '${t}'`);const n=this._mediaSections[r];this._mediaSections[r]=e,this._midToIndex.delete(n.mid),this._midToIndex.set(e.mid,r),this._sdpObject.media[r]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_findMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);return this._mediaSections[t]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((e=>!e.closed)).map((e=>e.mid)).join(" "))}}},3204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){const t=r.exec(e??"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}};const r=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})")},3206:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},3455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(4906))&&n.__esModule?n:{default:n};var i=function(e){return"string"===typeof e&&a.default.test(e)};t.default=i},3812:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){const t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const i=e.length/4+2,s=Math.ceil(i/16),o=new Array(s);for(let r=0;r<s;++r){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*r+4*n]<<24|e[64*r+4*n+1]<<16|e[64*r+4*n+2]<<8|e[64*r+4*n+3];o[r]=t}o[s-1][14]=8*(e.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(e.length-1)&4294967295;for(let c=0;c<s;++c){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=o[c][t];for(let t=16;t<80;++t)e[t]=n(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let i=a[0],s=a[1],l=a[2],d=a[3],u=a[4];for(let a=0;a<80;++a){const o=Math.floor(a/20),c=n(i,5)+r(o,s,l,d)+u+t[o]+e[a]>>>0;u=d,d=l,l=n(s,30)>>>0,s=i,i=c}a[0]=a[0]+i>>>0,a[1]=a[1]+s>>>0,a[2]=a[2]+l>>>0,a[3]=a[3]+d>>>0,a[4]=a[4]+u>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]};t.default=a},4028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(5443)),a=i(r(3812));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v5",80,a.default);t.default=s},4185:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function a(e,t,r,a,i,s){return n((o=n(n(t,e),n(a,s)))<<(c=i)|o>>>32-c,r);var o,c}function i(e,t,r,n,i,s,o){return a(t&r|~t&n,e,t,i,s,o)}function s(e,t,r,n,i,s,o){return a(t&n|r&~n,e,t,i,s,o)}function o(e,t,r,n,i,s,o){return a(t^r^n,e,t,i,s,o)}function c(e,t,r,n,i,s,o){return a(r^(t|~n),e,t,i,s,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let a=0;a<r;a+=8){const r=e[a>>5]>>>a%32&255,i=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let a=1732584193,l=-271733879,d=-1732584194,u=271733878;for(let r=0;r<e.length;r+=16){const t=a,p=l,h=d,f=u;a=i(a,l,d,u,e[r],7,-680876936),u=i(u,a,l,d,e[r+1],12,-389564586),d=i(d,u,a,l,e[r+2],17,606105819),l=i(l,d,u,a,e[r+3],22,-1044525330),a=i(a,l,d,u,e[r+4],7,-176418897),u=i(u,a,l,d,e[r+5],12,1200080426),d=i(d,u,a,l,e[r+6],17,-1473231341),l=i(l,d,u,a,e[r+7],22,-45705983),a=i(a,l,d,u,e[r+8],7,1770035416),u=i(u,a,l,d,e[r+9],12,-1958414417),d=i(d,u,a,l,e[r+10],17,-42063),l=i(l,d,u,a,e[r+11],22,-1990404162),a=i(a,l,d,u,e[r+12],7,1804603682),u=i(u,a,l,d,e[r+13],12,-40341101),d=i(d,u,a,l,e[r+14],17,-1502002290),l=i(l,d,u,a,e[r+15],22,1236535329),a=s(a,l,d,u,e[r+1],5,-165796510),u=s(u,a,l,d,e[r+6],9,-1069501632),d=s(d,u,a,l,e[r+11],14,643717713),l=s(l,d,u,a,e[r],20,-373897302),a=s(a,l,d,u,e[r+5],5,-701558691),u=s(u,a,l,d,e[r+10],9,38016083),d=s(d,u,a,l,e[r+15],14,-660478335),l=s(l,d,u,a,e[r+4],20,-405537848),a=s(a,l,d,u,e[r+9],5,568446438),u=s(u,a,l,d,e[r+14],9,-1019803690),d=s(d,u,a,l,e[r+3],14,-187363961),l=s(l,d,u,a,e[r+8],20,1163531501),a=s(a,l,d,u,e[r+13],5,-1444681467),u=s(u,a,l,d,e[r+2],9,-51403784),d=s(d,u,a,l,e[r+7],14,1735328473),l=s(l,d,u,a,e[r+12],20,-1926607734),a=o(a,l,d,u,e[r+5],4,-378558),u=o(u,a,l,d,e[r+8],11,-2022574463),d=o(d,u,a,l,e[r+11],16,1839030562),l=o(l,d,u,a,e[r+14],23,-35309556),a=o(a,l,d,u,e[r+1],4,-1530992060),u=o(u,a,l,d,e[r+4],11,1272893353),d=o(d,u,a,l,e[r+7],16,-155497632),l=o(l,d,u,a,e[r+10],23,-1094730640),a=o(a,l,d,u,e[r+13],4,681279174),u=o(u,a,l,d,e[r],11,-358537222),d=o(d,u,a,l,e[r+3],16,-722521979),l=o(l,d,u,a,e[r+6],23,76029189),a=o(a,l,d,u,e[r+9],4,-640364487),u=o(u,a,l,d,e[r+12],11,-421815835),d=o(d,u,a,l,e[r+15],16,530742520),l=o(l,d,u,a,e[r+2],23,-995338651),a=c(a,l,d,u,e[r],6,-198630844),u=c(u,a,l,d,e[r+7],10,1126891415),d=c(d,u,a,l,e[r+14],15,-1416354905),l=c(l,d,u,a,e[r+5],21,-57434055),a=c(a,l,d,u,e[r+12],6,1700485571),u=c(u,a,l,d,e[r+3],10,-1894986606),d=c(d,u,a,l,e[r+10],15,-1051523),l=c(l,d,u,a,e[r+1],21,-2054922799),a=c(a,l,d,u,e[r+8],6,1873313359),u=c(u,a,l,d,e[r+15],10,-30611744),d=c(d,u,a,l,e[r+6],15,-1560198380),l=c(l,d,u,a,e[r+13],21,1309151649),a=c(a,l,d,u,e[r+4],6,-145523070),u=c(u,a,l,d,e[r+11],10,-1120210379),d=c(d,u,a,l,e[r+2],15,718787259),l=c(l,d,u,a,e[r+9],21,-343485551),a=n(a,t),l=n(l,p),d=n(d,h),u=n(u,f)}return[a,l,d,u]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=l},4191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}function b(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var _=v.prototype=new b;_.constructor=v,m(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function R(e,t,n,a,i,s){return n=s.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(){}function E(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c,l,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case n:d=!0;break;case p:return E((d=e._init)(e._payload),t,a,i,s)}}if(d)return s=s(e),d=""===i?"."+T(e,0):i,w(s)?(a="",null!=d&&(a=d.replace(P,"$&/")+"/"),E(s,t,a,"",(function(e){return e}))):null!=s&&(C(s)&&(c=s,l=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+d,s=R(c.type,l,void 0,0,0,c.props)),t.push(s)),1;d=0;var u,f=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)d+=E(i=e[m],t,a,o=f+T(i,m),s);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(i=e.next()).done;)d+=E(i=i.value,t,a,o=f+T(i,m++),s);else if("object"===o){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function D(e,t,r){if(null==e)return e;var n=[],a=0;return E(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function I(){}t.Children={map:D,forEach:function(e,t,r){D(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=v,t.StrictMode=i,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(n[i]=t[i]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];n.children=s}return R(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,a={},i=null;if(null!=t)for(n in void 0!==t.key&&(i=""+t.key),t)k.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];a.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===a[n]&&(a[n]=s[n]);return R(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,r={};S.T=r;try{var n=e(),a=S.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(I,O)}catch(i){O(i)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,r){return S.H.useActionState(e,t,r)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=S.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,r){return S.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return S.H.useReducer(e,t,r)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return S.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},4315:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Producer=void 0;const n=r(2097),a=r(9642),i=r(9398),s=new n.Logger("Producer");class o extends a.EnhancedEventEmitter{_id;_localId;_closed=!1;_rtpSender;_track;_kind;_rtpParameters;_paused;_maxSpatialLayer;_stopTracks;_disableTrackOnPause;_zeroRtpOnPause;_appData;_observer=(()=>new a.EnhancedEventEmitter)();constructor(e){let{id:t,localId:r,rtpSender:n,track:a,rtpParameters:i,stopTracks:o,disableTrackOnPause:c,zeroRtpOnPause:l,appData:d}=e;super(),s.debug("constructor()"),this._id=t,this._localId=r,this._rtpSender=n,this._track=a,this._kind=a.kind,this._rtpParameters=i,this._paused=!!c&&!a.enabled,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=c,this._zeroRtpOnPause=l,this._appData=d??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new i.InvalidStateError("closed");return new Promise(((e,t)=>{this.safeEmit("@getstats",e,t)}))}pause(){s.debug("pause()"),this._closed?s.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise(((e,t)=>{this.safeEmit("@pause",e,t)})).catch((()=>{})),this._observer.safeEmit("pause"))}resume(){s.debug("resume()"),this._closed?s.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise(((e,t)=>{this.safeEmit("@resume",e,t)})).catch((()=>{})),this._observer.safeEmit("resume"))}async replaceTrack(e){let{track:t}=e;if(s.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch(r){}throw new i.InvalidStateError("closed")}if(t&&"ended"===t.readyState)throw new i.InvalidStateError("track ended");t!==this._track?(await new Promise(((e,r)=>{this.safeEmit("@replacetrack",t,e,r)})),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()):s.debug("replaceTrack() | same track, ignored")}async setMaxSpatialLayer(e){if(this._closed)throw new i.InvalidStateError("closed");if("video"!==this._kind)throw new i.UnsupportedError("not a video Producer");if("number"!==typeof e)throw new TypeError("invalid spatialLayer");e!==this._maxSpatialLayer&&(await new Promise(((t,r)=>{this.safeEmit("@setmaxspatiallayer",e,t,r)})).catch((()=>{})),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new i.InvalidStateError("closed");if("object"!==typeof e)throw new TypeError("invalid params");await new Promise(((t,r)=>{this.safeEmit("@setrtpencodingparameters",e,t,r)}))}onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}t.Producer=o},4357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConsumer=void 0;const n=r(2097),a=r(9642),i=new n.Logger("DataConsumer");class s extends a.EnhancedEventEmitter{_id;_dataProducerId;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=(()=>new a.EnhancedEventEmitter)();constructor(e){let{id:t,dataProducerId:r,dataChannel:n,sctpStreamParameters:a,appData:s}=e;super(),i.debug("constructor()"),this._id=t,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=a,this._appData=s??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(i.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(i.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(i.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?i.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):i.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(i.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(e=>{this._closed||this.safeEmit("message",e.data)}))}}t.DataConsumer=s},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNative=void 0;const n=r(9640),a=r(2097),i=r(9398),s=r(8988),o=r(5809),c=r(5467),l=r(9613),d=r(2384),u=r(3054),p=new a.Logger("ReactNative"),h={OS:1024,MIS:1024};class f extends d.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdTrack=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new f}constructor(){super()}get name(){return"ReactNative"}close(){if(p.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){p.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const a=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:a})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:h}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:h}=e;p.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",h),video:o.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",h),video:o.getSendingRemoteRtpParameters("video",h)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){p.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:i}=e;this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&p.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let d,u=await this._pc.createOffer(),h=n.parse(u.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=s.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=o.reduceCodecs(f.codecs);const m=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=o.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(p.debug("send() | enabling simulcast"),h=n.parse(u.sdp),d=h.media.find((e=>"video"===e.type)),l.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),u={type:"offer",sdp:n.write(h)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=c.getCname({offerMediaObject:d}),f.encodings=l.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&("video/vp8"===f.codecs[0].mimeType.toLowerCase()||"video/h264"===f.codecs[0].mimeType.toLowerCase()))for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:a});const g={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(y,t),{localId:y,rtpParameters:f}}async stopSending(e){this.assertSendDirection(),p.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(a){if(0===this._sendStream.getTracks().length)return void p.warn("stopSending() | ignoring expected error due no sending tracks: %s",a.toString());throw a}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){throw new i.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new i.UnsupportedError("not implemented")}async setRtpEncodingParameters(e,t){throw new i.UnsupportedError("not implemented")}async getSenderStats(e){throw new i.UnsupportedError("not implemented")}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s};p.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a}=n;p.debug("receive() [trackId:%s, kind:%s]",e,t);const i=t;let o=n.streamId??a.rtcp.cname;p.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),o+=`-hack-${s.generateRandomNumber()}`,r.set(e,o),this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:a,streamId:o,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const o=n.parse(i.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,a=o.media.find((e=>String(e.mid)===r));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}i={type:"answer",sdp:n.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{kind:e,trackId:a,rtpParameters:i}=n,s=a,o=e,c=r.get(a),l=this._pc.getRemoteStreams().find((e=>e.id===c)).getTrackById(s);if(!l)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(s,{mid:o,rtpParameters:i}),t.push({localId:s,track:l})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){p.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new i.UnsupportedError("not implemented")}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:a};p.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=c.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNative=f},4752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FakeHandler=void 0;const n=r(5483),a=r(9642),i=r(2097),s=r(8988),o=r(5809),c=r(9398),l=r(2384),d=new i.Logger("FakeHandler");class u extends a.EnhancedEventEmitter{id;ordered;maxPacketLifeTime;maxRetransmits;label;protocol;constructor(e){let{id:t,ordered:r,maxPacketLifeTime:n,maxRetransmits:a,label:i,protocol:s}=e;super(),this.id=t,this.ordered=r,this.maxPacketLifeTime=n,this.maxRetransmits=a,this.label=i,this.protocol=s}close(){this.safeEmit("close"),this.emit("@close")}send(e){this.safeEmit("message",e)}addEventListener(e,t){this.on(e,t)}}class p extends l.HandlerInterface{_closed=!1;fakeParameters;_rtpParametersByKind;_cname=(()=>`CNAME-${s.generateRandomNumber()}`)();_transportReady=!1;_nextLocalId=1;_tracks=(()=>new Map)();_nextSctpStreamId=0;static createFactory(e){return()=>new p(e)}constructor(e){super(),this.fakeParameters=e}get name(){return"FakeHandler"}close(){d.debug("close()"),this._closed||(this._closed=!0)}setIceGatheringState(e){this.emit("@icegatheringstatechange",e)}setConnectionState(e){this.emit("@connectionstatechange",e)}async getNativeRtpCapabilities(){return d.debug("getNativeRtpCapabilities()"),this.fakeParameters.generateNativeRtpCapabilities()}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),this.fakeParameters.generateNativeSctpCapabilities()}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:c,proprietaryConstraints:l,extendedRtpCapabilities:u}=e;this.assertNotClosed(),d.debug("run()"),this._rtpParametersByKind={audio:o.getSendingRtpParameters("audio",u),video:o.getSendingRtpParameters("video",u)}}async updateIceServers(e){this.assertNotClosed(),d.debug("updateIceServers()")}async restartIce(e){this.assertNotClosed(),d.debug("restartIce()")}async getTransportStats(){return this.assertNotClosed(),new Map}async send(e){let{track:t,encodings:r,codecOptions:n,codec:a}=e;this.assertNotClosed(),d.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"});const i=s.clone(this._rtpParametersByKind[t.kind]),o=i.codecs.some((e=>/.+\/rtx$/i.test(e.mimeType)));i.mid=`mid-${s.generateRandomNumber()}`,r||(r=[{}]);for(const l of r)l.ssrc=s.generateRandomNumber(),o&&(l.rtx={ssrc:s.generateRandomNumber()});i.encodings=r,i.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=this._nextLocalId++;return this._tracks.set(c,t),{localId:String(c),rtpParameters:i}}async stopSending(e){if(d.debug("stopSending() [localId:%s]",e),!this._closed){if(!this._tracks.has(Number(e)))throw new Error("local track not found");this._tracks.delete(Number(e))}}async pauseSending(e){this.assertNotClosed()}async resumeSending(e){this.assertNotClosed()}async replaceTrack(e,t){this.assertNotClosed(),t?d.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):d.debug("replaceTrack() [localId:%s, no track]",e),this._tracks.delete(Number(e)),this._tracks.set(Number(e),t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t)}async getSenderStats(e){return this.assertNotClosed(),new Map}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}=e;this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),d.debug("sendDataChannel()");return{dataChannel:new u({id:this._nextSctpStreamId++,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:a,protocol:i}),sctpStreamParameters:{streamId:this._nextSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n}}}async receive(e){this.assertNotClosed();const t=[];for(const r of e){const{trackId:e,kind:a}=r;this._transportReady||await this.setupTransport({localDtlsRole:"client"}),d.debug("receive() [trackId:%s, kind:%s]",e,a);const i=this._nextLocalId++,s=new n.FakeMediaStreamTrack({kind:a});this._tracks.set(i,s),t.push({localId:String(i),track:s})}return t}async stopReceiving(e){if(!this._closed)for(const t of e)d.debug("stopReceiving() [localId:%s]",t),this._tracks.delete(Number(t))}async pauseReceiving(e){this.assertNotClosed()}async resumeReceiving(e){this.assertNotClosed()}async getReceiverStats(e){return this.assertNotClosed(),new Map}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:n}=e;this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"client"}),d.debug("receiveDataChannel()");return{dataChannel:new u({id:t.streamId,ordered:t.ordered,maxPacketLifeTime:t.maxPacketLifeTime,maxRetransmits:t.maxRetransmits,label:r,protocol:n})}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;const n=s.clone(this.fakeParameters.generateLocalDtlsParameters());t&&(n.role=t),this.emit("@connectionstatechange","connecting"),await new Promise(((e,t)=>this.emit("@connect",{dtlsParameters:n},e,t))),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new c.InvalidStateError("method called in a closed handler")}}t.FakeHandler=p},4808:(e,t,r)=>{"use strict";function n(e,t){if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];throw new TypeError(a(t,n))}}function a(e,t){let r=0;return e.replace(/%[os]/gu,(()=>i(t[r++])))}function i(e){return"object"!==typeof e||null===e?String(e):Object.prototype.toString.call(e)}let s;Object.defineProperty(t,"__esModule",{value:!0});const o="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof r.g?r.g:"undefined"!==typeof globalThis?globalThis:void 0;let c;class l{constructor(e,t){this.code=e,this.message=t}warn(){var e;try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(c)return void c({...this,args:r});const a=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:.+?\n){2}/gu,"\n");console.warn(this.message,...r,a)}catch(a){}}}const d=new l("W01","Unable to initialize event under dispatching."),u=new l("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),p=new l("W03","Assigning any truthy value to 'returnValue' property has no effect."),h=new l("W04","Unable to preventDefault on non-cancelable events."),f=new l("W05","Unable to preventDefault inside passive event listener invocation."),m=new l("W06","An event listener wasn't added because it has been added already: %o, %o"),g=new l("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),y=new l("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),b=new l("W09","Event attribute handler must be a function: %o");class v{static get NONE(){return _}static get CAPTURING_PHASE(){return w}static get AT_TARGET(){return S}static get BUBBLING_PHASE(){return k}constructor(e,t){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=null!==t&&void 0!==t?t:{};R.set(this,{type:String(e),bubbles:Boolean(r.bubbles),cancelable:Boolean(r.cancelable),composed:Boolean(r.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return C(this).type}get target(){return C(this).target}get srcElement(){return C(this).target}get currentTarget(){return C(this).currentTarget}composedPath(){const e=C(this).currentTarget;return e?[e]:[]}get NONE(){return _}get CAPTURING_PHASE(){return w}get AT_TARGET(){return S}get BUBBLING_PHASE(){return k}get eventPhase(){return C(this).dispatchFlag?2:0}stopPropagation(){C(this).stopPropagationFlag=!0}get cancelBubble(){return C(this).stopPropagationFlag}set cancelBubble(e){e?C(this).stopPropagationFlag=!0:u.warn()}stopImmediatePropagation(){const e=C(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}get bubbles(){return C(this).bubbles}get cancelable(){return C(this).cancelable}get returnValue(){return!C(this).canceledFlag}set returnValue(e){e?p.warn():P(C(this))}preventDefault(){P(C(this))}get defaultPrevented(){return C(this).canceledFlag}get composed(){return C(this).composed}get isTrusted(){return!1}get timeStamp(){return C(this).timeStamp}initEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=C(this);n.dispatchFlag?d.warn():R.set(this,{...n,type:String(e),bubbles:Boolean(t),cancelable:Boolean(r),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}}const _=0,w=1,S=2,k=3,R=new WeakMap;function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this";const r=R.get(e);return n(null!=r,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),r}function P(e){e.inPassiveListenerFlag?f.warn():e.cancelable?e.canceledFlag=!0:h.warn()}Object.defineProperty(v,"NONE",{enumerable:!0}),Object.defineProperty(v,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(v,"AT_TARGET",{enumerable:!0}),Object.defineProperty(v,"BUBBLING_PHASE",{enumerable:!0});const T=Object.getOwnPropertyNames(v.prototype);for(let te=0;te<T.length;++te)"constructor"!==T[te]&&Object.defineProperty(v.prototype,T[te],{enumerable:!0});let x;"undefined"!==typeof o&&"undefined"!==typeof o.Event&&Object.setPrototypeOf(v.prototype,o.Event.prototype);const E={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function D(e){const t=Object.keys(E);for(let r=0;r<t.length;++r){const n=t[r],a=E[n];Object.defineProperty(e,n,{get:()=>a,configurable:!0,enumerable:!0})}}class L extends v{static wrap(e){return new(N(e))(e)}constructor(e){super(e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&super.stopPropagation(),e.defaultPrevented&&super.preventDefault(),O.set(this,{original:e});const t=Object.keys(e);for(let r=0;r<t.length;++r){const n=t[r];n in this||Object.defineProperty(this,n,j(e,n))}}stopPropagation(){super.stopPropagation();const{original:e}=I(this);"stopPropagation"in e&&e.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(e){super.cancelBubble=e;const{original:t}=I(this);"cancelBubble"in t&&(t.cancelBubble=e)}stopImmediatePropagation(){super.stopImmediatePropagation();const{original:e}=I(this);"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(e){super.returnValue=e;const{original:t}=I(this);"returnValue"in t&&(t.returnValue=e)}preventDefault(){super.preventDefault();const{original:e}=I(this);"preventDefault"in e&&e.preventDefault()}get timeStamp(){const{original:e}=I(this);return"timeStamp"in e?e.timeStamp:super.timeStamp}}const O=new WeakMap;function I(e){const t=O.get(e);return n(null!=t,"'this' is expected an Event object, but got",e),t}const M=new WeakMap;function N(e){const t=Object.getPrototypeOf(e);if(null==t)return L;let r=M.get(t);return null==r&&(r=function(e,t){class r extends e{}const n=Object.keys(t);for(let a=0;a<n.length;++a)Object.defineProperty(r.prototype,n[a],j(t,n[a]));return r}(N(t),t),M.set(t,r)),r}function j(e,t){const r=Object.getOwnPropertyDescriptor(e,t);return{get(){const e=I(this).original,r=e[t];return"function"===typeof r?r.bind(e):r},set(e){I(this).original[t]=e},configurable:r.configurable,enumerable:r.enumerable}}function A(e){return 1===(1&e.flags)}function F(e){return 2===(2&e.flags)}function z(e){return 4===(4&e.flags)}function B(e){return 8===(8&e.flags)}function U(e,t,r){let{callback:n}=e;try{"function"===typeof n?n.call(t,r):"function"===typeof n.handleEvent&&n.handleEvent(r)}catch(a){!function(e){try{const t=e instanceof Error?e:new Error(i(e));if(s)return void s(t);if("function"===typeof dispatchEvent&&"function"===typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!==typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(t){}}(a)}}function $(e,t,r){let{listeners:n}=e;for(let a=0;a<n.length;++a)if(n[a].callback===t&&A(n[a])===r)return a;return-1}function H(e,t,r,n,a,i){let s;i&&(s=q.bind(null,e,t,r),i.addEventListener("abort",s));const o=function(e,t,r,n,a,i){return{callback:e,flags:(t?1:0)|(r?2:0)|(n?4:0),signal:a,signalListener:i}}(t,r,n,a,i,s);return e.cow?(e.cow=!1,e.listeners=[...e.listeners,o]):e.listeners.push(o),o}function q(e,t,r){const n=$(e,t,r);return-1!==n&&V(e,n)}function V(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.listeners[t];return function(e){e.flags|=8}(n),n.signal&&n.signal.removeEventListener("abort",n.signalListener),e.cow&&!r?(e.cow=!1,e.listeners=e.listeners.filter(((e,r)=>r!==t)),!1):(e.listeners.splice(t,1),!0)}function K(e,t){var r;return null!==(r=e[t])&&void 0!==r?r:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}M.set(Object.prototype,L),"undefined"!==typeof o&&"undefined"!==typeof o.Event&&M.set(o.Event.prototype,L);class W{constructor(){Q.set(this,Object.create(null))}addEventListener(e,t,r){const n=G(this),{callback:a,capture:i,once:s,passive:o,signal:c,type:l}=function(e,t,r){var n;if(Y(t),"object"===typeof r&&null!==r)return{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(r.capture),passive:Boolean(r.passive),once:Boolean(r.once),signal:null!==(n=r.signal)&&void 0!==n?n:void 0};return{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(r),passive:!1,once:!1,signal:void 0}}(e,t,r);if(null==a||(null===c||void 0===c?void 0:c.aborted))return;const d=K(n,l),u=$(d,a,i);-1===u?H(d,a,i,o,s,c):function(e,t,r,n){m.warn(A(e)?"capture":"bubble",e.callback),F(e)!==t&&g.warn("passive");z(e)!==r&&g.warn("once");e.signal!==n&&g.warn("signal")}(d.listeners[u],o,s,c)}removeEventListener(e,t,r){const n=G(this),{callback:a,capture:i,type:s}=function(e,t,r){if(Y(t),"object"===typeof r&&null!==r)return{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(r.capture)};return{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(r)}}(e,t,r),o=n[s];null!=a&&o&&q(o,a,i)}dispatchEvent(e){const t=G(this)[String(e.type)];if(null==t)return!0;const r=e instanceof v?e:L.wrap(e),n=C(r,"event");if(n.dispatchFlag)throw a="This event has been in dispatching.",o.DOMException?new o.DOMException(a,"InvalidStateError"):(null==x&&(x=class e extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,e)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(x.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),D(x),D(x.prototype)),new x(a));var a;if(n.dispatchFlag=!0,n.target=n.currentTarget=this,!n.stopPropagationFlag){const{cow:e,listeners:a}=t;t.cow=!0;for(let i=0;i<a.length;++i){const s=a[i];if(!B(s)&&(z(s)&&V(t,i,!e)&&(i-=1),n.inPassiveListenerFlag=F(s),U(s,this,r),n.inPassiveListenerFlag=!1,n.stopImmediatePropagationFlag))break}e||(t.cow=!1)}return n.target=null,n.currentTarget=null,n.stopImmediatePropagationFlag=!1,n.stopPropagationFlag=!1,n.dispatchFlag=!1,!n.canceledFlag}}const Q=new WeakMap;function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this";const r=Q.get(e);return n(null!=r,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),r}function Y(e){if("function"!==typeof e&&("object"!==typeof e||null===e||"function"!==typeof e.handleEvent)){if(null!=e&&"object"!==typeof e)throw new TypeError(a(y.message,[e]));y.warn(e)}}const X=Object.getOwnPropertyNames(W.prototype);for(let te=0;te<X.length;++te)"constructor"!==X[te]&&Object.defineProperty(W.prototype,X[te],{enumerable:!0});function J(e,t){var r,n;return null!==(n=null===(r=G(e,"target")[t])||void 0===r?void 0:r.attrCallback)&&void 0!==n?n:null}function Z(e,t,r){null!=r&&"function"!==typeof r&&b.warn(r),"function"===typeof r||"object"===typeof r&&null!==r?function(e,t,r){const n=K(G(e,"target"),String(t));n.attrCallback=r,null==n.attrListener&&(n.attrListener=H(n,function(e){return function(t){const r=e.attrCallback;"function"===typeof r&&r.call(this,t)}}(n),!1,!1,!1,void 0))}(e,t,r):function(e,t){const r=G(e,"target"),n=r[String(t)];n&&n.attrListener&&(q(n,n.attrListener.callback,!1),n.attrCallback=n.attrListener=void 0)}(e,t)}function ee(e,t,r){Object.defineProperty(e,`on${t}`,{get(){return J(this,t)},set(e){Z(this,t,e)},configurable:!0,enumerable:!0})}"undefined"!==typeof o&&"undefined"!==typeof o.EventTarget&&Object.setPrototypeOf(W.prototype,o.EventTarget.prototype),t.Event=v,t.EventTarget=W,t.default=W,t.defineCustomEventTarget=function(){class e extends W{}for(let t=0;t<arguments.length;++t)ee(e.prototype,t<0||arguments.length<=t?void 0:arguments[t]);return e},t.defineEventAttribute=ee,t.getEventAttributeValue=J,t.setErrorHandler=function(e){n("function"===typeof e||void 0===e,"The error handler must be a function or undefined, but got %o.",e),s=e},t.setEventAttributeValue=Z,t.setWarningHandler=function(e){n("function"===typeof e||void 0===e,"The warning handler must be a function or undefined, but got %o.",e),c=e}},4892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=void 0;const n=r(6261),a=r(9970),i=new n.Logger("AwaitQueue");t.AwaitQueue=class{pendingTasks=(()=>new Map)();nextTaskId=0;stopping=!1;constructor(){i.debug("constructor()")}get size(){return this.pendingTasks.size}async push(e,t){if(t=t??e.name,i.debug(`push() [name:${t}]`),"function"!==typeof e)throw new TypeError("given task is not a function");if(t)try{Object.defineProperty(e,"name",{value:t})}catch(r){}return new Promise(((r,n)=>{const a={id:this.nextTaskId++,task:e,name:t,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:e=>{if(a.completed)return;a.completed=!0,this.pendingTasks.delete(a.id),i.debug(`resolving task [name:${a.name}]`),r(e);const[t]=this.pendingTasks.values();t&&!t.executedAt&&this.execute(t)},reject:e=>{if(!a.completed&&(a.completed=!0,this.pendingTasks.delete(a.id),i.debug(`rejecting task [name:${a.name}]: %s`,String(e)),n(e),!this.stopping)){const[e]=this.pendingTasks.values();e&&!e.executedAt&&this.execute(e)}}};this.pendingTasks.set(a.id,a),1===this.pendingTasks.size&&this.execute(a)}))}stop(){i.debug("stop()"),this.stopping=!0;for(const e of this.pendingTasks.values())i.debug(`stop() | stopping task [name:${e.name}]`),e.reject(new a.AwaitQueueStoppedError);this.stopping=!1}remove(e){i.debug(`remove() [taskIdx:${e}]`);const t=Array.from(this.pendingTasks.values())[e];t?t.reject(new a.AwaitQueueRemovedTaskError):i.debug(`stop() | no task with given idx [taskIdx:${e}]`)}dump(){const e=Date.now();let t=0;return Array.from(this.pendingTasks.values()).map((r=>({idx:t++,task:r.task,name:r.name,enqueuedTime:r.executedAt?r.executedAt-r.enqueuedAt:e-r.enqueuedAt,executionTime:r.executedAt?e-r.executedAt:0})))}async execute(e){if(i.debug(`execute() [name:${e.name}]`),e.executedAt)throw new Error("task already being executed");e.executedAt=Date.now();try{const t=await e.task();e.resolve(t)}catch(t){e.reject(t)}}}},4906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5237:(e,t,r)=>{e.exports=function(e){function t(e){let r,a,i,s=null;function o(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(!o.enabled)return;const i=o,s=Number(new Date),c=s-(r||s);i.diff=c,i.prev=r,i.curr=s,r=s,n[0]=t.coerce(n[0]),"string"!==typeof n[0]&&n.unshift("%O");let l=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,((e,r)=>{if("%%"===e)return"%";l++;const a=t.formatters[r];if("function"===typeof a){const t=n[l];e=a.call(i,t),n.splice(l,1),l--}return e})),t.formatArgs.call(i,n);(i.log||t.log).apply(i,n)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(a!==t.namespaces&&(a=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"===typeof t.init&&t.init(o),o}function n(e,r){const n=t(this.namespace+("undefined"===typeof r?":":r)+e);return n.log=this.log,n}function a(e,t){let r=0,n=0,a=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(a=n,i=r,n++):(r++,n++);else{if(-1===a)return!1;n=a+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"===typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const n of r)"-"===n[0]?t.skips.push(n.slice(1)):t.names.push(n)},t.enabled=function(e){for(const r of t.skips)if(a(e,r))return!1;for(const r of t.names)if(a(e,r))return!0;return!1},t.humanize=r(7340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},5275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataProducer=void 0;const n=r(2097),a=r(9642),i=r(9398),s=new n.Logger("DataProducer");class o extends a.EnhancedEventEmitter{_id;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=(()=>new a.EnhancedEventEmitter)();constructor(e){let{id:t,dataChannel:r,sctpStreamParameters:n,appData:a}=e;super(),s.debug("constructor()"),this._id=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=a??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(e){if(s.debug("send()"),this._closed)throw new i.InvalidStateError("closed");this._dataChannel.send(e)}handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(s.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?s.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):s.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(s.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(()=>{this._closed||s.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(()=>{this._closed||this.safeEmit("bufferedamountlow")}))}}t.DataProducer=o},5320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox60=void 0;const n=r(9640),a=r(2097),i=r(9398),s=r(8988),o=r(5809),c=r(5467),l=r(683),d=r(2384),u=r(3054),p=r(3204),h=new a.Logger("Firefox60"),f={OS:16,MIS:2048};class m extends d.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new m}constructor(){super()}get name(){return"Firefox60"}close(){if(h.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const r=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"});const i=e.addTransceiver(r,{direction:"sendrecv"}),s=i.sender.getParameters(),o=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];s.encodings=o,await i.sender.setParameters(s);const l=await e.createOffer();try{t.remove()}catch(a){}try{r.stop()}catch(a){}try{e.close()}catch(a){}const d=n.parse(l.sdp);return c.extractRtpCapabilities({sdpObject:d})}catch(a){try{t.remove()}catch(i){}try{r.stop()}catch(i){}try{e.close()}catch(i){}throw a}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:f}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:p}=e;this.assertNotClosed(),h.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",p),video:o.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",p),video:o.getSendingRemoteRtpParameters("video",p)},this._pc=new RTCPeerConnection({iceServers:s??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){throw this.assertNotClosed(),new i.UnsupportedError("not supported")}async restartIce(e){if(this.assertNotClosed(),h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:i}=e;this.assertNotClosed(),this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&(r=s.clone(r),r.forEach(((e,t)=>{e.rid=`r${t}`})),r.reverse());const d=s.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=o.reduceCodecs(d.codecs,i);const u=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);u.codecs=o.reduceCodecs(u.codecs,i);const f=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(r){const e=f.sender.getParameters();e.encodings=r,await f.sender.setParameters(e)}const m=await this._pc.createOffer();let g=n.parse(m.sdp);g.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:g});const y=(0,p.parse)((r??[{}])[0].scalabilityMode);h.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const b=f.mid;d.mid=b,g=n.parse(this._pc.localDescription.sdp);const v=g.media[g.media.length-1];if(d.rtcp.cname=c.getCname({offerMediaObject:v}),r)if(1===r.length){const e=l.getRtpEncodings({offerMediaObject:v});Object.assign(e[0],r[0]),d.encodings=e}else d.encodings=r.reverse();else d.encodings=l.getRtpEncodings({offerMediaObject:v});if(d.encodings.length>1&&("video/vp8"===d.codecs[0].mimeType.toLowerCase()||"video/h264"===d.codecs[0].mimeType.toLowerCase()))for(const n of d.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${y.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:v,offerRtpParameters:d,answerRtpParameters:u,codecOptions:a});const _={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_),this._mapMidTransceiver.set(b,f),{localId:b,rtpParameters:d,rtpSender:f.sender}}async stopSending(e){if(this.assertSendDirection(),h.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const r=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const r=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated transceiver not found");const n=r.sender.getParameters();t=n.encodings.length-1-t,n.encodings.forEach(((e,r)=>{e.active=r>=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:a,protocol:s};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%f.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a,streamId:i}=n;h.debug("receive() [trackId:%s, kind:%s]",e,t);const s=a.mid??String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:a,streamId:i??a.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const o of e){const{trackId:e,rtpParameters:t}=o,a=r.get(e),l=s.media.find((e=>String(e.mid)===a));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:l}),i={type:"answer",sdp:n.write(s)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:s}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{trackId:e}=n,a=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===a));if(!i)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(a,i),t.push({localId:a,track:i.receiver.track,rtpReceiver:i.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){h.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){h.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:a};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=c.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new i.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox60=m},5386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(5443)),a=i(r(4185));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v3",48,a.default);t.default=s},5443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,s,o){var c;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=(0,i.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(n),l.set(e,n.length),l=r(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,s){o=o||0;for(let e=0;e<16;++e)s[o+e]=l[e];return s}return(0,a.unsafeStringify)(l)}try{n.name=e}catch(c){}return n.DNS=s,n.URL=o,n};var n,a=r(2012),i=(n=r(9138))&&n.__esModule?n:{default:n};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o},5467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractRtpCapabilities=function(e){let{sdpObject:t}=e;const r=new Map,a=[];let i=!1,s=!1;for(const o of t.media){const e=o.type;switch(e){case"audio":if(i)continue;i=!0;break;case"video":if(s)continue;s=!0;break;default:continue}for(const t of o.rtp){const n={kind:e,mimeType:`${e}/${t.codec}`,preferredPayloadType:t.payload,clockRate:t.rate,channels:t.encoding,parameters:{},rtcpFeedback:[]};r.set(n.preferredPayloadType,n)}for(const t of o.fmtp??[]){const e=n.parseParams(t.config),a=r.get(t.payload);a&&(e?.hasOwnProperty("profile-level-id")&&(e["profile-level-id"]=String(e["profile-level-id"])),a.parameters=e)}for(const t of o.rtcpFb??[]){const n={type:t.type,parameter:t.subtype};if(n.parameter||delete n.parameter,"*"!==t.payload){const e=r.get(t.payload);if(!e)continue;e.rtcpFeedback.push(n)}else for(const t of r.values())t.kind!==e||/.+\/rtx$/i.test(t.mimeType)||t.rtcpFeedback.push(n)}for(const t of o.ext??[]){if(t["encrypt-uri"])continue;const r={kind:e,uri:t.uri,preferredId:t.value};a.push(r)}}return{codecs:Array.from(r.values()),headerExtensions:a}},t.extractDtlsParameters=function(e){let t,{sdpObject:r}=e,n=r.setup,a=r.fingerprint;if(!n||!a){const e=(r.media??[]).find((e=>0!==e.port));e&&(n??=e.setup,a??=e.fingerprint)}if(!n)throw new Error("no a=setup found at SDP session or media level");if(!a)throw new Error("no a=fingerprint found at SDP session or media level");switch(n){case"active":t="client";break;case"passive":t="server";break;case"actpass":t="auto"}return{role:t,fingerprints:[{algorithm:a.type,value:a.hash}]}},t.getCname=function(e){let{offerMediaObject:t}=e;const r=(t.ssrcs??[]).find((e=>"cname"===e.attribute));if(!r)return"";return r.value},t.applyCodecParameters=function(e){let{offerRtpParameters:t,answerMediaObject:r}=e;for(const a of t.codecs){const e=a.mimeType.toLowerCase();if("audio/opus"!==e)continue;if(!(r.rtp??[]).find((e=>e.payload===a.payloadType)))continue;r.fmtp=r.fmtp??[];let t=r.fmtp.find((e=>e.payload===a.payloadType));t||(t={payload:a.payloadType,config:""},r.fmtp.push(t));const i=n.parseParams(t.config);switch(e){case"audio/opus":{const e=a.parameters["sprop-stereo"];void 0!==e&&(i.stereo=Number(e)?1:0);break}}t.config="";for(const r of Object.keys(i))t.config&&(t.config+=";"),t.config+=`${r}=${i[r]}`}};const n=r(9640)},5483:(e,t,r)=>{const{EventTarget:n,defineEventAttribute:a}=r(4808),i=r(109).v4;class s extends n{constructor(){let{kind:e,id:t,label:r,isolated:n,muted:a,readyState:s,constraints:o,data:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),!e)throw new TypeError("missing kind");this._id=t||i(),this._kind=e,this._label=r||"",this._isolated=n||!1,this._enabled=!0,this._muted=a||!1,this._readyState=s||"live",this._constraints=o||{},this._data=c||{}}get id(){return this._id}get kind(){return this._kind}get label(){return this._label}get isolated(){return this._isolated}get enabled(){return this._enabled}set enabled(e){const t=this._enabled!==e;this._enabled=e,t&&this.dispatchEvent({type:"@enabledchange"})}get muted(){return this._muted}get readyState(){return this._readyState}get data(){return this._data}set data(e){throw new TypeError("cannot replace data object")}clone(){let{id:e,data:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new s({id:e||i(),kind:this._kind,label:this._label,isolated:this._isolated,enabled:this._enabled,muted:this._muted,readyState:this._readyState,constraints:this._constraints,data:void 0!==t?t:this._data})}stop(){"ended"!==this._readyState&&(this._readyState="ended",this.dispatchEvent({type:"@stop"}))}getConstraints(){return this._constraints}applyConstraints(e){"ended"!==this._readyState&&(this._constraints=e)}remoteStop(){"ended"!==this._readyState&&(this._readyState="ended",this.dispatchEvent({type:"@stop"}),this.dispatchEvent({type:"ended"}))}remoteMute(){this._muted||(this._muted=!0,this.dispatchEvent({type:"mute"}))}remoteUnmute(){this._muted&&(this._muted=!1,this.dispatchEvent({type:"unmute"}))}}a(s.prototype,"ended"),a(s.prototype,"mute"),a(s.prototype,"unmute"),a(s.prototype,"@enabledchange"),a(s.prototype,"@stop"),a(s.prototype,"isolationchange"),a(s.prototype,"overconstrained"),t.FakeMediaStreamTrack=s},5809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateRtpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)l(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)u(t)},t.validateRtpParameters=c,t.validateSctpStreamParameters=function(e){if("object"!==typeof e)throw new TypeError("params is not an object");if("number"!==typeof e.streamId)throw new TypeError("missing params.streamId");let t=!1;"boolean"===typeof e.ordered?t=!0:e.ordered=!0;if(e.maxPacketLifeTime&&"number"!==typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!==typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1);if(e.label&&"string"!==typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!==typeof e.protocol)throw new TypeError("invalid params.protocol")},t.validateSctpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!==typeof e.numStreams)throw new TypeError("missing caps.numStreams");!function(e){if("object"!==typeof e)throw new TypeError("numStreams is not an object");if("number"!==typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!==typeof e.MIS)throw new TypeError("missing numStreams.MIS")}(e.numStreams)},t.getExtendedRtpCapabilities=function(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs??[]){if(m(n))continue;const t=(e.codecs??[]).find((e=>g(e,n,{strict:!0,modify:!0})));if(!t)continue;const a={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:n.parameters,rtcpFeedback:b(t,n)};r.codecs.push(a)}for(const n of r.codecs){const r=e.codecs.find((e=>m(e)&&e.parameters.apt===n.localPayloadType)),a=t.codecs.find((e=>m(e)&&e.parameters.apt===n.remotePayloadType));r&&a&&(n.localRtxPayloadType=r.preferredPayloadType,n.remoteRtxPayloadType=a.preferredPayloadType)}for(const n of t.headerExtensions){const t=e.headerExtensions.find((e=>y(e,n)));if(!t)continue;const a={kind:n.kind,uri:n.uri,sendId:t.preferredId,recvId:n.preferredId,encrypt:t.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":a.direction="sendrecv";break;case"recvonly":a.direction="sendonly";break;case"sendonly":a.direction="recvonly";break;case"inactive":a.direction="inactive"}r.headerExtensions.push(a)}return r},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs){const e={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(t.codecs.push(e),!r.remoteRtxPayloadType)continue;const n={mimeType:`${r.kind}/rtx`,kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};t.codecs.push(n)}for(const r of e.headerExtensions){if("sendrecv"!==r.direction&&"recvonly"!==r.direction)continue;const e={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};t.headerExtensions.push(e)}return t},t.getSendingRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const t={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(t),n.localRtxPayloadType){const e={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(e)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||"sendrecv"!==n.direction&&"sendonly"!==n.direction)continue;const t={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(t)}return r},t.getSendingRemoteRtpParameters=function(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const t={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(t),n.localRtxPayloadType){const e={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(e)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||"sendrecv"!==n.direction&&"sendonly"!==n.direction)continue;const t={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(t)}if(r.headerExtensions.some((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri)))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter((e=>"goog-remb"!==e.type));else if(r.headerExtensions.some((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri)))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter((e=>"transport-cc"!==e.type));else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter((e=>"transport-cc"!==e.type&&"goog-remb"!==e.type));return r},t.reduceCodecs=function(e,t){const r=[];if(t){for(let n=0;n<e.length;++n)if(g(e[n],t,{strict:!0})){r.push(e[n]),m(e[n+1])&&r.push(e[n+1]);break}if(0===r.length)throw new TypeError("no matching codec found")}else r.push(e[0]),m(e[1])&&r.push(e[1]);return r},t.generateProbatorRtpParameters=function(e){c(e=a.clone(e));const t={mid:i,codecs:[],headerExtensions:[],encodings:[{ssrc:s}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=o,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((t=>t.kind===e))},t.canReceive=function(e,t){if(c(e),0===e.codecs.length)return!1;const r=e.codecs[0];return t.codecs.some((e=>e.remotePayloadType===r.payloadType))};const n=r(7739),a=r(8988),i="probator",s=1234,o=127;function c(e){if("object"!==typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!==typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)p(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)h(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)f(t);if(e.rtcp&&"object"!==typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),function(e){if("object"!==typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!==typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"===typeof e.reducedSize||(e.reducedSize=!0)}(e.rtcp)}function l(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&"number"!==typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]="",t=""),"string"!==typeof t&&"number"!==typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if("apt"===n&&"number"!==typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)d(n)}function d(e){if("object"!==typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!==typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"===typeof e.parameter||(e.parameter="")}function u(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if("audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!==typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!==typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function p(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if("number"!==typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===r[1].toLowerCase()?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(const n of Object.keys(e.parameters)){let t=e.parameters[n];if(void 0===t&&(e.parameters[n]="",t=""),"string"!==typeof t&&"number"!==typeof t)throw new TypeError(`invalid codec parameter [key:${n}s, value:${t}]`);if("apt"===n&&"number"!==typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)d(n)}function h(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!==typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(void 0===r&&(e.parameters[t]="",r=""),"string"!==typeof r&&"number"!==typeof r)throw new TypeError("invalid header extension parameter")}}function f(e){if("object"!==typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!==typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!==typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!==typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!==typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"===typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!==typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function m(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function g(e,t){let{strict:r=!1,modify:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.mimeType.toLowerCase();if(i!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(i){case"video/h264":if(r){if((e.parameters["packetization-mode"]??0)!==(t.parameters["packetization-mode"]??0))return!1;if(!n.isSameProfile(e.parameters,t.parameters))return!1;let r;try{r=n.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch(s){return!1}a&&(r?(e.parameters["profile-level-id"]=r,t.parameters["profile-level-id"]=r):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break;case"video/vp9":if(r){if((e.parameters["profile-id"]??0)!==(t.parameters["profile-id"]??0))return!1}}return!0}function y(e,t){return(!e.kind||!t.kind||e.kind===t.kind)&&e.uri===t.uri}function b(e,t){const r=[];for(const n of e.rtcpFeedback??[]){const e=(t.rtcpFeedback??[]).find((e=>e.type===n.type&&(e.parameter===n.parameter||!e.parameter&&!n.parameter)));e&&r.push(e)}return r}},5882:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,c=e[o],l=o+1,d=e[l];if(0>i(c,r))l<a&&0>i(d,c)?(e[n]=d,e[l]=r,n=l):(e[n]=c,e[o]=r,n=o);else{if(!(l<a&&0>i(d,r)))break e;e[n]=d,e[l]=r,n=l}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],d=[],u=1,p=null,h=3,f=!1,m=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(l,t)}t=n(d)}}function S(e){if(g=!1,w(e),!m)if(null!==n(l))m=!0,R||(R=!0,k());else{var t=n(d);null!==t&&O(S,t.startTime-e)}}var k,R=!1,C=-1,P=5,T=-1;function x(){return!!y||!(t.unstable_now()-T<P)}function E(){if(y=!1,R){var e=t.unstable_now();T=e;var r=!0;try{e:{m=!1,g&&(g=!1,v(C),C=-1),f=!0;var i=h;try{t:{for(w(e),p=n(l);null!==p&&!(p.expirationTime>e&&x());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var o=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){p.callback=o,w(e),r=!0;break t}p===n(l)&&a(l),w(e)}else a(l);p=n(l)}if(null!==p)r=!0;else{var c=n(d);null!==c&&O(S,c.startTime-e),r=!1}}break e}finally{p=null,h=i,f=!1}r=void 0}}finally{r?k():R=!1}}}if("function"===typeof _)k=function(){_(E)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,L=D.port2;D.port1.onmessage=E,k=function(){L.postMessage(null)}}else k=function(){b(E,0)};function O(e,r){C=b((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,r(d,e),null===n(l)&&e===n(d)&&(g?(v(C),C=-1):g=!0,O(S,i-s))):(e.sortIndex=o,r(l,e),m||f||(m=!0,R||(R=!0,k()))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},6230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome67=void 0;const n=r(9640),a=r(2097),i=r(8988),s=r(5809),o=r(5467),c=r(9613),l=r(2384),d=r(3054),u=new a.Logger("Chrome67"),p={OS:1024,MIS:1024};class h extends l.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdRtpSender=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new h}constructor(){super()}get name(){return"Chrome67"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const a=n.parse(r.sdp);return o.extractRtpCapabilities({sdpObject:a})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:p,extendedRtpCapabilities:h}=e;u.debug("run()"),this._direction=t,this._remoteSdp=new d.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",h),video:s.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",h),video:s.getSendingRemoteRtpParameters("video",h)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...l},p),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(u.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:l}=e;this.assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),l&&u.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let d,p=await this._pc.createOffer(),h=n.parse(p.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=i.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=s.reduceCodecs(f.codecs);const m=i.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=s.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(u.debug("send() | enabling simulcast"),h=n.parse(p.sdp),d=h.media.find((e=>"video"===e.type)),c.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),p={type:"offer",sdp:n.write(h)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=o.getCname({offerMediaObject:d}),f.encodings=c.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:a});const g={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);this._nextSendLocalId++;const b=this._pc.getSenders().find((e=>e.track===t));return this._mapSendLocalIdRtpSender.set(y,b),{localId:y,rtpParameters:f,rtpSender:b}}async stopSending(e){this.assertSendDirection(),u.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(a){if(0===this._sendStream.getTracks().length)return void u.warn("stopSending() | ignoring expected error due no sending tracks: %s",a.toString());throw a}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?u.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):u.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),u.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),u.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s};u.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[];for(const n of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=n;u.debug("receive() [trackId:%s, kind:%s]",e,t);const i=t;this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a??r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let a=await this._pc.createAnswer();const i=n.parse(a.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,a=i.media.find((e=>String(e.mid)===r));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}a={type:"answer",sdp:n.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const n of e){const{kind:e,trackId:r,rtpParameters:a}=n,i=r,s=e,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===i));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(i,{mid:s,rtpParameters:a,rtpReceiver:o}),t.push({localId:i,track:o.track,rtpReceiver:o})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){u.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)??{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:a};u.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=o.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome67=h},6261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(6522),a="awaitqueue";t.Logger=class{_debug;_warn;_error;constructor(e){e?(this._debug=n(`${a}:${e}`),this._warn=n(`${a}:WARN:${e}`),this._error=n(`${a}:ERROR:${e}`)):(this._debug=n(a),this._warn=n(`${a}:WARN`),this._error=n(`${a}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},6321:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},6522:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(a=n))})),t.splice(a,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(5237)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},6605:(e,t,r)=>{var n=r(6321),a=/%[sdv%]/g,i=function(e){var t=1,r=arguments,n=r.length;return e.replace(a,(function(e){if(t>=n)return e;var a=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}}))},s=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var s=t.names[a];t.name?n.push(r[t.name][s]):n.push(r[t.names[a]])}else n.push(r[t.name]);return i.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||o,a=t.innerOrder||c,i=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(s(t,r,e))}))}))})),e.media.forEach((function(e){i.push(s("m",n.m[0],e)),a.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(s(t,r,e))}))}))}))})),i.join("\r\n")+"\r\n"}},6672:(e,t,r)=>{"use strict";var n=r(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=c.T,r=s.p;try{if(c.T=null,s.p=2,e)return e()}finally{c.T=t,s.p=r,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):"script"===r&&s.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=l(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin);s.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=l(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return c.H.useFormState(e,t,r)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.0"},7004:(e,t,r)=>{"use strict";var n=r(8853),a=r(5043),i=r(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return O(e(t))}catch(r){}}return null}var I=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},A=[],F=-1;function z(e){return{current:e}}function B(e){0>F||(e.current=A[F],A[F]=null,F--)}function U(e,t){F++,A[F]=e.current,e.current=t}var $=z(null),H=z(null),q=z(null),V=z(null);function K(e,t){switch(U(q,t),U(H,e),U($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?au(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=iu(t=au(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B($),U($,e)}function W(){B($),B(H),B(q)}function Q(e){null!==e.memoizedState&&U(V,e);var t=$.current,r=iu(t,e.type);t!==r&&(U(H,e),U($,r))}function G(e){H.current===e&&(B($),B(H)),V.current===e&&(B(V),Qu._currentValue=j)}var Y=Object.prototype.hasOwnProperty,X=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,ie=n.unstable_NormalPriority,se=n.unstable_LowPriority,oe=n.unstable_IdlePriority,ce=n.log,le=n.unstable_setDisableYieldValue,de=null,ue=null;function pe(e){if("function"===typeof ce&&le(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ve(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?a=be(n):0!==(s&=o)?a=be(s):r||0!==(r=o&~e)&&(a=be(r)):0!==(o=n&~i)?a=be(o):0!==s?a=be(s):r||0!==(r=n&~e)&&(a=be(r)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(r=t&-t)||32===i&&0!==(4194048&r))?t:a}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Re(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-he(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Te(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-he(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function xe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ee(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=N.p;return 0!==e?e:void 0===(e=window.event)?32:lp(e.type)}var Le=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Le,Ie="__reactProps$"+Le,Me="__reactContainer$"+Le,Ne="__reactEvents$"+Le,je="__reactListeners$"+Le,Ae="__reactHandles$"+Le,Fe="__reactResources$"+Le,ze="__reactMarker$"+Le;function Be(e){delete e[Oe],delete e[Ie],delete e[Ne],delete e[je],delete e[Ae]}function Ue(e){var t=e[Oe];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Me]||r[Oe]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=vu(e);null!==e;){if(r=e[Oe])return r;e=vu(e)}return t}r=(e=r).parentNode}return null}function $e(e){if(e=e[Oe]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[ze]=!0}var Ke=new Set,We={};function Qe(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(a=t,Y.call(et,a)||!Y.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function at(e){if(void 0===Ye)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(i){n=i}e.call(r.prototype)}}else{try{throw Error()}catch(s){n=s}(r=e())&&"function"===typeof r.catch&&r.catch((function(){}))}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var c=s.split("\n"),l=o.split("\n");for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===l.length)for(n=c.length-1,a=l.length-1;1<=n&&0<=a&&c[n]!==l[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==l[a]){if(1!==n||1!==a)do{if(n--,0>--a||c[n]!==l[a]){var d="\n"+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?at(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function ct(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dt(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,r,n,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,lt(t)):null!=r?bt(e,s,lt(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+lt(o):e.removeAttribute("name")}function yt(e,t,r,n,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=r){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;r=null!=r?""+lt(r):"",t=null!=t?""+lt(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function bt(e,t,r){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function vt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function _t(e,t,r){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+lt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(s(92));if(I(n)){if(1<n.length)throw Error(s(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=lt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function St(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||kt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ct(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Rt(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Rt(e,i,t[i])}function Pt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,It=null;function Mt(e){var t=$e(e);if(t&&(e=t.stateNode)){var r=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Ie]||null;if(!a)throw Error(s(90));gt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&pt(n)}break e;case"textarea":_t(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&vt(e,!!r.multiple,t,!1)}}}var Nt=!1;function jt(e,t,r){if(Nt)return e(t,r);Nt=!0;try{return e(t)}finally{if(Nt=!1,(null!==Ot||null!==It)&&(Ul(),Ot&&(t=Ot,e=It,It=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function At(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Ie]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Ip){zt=!1}var Ut=null,$t=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,r=$t,n=r.length,a="value"in Ut?Ut.value:Ut.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return Ht=a.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Qt(e){function t(t,r,n,a,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Gt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),er=p({},Jt,{view:0,detail:0}),tr=Qt(er),rr=p({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Gt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Gt=0,Xt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nr=Qt(rr),ar=Qt(p({},rr,{dataTransfer:0})),ir=Qt(p({},er,{relatedTarget:0})),sr=Qt(p({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Qt(p({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cr=Qt(p({},Jt,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ur[e])&&!!t[e]}function hr(){return pr}var fr=Qt(p({},er,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mr=Qt(p({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Qt(p({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),yr=Qt(p({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),br=Qt(p({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vr=Qt(p({},Jt,{newState:0,oldState:0})),_r=[9,13,27,32],wr=Ft&&"CompositionEvent"in window,Sr=null;Ft&&"documentMode"in document&&(Sr=document.documentMode);var kr=Ft&&"TextEvent"in window&&!Sr,Rr=Ft&&(!wr||Sr&&8<Sr&&11>=Sr),Cr=String.fromCharCode(32),Pr=!1;function Tr(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Er=!1;var Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dr[e.type]:"textarea"===t}function Or(e,t,r,n){Ot?It?It.push(n):It=[n]:Ot=n,0<(t=qd(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ir=null,Mr=null;function Nr(e){jd(e,0)}function jr(e){if(pt(He(e)))return e}function Ar(e,t){if("change"===e)return t}var Fr=!1;if(Ft){var zr;if(Ft){var Br="oninput"in document;if(!Br){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),Br="function"===typeof Ur.oninput}zr=Br}else zr=!1;Fr=zr&&(!document.documentMode||9<document.documentMode)}function $r(){Ir&&(Ir.detachEvent("onpropertychange",Hr),Mr=Ir=null)}function Hr(e){if("value"===e.propertyName&&jr(Mr)){var t=[];Or(t,Mr,e,Lt(e)),jt(Nr,t)}}function qr(e,t,r){"focusin"===e?($r(),Mr=r,(Ir=t).attachEvent("onpropertychange",Hr)):"focusout"===e&&$r()}function Vr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jr(Mr)}function Kr(e,t){if("click"===e)return jr(t)}function Wr(e,t){if("input"===e||"change"===e)return jr(t)}var Qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Gr(e,t){if(Qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Y.call(t,a)||!Qr(e[a],t[a]))return!1}return!0}function Yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var r,n=Yr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yr(n)}}function Jr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ht((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Ft&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,an=null,sn=!1;function on(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;sn||null==rn||rn!==ht(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Gr(an,n)||(an=n,0<(n=qd(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function cn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},dn={},un={};function pn(e){if(dn[e])return dn[e];if(!ln[e])return e;var t,r=ln[e];for(t in r)if(r.hasOwnProperty(t)&&t in un)return dn[e]=r[t];return e}Ft&&(un=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var hn=pn("animationend"),fn=pn("animationiteration"),mn=pn("animationstart"),gn=pn("transitionrun"),yn=pn("transitionstart"),bn=pn("transitioncancel"),vn=pn("transitionend"),_n=new Map,wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){_n.set(e,t),Qe(t,[e])}wn.push("scrollEnd");var kn=new WeakMap;function Rn(e,t){if("object"===typeof e&&null!==e){var r=kn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:ct(t)},kn.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var Cn=[],Pn=0,Tn=0;function xn(){for(var e=Pn,t=Tn=Pn=0;t<e;){var r=Cn[t];Cn[t++]=null;var n=Cn[t];Cn[t++]=null;var a=Cn[t];Cn[t++]=null;var i=Cn[t];if(Cn[t++]=null,null!==n&&null!==a){var s=n.pending;null===s?a.next=a:(a.next=s.next,s.next=a),n.pending=a}0!==i&&On(r,a,i)}}function En(e,t,r,n){Cn[Pn++]=e,Cn[Pn++]=t,Cn[Pn++]=r,Cn[Pn++]=n,Tn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Dn(e,t,r,n){return En(e,t,r,n),In(e)}function Ln(e,t){return En(e,null,null,t),In(e)}function On(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,i=e.return;null!==i;)i.childLanes|=r,null!==(n=i.alternate)&&(n.childLanes|=r),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-he(r),null===(n=(e=i.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),i):null}function In(e){if(50<Ol)throw Ol=0,Il=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Nn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,r,n){return new Nn(e,t,r,n)}function An(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=jn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bn(e,t,r,n,a,i){var o=0;if(n=e,"function"===typeof e)An(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=jn(31,r,t,a)).elementType=T,e.lanes=i,e;case g:return Un(r.children,a,i,t);case y:o=8,a|=24;break;case b:return(e=jn(12,r,t,2|a)).elementType=b,e.lanes=i,e;case k:return(e=jn(13,r,t,a)).elementType=k,e.lanes=i,e;case R:return(e=jn(19,r,t,a)).elementType=R,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case v:case w:o=10;break e;case _:o=9;break e;case S:o=11;break e;case C:o=14;break e;case P:o=16,n=null;break e}o=29,r=Error(s(130,null===e?"null":typeof e,"")),n=null}return(t=jn(o,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Un(e,t,r,n){return(e=jn(7,e,n,t)).lanes=r,e}function $n(e,t,r){return(e=jn(6,e,null,t)).lanes=r,e}function Hn(e,t,r){return(t=jn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qn=[],Vn=0,Kn=null,Wn=0,Qn=[],Gn=0,Yn=null,Xn=1,Jn="";function Zn(e,t){qn[Vn++]=Wn,qn[Vn++]=Kn,Kn=e,Wn=t}function ea(e,t,r){Qn[Gn++]=Xn,Qn[Gn++]=Jn,Qn[Gn++]=Yn,Yn=e;var n=Xn;e=Jn;var a=32-he(n)-1;n&=~(1<<a),r+=1;var i=32-he(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Xn=1<<32-he(t)+a|r<<a|n,Jn=i+e}else Xn=1<<i|r<<a|n,Jn=e}function ta(e){null!==e.return&&(Zn(e,1),ea(e,1,0))}function ra(e){for(;e===Kn;)Kn=qn[--Vn],qn[Vn]=null,Wn=qn[--Vn],qn[Vn]=null;for(;e===Yn;)Yn=Qn[--Gn],Qn[Gn]=null,Jn=Qn[--Gn],Qn[Gn]=null,Xn=Qn[--Gn],Qn[Gn]=null}var na=null,aa=null,ia=!1,sa=null,oa=!1,ca=Error(s(519));function la(e){throw ma(Rn(Error(s(418,"")),e)),ca}function da(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Oe]=e,t[Ie]=n,r){case"dialog":Ad("cancel",t),Ad("close",t);break;case"iframe":case"object":case"embed":Ad("load",t);break;case"video":case"audio":for(r=0;r<Md.length;r++)Ad(Md[r],t);break;case"source":Ad("error",t);break;case"img":case"image":case"link":Ad("error",t),Ad("load",t);break;case"details":Ad("toggle",t);break;case"input":Ad("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ut(t);break;case"select":Ad("invalid",t);break;case"textarea":Ad("invalid",t),wt(t,n.value,n.defaultValue,n.children),ut(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Yd(t.textContent,r)?(null!=n.popover&&(Ad("beforetoggle",t),Ad("toggle",t)),null!=n.onScroll&&Ad("scroll",t),null!=n.onScrollEnd&&Ad("scrollend",t),null!=n.onClick&&(t.onclick=Xd),t=!0):t=!1,t||la(e)}function ua(e){for(na=e.return;na;)switch(na.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:na=na.return}}function pa(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||su(e.type,e.memoizedProps)),t=!t),t&&aa&&la(e),ua(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){aa=yu(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}aa=null}}else 27===r?(r=aa,hu(e.type)?(e=bu,bu=null,aa=e):aa=r):aa=na?yu(e.stateNode.nextSibling):null;return!0}function ha(){aa=na=null,ia=!1}function fa(){var e=sa;return null!==e&&(null===vl?vl=e:vl.push.apply(vl,e),sa=null),e}function ma(e){null===sa?sa=[e]:sa.push(e)}var ga=z(null),ya=null,ba=null;function va(e,t,r){U(ga,t._currentValue),t._currentValue=r}function _a(e){e._currentValue=ga.current,B(ga)}function wa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sa(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var c=i;i=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),wa(i.return,r,e),n||(o=null);break e}i=c.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),wa(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ka(e,t,r,n){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var c=a.type;Qr(a.pendingProps.value,o.value)||(null!==e?e.push(c):e=[c])}}else if(a===V.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qu):e=[Qu])}a=a.return}null!==e&&Sa(t,e,r,n),t.flags|=262144}function Ra(e){for(e=e.firstContext;null!==e;){if(!Qr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){ya=e,ba=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pa(e){return xa(ya,e)}function Ta(e,t){return null===ya&&Ca(e),xa(e,t)}function xa(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===ba){if(null===e)throw Error(s(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return r}var Ea="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Da=n.unstable_scheduleCallback,La=n.unstable_NormalPriority,Oa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ia(){return{controller:new Ea,data:new Map,refCount:0}}function Ma(e){e.refCount--,0===e.refCount&&Da(La,(function(){e.controller.abort()}))}var Na=null,ja=0,Aa=0,Fa=null;function za(){if(0===--ja&&null!==Na){null!==Fa&&(Fa.status="fulfilled");var e=Na;Na=null,Aa=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ba=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Na){var r=Na=[];ja=0,Aa=Ed(),Fa={status:"pending",value:void 0,then:function(e){r.push(e)}}}ja++,t.then(za,za)}(0,t),null!==Ba&&Ba(e,t)};var Ua=z(null);function $a(){var e=Ua.current;return null!==e?e:nl.pooledCache}function Ha(e,t){U(Ua,null===t?Ua.current:t.pool)}function qa(){var e=$a();return null===e?null:{parent:Oa._currentValue,pool:e}}var Va=Error(s(460)),Ka=Error(s(474)),Wa=Error(s(542)),Qa={then:function(){}};function Ga(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ya(){}function Xa(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Ya,Ya),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ya,Ya);else{if(null!==(e=nl)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}}),(function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Ja=t,Va}}var Ja=null;function Za(){if(null===Ja)throw Error(s(459));var e=Ja;return Ja=null,e}function ei(e){if(e===Va||e===Wa)throw Error(s(483))}var ti=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=In(e),On(e,null,r),t}return En(e,n,t,r),In(e)}function si(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Te(e,r)}}function oi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ci=!1;function li(){if(ci){if(null!==Fa)throw Fa}}function di(e,t,r,n){ci=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var c=o,l=c.next;c.next=null,null===s?i=l:s.next=l,s=c;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=c))}if(null!==i){var u=a.baseState;for(s=0,d=l=c=null,o=i;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(il&h)===h:(n&h)===h){0!==h&&h===Aa&&(ci=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var y=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(y,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,u,h):m)||void 0===h)break e;u=p({},u,h);break e;case 2:ti=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=f,c=u):d=d.next=f,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===d&&(c=u),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=d,null===i&&(a.shared.lanes=0),hl|=s,e.lanes=s,e.memoizedState=u}}function ui(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function pi(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)ui(r[e],t)}var hi=z(null),fi=z(0);function mi(e,t){U(fi,e=ul),U(hi,t),ul=e|t.baseLanes}function gi(){U(fi,ul),U(hi,hi.current)}function yi(){ul=fi.current,B(hi),B(fi)}var bi=0,vi=null,_i=null,wi=null,Si=!1,ki=!1,Ri=!1,Ci=0,Pi=0,Ti=null,xi=0;function Ei(){throw Error(s(321))}function Di(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qr(e[r],t[r]))return!1;return!0}function Li(e,t,r,n,a,i){return bi=i,vi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Vs:Ks,Ri=!1,i=r(n,a),Ri=!1,ki&&(i=Ii(t,r,n,a)),Oi(e),i}function Oi(e){M.H=qs;var t=null!==_i&&null!==_i.next;if(bi=0,wi=_i=vi=null,Si=!1,Pi=0,Ti=null,t)throw Error(s(300));null===e||To||null!==(e=e.dependencies)&&Ra(e)&&(To=!0)}function Ii(e,t,r,n){vi=e;var a=0;do{if(ki&&(Ti=null),Pi=0,ki=!1,25<=a)throw Error(s(301));if(a+=1,wi=_i=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=Ws,i=t(r,n)}while(ki);return i}function Mi(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Bi(t):t,e=e.useState()[0],(null!==_i?_i.memoizedState:null)!==e&&(vi.flags|=1024),t}function Ni(){var e=0!==Ci;return Ci=0,e}function ji(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Ai(e){if(Si){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Si=!1}bi=0,wi=_i=vi=null,ki=!1,Pi=Ci=0,Ti=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?vi.memoizedState=wi=e:wi=wi.next=e,wi}function zi(){if(null===_i){var e=vi.alternate;e=null!==e?e.memoizedState:null}else e=_i.next;var t=null===wi?vi.memoizedState:wi.next;if(null!==t)wi=t,_i=e;else{if(null===e){if(null===vi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(_i=e).memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},null===wi?vi.memoizedState=wi=e:wi=wi.next=e}return wi}function Bi(e){var t=Pi;return Pi+=1,null===Ti&&(Ti=[]),e=Xa(Ti,e,t),t=vi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Vs:Ks),e}function Ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bi(e);if(e.$$typeof===w)return Pa(e)}throw Error(s(438,String(e)))}function $i(e){var t=null,r=vi.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=vi.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},vi.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=x;return t.index++,r}function Hi(e,t){return"function"===typeof t?t(e):t}function qi(e){return Vi(zi(),_i,e)}function Vi(e,t,r){var n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var c=o=null,l=null,d=t=a.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(il&p)===p:(bi&p)===p){var h=d.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Aa&&(u=!0);else{if((bi&h)===h){d=d.next,h===Aa&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===l?(c=l=p,o=i):l=l.next=p,vi.lanes|=h,hl|=h}p=d.action,Ri&&r(i,p),i=d.hasEagerState?d.eagerState:r(i,p)}else h={lane:p,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===l?(c=l=h,o=i):l=l.next=h,vi.lanes|=p,hl|=p;d=d.next}while(null!==d&&d!==t);if(null===l?o=i:l.next=c,!Qr(i,e.memoizedState)&&(To=!0,u&&null!==(r=Fa)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ki(e){var t=zi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Qr(i,t.memoizedState)||(To=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Wi(e,t,r){var n=vi,a=zi(),i=ia;if(i){if(void 0===r)throw Error(s(407));r=r()}else r=t();var o=!Qr((_i||a).memoizedState,r);if(o&&(a.memoizedState=r,To=!0),a=a.queue,gs(2048,8,Yi.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(n.flags|=2048,hs(9,{destroy:void 0,resource:void 0},Gi.bind(null,n,a,r,t),null),null===nl)throw Error(s(349));i||0!==(124&bi)||Qi(n,t,r)}return r}function Qi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=vi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},vi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Gi(e,t,r,n){t.value=r,t.getSnapshot=n,Xi(t)&&Ji(e)}function Yi(e,t,r){return r((function(){Xi(t)&&Ji(e)}))}function Xi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qr(e,r)}catch(n){return!0}}function Ji(e){var t=Ln(e,2);null!==t&&jl(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var r=e;if(e=r(),Ri){pe(!0);try{r()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t}function es(e,t,r,n){return e.baseState=r,Vi(e,_i,"function"===typeof n?n:Hi)}function ts(e,t,r,n,a){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?r(!0):i.isTransition=!1,n(i),null===(r=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=r.next,t.pending=r.next=i)}}function rs(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=M.T,s={};M.T=s;try{var o=r(a,n),c=M.S;null!==c&&c(s,o),ns(e,t,o)}catch(l){is(e,t,l)}finally{M.T=i}}else try{ns(e,t,i=r(a,n))}catch(d){is(e,t,d)}}function ns(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then((function(r){as(e,t,r)}),(function(r){return is(e,t,r)})):as(e,t,r)}function as(e,t,r){t.status="fulfilled",t.value=r,ss(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,rs(e,r)))}function is(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,ss(t),t=t.next}while(t!==n)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function cs(e,t){if(ia){var r=nl.formState;if(null!==r){e:{var n=vi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yu(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yu(a.nextSibling),n="F!"===a.data;break e}}la(n)}n=!1}n&&(t=r[0])}}return(r=Fi()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},r.queue=n,r=Fs.bind(null,vi,n),n.dispatch=r,n=Zi(!1),i=Bs.bind(null,vi,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=Fi()).queue=a,r=ts.bind(null,vi,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function ls(e){return ds(zi(),_i,e)}function ds(e,t,r){if(t=Vi(e,t,os)[0],e=qi(Hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Bi(t)}catch(s){if(s===Va)throw Wa;throw s}else n=t;var a=(t=zi()).queue,i=a.dispatch;return r!==t.memoizedState&&(vi.flags|=2048,hs(9,{destroy:void 0,resource:void 0},us.bind(null,a,r),null)),[n,i,e]}function us(e,t){e.action=t}function ps(e){var t=zi(),r=_i;if(null!==r)return ds(t,r,e);zi(),t=t.memoizedState;var n=(r=zi()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function hs(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=vi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},vi.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function fs(){return zi().memoizedState}function ms(e,t,r,n){var a=Fi();n=void 0===n?null:n,vi.flags|=e,a.memoizedState=hs(1|t,{destroy:void 0,resource:void 0},r,n)}function gs(e,t,r,n){var a=zi();n=void 0===n?null:n;var i=a.memoizedState.inst;null!==_i&&null!==n&&Di(n,_i.memoizedState.deps)?a.memoizedState=hs(t,i,r,n):(vi.flags|=e,a.memoizedState=hs(1|t,i,r,n))}function ys(e,t){ms(8390656,8,e,t)}function bs(e,t){gs(2048,8,e,t)}function vs(e,t){return gs(4,2,e,t)}function _s(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,gs(4,4,ws.bind(null,t,e),r)}function ks(){}function Rs(e,t){var r=zi();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Di(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Cs(e,t){var r=zi();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Di(t,n[1]))return n[0];if(n=e(),Ri){pe(!0);try{e()}finally{pe(!1)}}return r.memoizedState=[n,t],n}function Ps(e,t,r){return void 0===r||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=r,e=Nl(),vi.lanes|=e,hl|=e,r)}function Ts(e,t,r,n){return Qr(r,t)?r:null!==hi.current?(e=Ps(e,r,n),Qr(e,t)||(To=!0),e):0===(42&bi)?(To=!0,e.memoizedState=r):(e=Nl(),vi.lanes|=e,hl|=e,t)}function xs(e,t,r,n,a){var i=N.p;N.p=0!==i&&8>i?i:8;var s=M.T,o={};M.T=o,Bs(e,!1,t,r);try{var c=a(),l=M.S;if(null!==l&&l(o,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)zs(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then((function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)}),(function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)})),n}(c,n),Ml());else zs(e,t,n,Ml())}catch(d){zs(e,t,{then:function(){},status:"rejected",reason:d},Ml())}finally{N.p=i,M.T=s}}function Es(){}function Ds(e,t,r,n){if(5!==e.tag)throw Error(s(476));var a=Ls(e).queue;xs(e,a,t,j,null===r?Es:function(){return Os(e),r(n)})}function Ls(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:j},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Os(e){zs(e,Ls(e).next.queue,{},Ml())}function Is(){return Pa(Qu)}function Ms(){return zi().memoizedState}function Ns(){return zi().memoizedState}function js(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Ml(),n=ii(t,e=ai(r),r);return null!==n&&(jl(n,t,r),si(n,t,r)),t={cache:Ia()},void(e.payload=t)}t=t.return}}function As(e,t,r){var n=Ml();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)?$s(t,r):null!==(r=Dn(e,t,r,n))&&(jl(r,e,n),Hs(r,t,n))}function Fs(e,t,r){zs(e,t,r,Ml())}function zs(e,t,r,n){var a={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Us(e))$s(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Qr(o,s))return En(e,t,a,0),null===nl&&xn(),!1}catch(c){}if(null!==(r=Dn(e,t,a,n)))return jl(r,e,n),Hs(r,t,n),!0}return!1}function Bs(e,t,r,n){if(n={lane:2,revertLane:Ed(),action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Dn(e,r,n,2))&&jl(t,e,2)}function Us(e){var t=e.alternate;return e===vi||null!==t&&t===vi}function $s(e,t){ki=Si=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hs(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Te(e,r)}}var qs={readContext:Pa,use:Ui,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useLayoutEffect:Ei,useInsertionEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useSyncExternalStore:Ei,useId:Ei,useHostTransitionStatus:Ei,useFormState:Ei,useActionState:Ei,useOptimistic:Ei,useMemoCache:Ei,useCacheRefresh:Ei},Vs={readContext:Pa,use:Ui,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:ys,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var r=Fi();t=void 0===t?null:t;var n=e();if(Ri){pe(!0);try{e()}finally{pe(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Fi();if(void 0!==r){var a=r(t);if(Ri){pe(!0);try{r(t)}finally{pe(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=As.bind(null,vi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,r=Fs.bind(null,vi,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ks,useDeferredValue:function(e,t){return Ps(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=xs.bind(null,vi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=vi,a=Fi();if(ia){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===nl)throw Error(s(349));0!==(124&il)||Qi(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,ys(Yi.bind(null,n,i,e),[e]),n.flags|=2048,hs(9,{destroy:void 0,resource:void 0},Gi.bind(null,n,i,r,t),null),r},useId:function(){var e=Fi(),t=nl.identifierPrefix;if(ia){var r=Jn;t="\xab"+t+"R"+(r=(Xn&~(1<<32-he(Xn)-1)).toString(32)+r),0<(r=Ci++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=xi++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Is,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Bs.bind(null,vi,!0,r),r.dispatch=t,[e,t]},useMemoCache:$i,useCacheRefresh:function(){return Fi().memoizedState=js.bind(null,vi)}},Ks={readContext:Pa,use:Ui,useCallback:Rs,useContext:Pa,useEffect:bs,useImperativeHandle:Ss,useInsertionEffect:vs,useLayoutEffect:_s,useMemo:Cs,useReducer:qi,useRef:fs,useState:function(){return qi(Hi)},useDebugValue:ks,useDeferredValue:function(e,t){return Ts(zi(),_i.memoizedState,e,t)},useTransition:function(){var e=qi(Hi)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Wi,useId:Ms,useHostTransitionStatus:Is,useFormState:ls,useActionState:ls,useOptimistic:function(e,t){return es(zi(),0,e,t)},useMemoCache:$i,useCacheRefresh:Ns},Ws={readContext:Pa,use:Ui,useCallback:Rs,useContext:Pa,useEffect:bs,useImperativeHandle:Ss,useInsertionEffect:vs,useLayoutEffect:_s,useMemo:Cs,useReducer:Ki,useRef:fs,useState:function(){return Ki(Hi)},useDebugValue:ks,useDeferredValue:function(e,t){var r=zi();return null===_i?Ps(r,e,t):Ts(r,_i.memoizedState,e,t)},useTransition:function(){var e=Ki(Hi)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Wi,useId:Ms,useHostTransitionStatus:Is,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var r=zi();return null!==_i?es(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:$i,useCacheRefresh:Ns},Qs=null,Gs=0;function Ys(e){var t=Gs;return Gs+=1,null===Qs&&(Qs=[]),Xa(Qs,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=$n(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function l(e,t,r,n){var i=r.type;return i===g?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&Zs(i)===t.type)?(Xs(t=a(t,r.props),r),t.return=e,t):(Xs(t=Bn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Hn(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,i){return null===t||7!==t.tag?((t=Un(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$n(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Xs(r=Bn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=Hn(t,e.mode,r)).return=e,t;case P:return p(e,t=(0,t._init)(t._payload),r)}if(I(t)||D(t))return(t=Un(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return p(e,Ys(t),r);if(t.$$typeof===w)return p(e,Ta(e,t),r);Js(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return r.key===a?l(e,t,r,n):null;case m:return r.key===a?d(e,t,r,n):null;case P:return h(e,t,r=(a=r._init)(r._payload),n)}if(I(r)||D(r))return null!==a?null:u(e,t,r,n,null);if("function"===typeof r.then)return h(e,t,Ys(r),n);if(r.$$typeof===w)return h(e,t,Ta(e,r),n);Js(e,r)}return null}function y(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return l(t,e=e.get(null===n.key?r:n.key)||null,n,a);case m:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case P:return y(e,t,r,n=(0,n._init)(n._payload),a)}if(I(n)||D(n))return u(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return y(e,t,r,Ys(n),a);if(n.$$typeof===w)return y(e,t,r,Ta(t,n),a);Js(t,n)}return null}function b(c,l,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var v=d.key;null!==l;){if(l.key===v){if((v=d.type)===g){if(7===l.tag){r(c,l.sibling),(u=a(l,d.props.children)).return=c,c=u;break e}}else if(l.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===P&&Zs(v)===l.type){r(c,l.sibling),Xs(u=a(l,d.props),d),u.return=c,c=u;break e}r(c,l);break}t(c,l),l=l.sibling}d.type===g?((u=Un(d.props.children,c.mode,u,d.key)).return=c,c=u):(Xs(u=Bn(d.type,d.key,d.props,null,c.mode,u),d),u.return=c,c=u)}return o(c);case m:e:{for(v=d.key;null!==l;){if(l.key===v){if(4===l.tag&&l.stateNode.containerInfo===d.containerInfo&&l.stateNode.implementation===d.implementation){r(c,l.sibling),(u=a(l,d.children||[])).return=c,c=u;break e}r(c,l);break}t(c,l),l=l.sibling}(u=Hn(d,c.mode,u)).return=c,c=u}return o(c);case P:return b(c,l,d=(v=d._init)(d._payload),u)}if(I(d))return function(a,s,o,c){for(var l=null,d=null,u=s,f=s=0,m=null;null!==u&&f<o.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var g=h(a,u,o[f],c);if(null===g){null===u&&(u=m);break}e&&u&&null===g.alternate&&t(a,u),s=i(g,s,f),null===d?l=g:d.sibling=g,d=g,u=m}if(f===o.length)return r(a,u),ia&&Zn(a,f),l;if(null===u){for(;f<o.length;f++)null!==(u=p(a,o[f],c))&&(s=i(u,s,f),null===d?l=u:d.sibling=u,d=u);return ia&&Zn(a,f),l}for(u=n(u);f<o.length;f++)null!==(m=y(u,a,f,o[f],c))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),s=i(m,s,f),null===d?l=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(a,e)})),ia&&Zn(a,f),l}(c,l,d,u);if(D(d)){if("function"!==typeof(v=D(d)))throw Error(s(150));return function(a,o,c,l){if(null==c)throw Error(s(151));for(var d=null,u=null,f=o,m=o=0,g=null,b=c.next();null!==f&&!b.done;m++,b=c.next()){f.index>m?(g=f,f=null):g=f.sibling;var v=h(a,f,b.value,l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(a,f),o=i(v,o,m),null===u?d=v:u.sibling=v,u=v,f=g}if(b.done)return r(a,f),ia&&Zn(a,m),d;if(null===f){for(;!b.done;m++,b=c.next())null!==(b=p(a,b.value,l))&&(o=i(b,o,m),null===u?d=b:u.sibling=b,u=b);return ia&&Zn(a,m),d}for(f=n(f);!b.done;m++,b=c.next())null!==(b=y(f,a,m,b.value,l))&&(e&&null!==b.alternate&&f.delete(null===b.key?m:b.key),o=i(b,o,m),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach((function(e){return t(a,e)})),ia&&Zn(a,m),d}(c,l,d=v.call(d),u)}if("function"===typeof d.then)return b(c,l,Ys(d),u);if(d.$$typeof===w)return b(c,l,Ta(c,d),u);Js(c,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==l&&6===l.tag?(r(c,l.sibling),(u=a(l,d)).return=c,c=u):(r(c,l),(u=$n(d,c.mode,u)).return=c,c=u),o(c)):r(c,l)}return function(e,t,r,n){try{Gs=0;var a=b(e,t,r,n);return Qs=null,a}catch(s){if(s===Va||s===Wa)throw s;var i=jn(29,s,null,e.mode);return i.lanes=n,i.return=e,i}}}var to=eo(!0),ro=eo(!1),no=z(null),ao=null;function io(e){var t=e.alternate;U(lo,1&lo.current),U(no,e),null===ao&&(null===t||null!==hi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(U(lo,lo.current),U(no,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){U(lo,lo.current),U(no,no.current)}function co(e){B(no),ao===e&&(ao=null),B(lo)}var lo=z(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||gu(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:p({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ho={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ml(),a=ai(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(jl(t,e,n),si(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ml(),a=ai(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(jl(t,e,n),si(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ml(),n=ai(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ii(e,n,r))&&(jl(t,e,r),si(t,e,r))}};function fo(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(r,n)||!Gr(a,i))}function mo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function go(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=p({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){yo(e)}function vo(e){console.error(e)}function _o(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout((function(){throw r}))}}function So(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout((function(){throw n}))}}function ko(e,t,r){return(r=ai(r)).tag=3,r.payload={element:null},r.callback=function(){wo(e,t)},r}function Ro(e){return(e=ai(e)).tag=3,e}function Co(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){So(t,r,n)}}var s=r.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){So(t,r,n),"function"!==typeof a&&(null===Rl?Rl=new Set([this]):Rl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Po=Error(s(461)),To=!1;function xo(e,t,r,n){t.child=null===e?ro(t,null,r,n):to(t,e.child,r,n)}function Eo(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var s={};for(var o in n)"ref"!==o&&(s[o]=n[o])}else s=n;return Ca(t),n=Li(e,t,r,s,i,a),o=Ni(),null===e||To?(ia&&o&&ta(t),t.flags|=1,xo(e,t,n,a),t.child):(ji(e,t,a),Go(e,t,a))}function Do(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||An(i)||void 0!==i.defaultProps||null!==r.compare?((e=Bn(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Lo(e,t,i,n,a))}if(i=e.child,!Yo(e,a)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:Gr)(s,n)&&e.ref===t.ref)return Go(e,t,a)}return t.flags|=1,(e=Fn(i,n)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(Gr(i,n)&&e.ref===t.ref){if(To=!1,t.pendingProps=n=i,!Yo(e,a))return t.lanes=e.lanes,Go(e,t,a);0!==(131072&e.flags)&&(To=!0)}}return No(e,t,r,n,a)}function Oo(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==i?i.baseLanes|r:r,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~n}else t.childLanes=0,t.child=null;return Io(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Io(e,t,null!==i?i.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),so(t)}else null!==i?(Ha(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&Ha(0,null),gi(),oo());return xo(e,t,a,r),t.child}function Io(e,t,r,n){var a=$a();return a=null===a?null:{parent:Oa._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&Ha(0,null),gi(),so(t),null!==e&&ka(e,t,n,!0),null}function Mo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(s(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function No(e,t,r,n,a){return Ca(t),r=Li(e,t,r,n,void 0,a),n=Ni(),null===e||To?(ia&&n&&ta(t),t.flags|=1,xo(e,t,r,a),t.child):(ji(e,t,a),Go(e,t,a))}function jo(e,t,r,n,a,i){return Ca(t),t.updateQueue=null,r=Ii(t,n,r,a),Oi(e),n=Ni(),null===e||To?(ia&&n&&ta(t),t.flags|=1,xo(e,t,r,i),t.child):(ji(e,t,i),Go(e,t,i))}function Ao(e,t,r,n,a){if(Ca(t),null===t.stateNode){var i=Mn,s=r.contextType;"object"===typeof s&&null!==s&&(i=Pa(s)),i=new r(n,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=ho,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=n,i.state=t.memoizedState,i.refs={},ri(t),s=r.contextType,i.context="object"===typeof s&&null!==s?Pa(s):Mn,i.state=t.memoizedState,"function"===typeof(s=r.getDerivedStateFromProps)&&(po(t,r,s,n),i.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&ho.enqueueReplaceState(i,i.state,null),di(t,n,i,a),li(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,c=go(r,o);i.props=c;var l=i.context,d=r.contextType;s=Mn,"object"===typeof d&&null!==d&&(s=Pa(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||l!==s)&&mo(t,i,n,s),ti=!1;var p=t.memoizedState;i.state=p,di(t,n,i,a),li(),l=t.memoizedState,o||p!==l||ti?("function"===typeof u&&(po(t,r,u,n),l=t.memoizedState),(c=ti||fo(t,r,c,n,p,l,s))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=s,n=c):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ni(e,t),d=go(r,s=t.memoizedProps),i.props=d,u=t.pendingProps,p=i.context,l=r.contextType,c=Mn,"object"===typeof l&&null!==l&&(c=Pa(l)),(l="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||p!==c)&&mo(t,i,n,c),ti=!1,p=t.memoizedState,i.state=p,di(t,n,i,a),li();var h=t.memoizedState;s!==u||p!==h||ti||null!==e&&null!==e.dependencies&&Ra(e.dependencies)?("function"===typeof o&&(po(t,r,o,n),h=t.memoizedState),(d=ti||fo(t,r,d,n,p,h,c)||null!==e&&null!==e.dependencies&&Ra(e.dependencies))?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,h,c),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,h,c)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),i.props=n,i.state=h,i.context=c,n=d):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Mo(e,t),n=0!==(128&t.flags),i||n?(i=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&n?(t.child=to(t,e.child,null,a),t.child=to(t,null,r,a)):xo(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Go(e,t,a),e}function Fo(e,t,r,n){return ha(),t.flags|=256,xo(e,t,r,n),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:qa()}}function Uo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gl),e}function $o(e,t,r){var n,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&lo.current)),n&&(i=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var c,l=aa;if(c=l){e:{for(c=l,l=oa;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=yu(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Yn?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},(c=jn(18,null,null,0)).stateNode=l,c.return=t,t.child=c,na=t,aa=null,c=!0):c=!1}c||la(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return gu(l)?t.lanes=32:t.lanes=536870912,null;co(t)}return l=a.children,a=a.fallback,i?(oo(),l=qo({mode:"hidden",children:l},i=t.mode),a=Un(a,i,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(i=t.child).memoizedState=Bo(r),i.childLanes=Uo(e,n,r),t.memoizedState=zo,a):(io(t),Ho(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Vo(e,t,r)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,l=t.mode,a=qo({mode:"visible",children:a.children},l),(i=Un(i,l,r,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,r),(a=t.child).memoizedState=Bo(r),a.childLanes=Uo(e,n,r),t.memoizedState=zo,t=i);else if(io(t),gu(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var d=n.dgst;n=d,(a=Error(s(419))).stack="",a.digest=n,ma({value:a,source:null,stack:null}),t=Vo(e,t,r)}else if(To||ka(e,t,r,!1),n=0!==(r&e.childLanes),To||n){if(null!==(n=nl)&&(0!==(a=0!==((a=0!==(42&(a=r&-r))?1:xe(a))&(n.suspendedLanes|r))?0:a)&&a!==c.retryLane))throw c.retryLane=a,Ln(e,a),jl(n,e,a),Po;"$?"===l.data||Wl(),t=Vo(e,t,r)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,aa=yu(l.nextSibling),na=t,ia=!0,sa=null,oa=!1,null!==e&&(Qn[Gn++]=Xn,Qn[Gn++]=Jn,Qn[Gn++]=Yn,Xn=e.id,Jn=e.overflow,Yn=t),(t=Ho(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,l=t.mode,d=(c=e.child).sibling,(a=Fn(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?i=Fn(d,i):(i=Un(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(l=e.child.memoizedState)?l=Bo(r):(null!==(c=l.cachePool)?(d=Oa._currentValue,c=c.parent!==d?{parent:d,pool:d}:c):c=qa(),l={baseLanes:l.baseLanes|r,cachePool:c}),i.memoizedState=l,i.childLanes=Uo(e,n,r),t.memoizedState=zo,a):(io(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=jn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vo(e,t,r){return to(t,e.child,null,r),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),wa(e.return,t,r)}function Wo(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Qo(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(xo(e,t,n.children,r),0!==(2&(n=lo.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,r,t);else if(19===e.tag)Ko(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(U(lo,n),a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Wo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Wo(t,!0,r,null,i);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),hl|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(ka(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ra(e))}function Xo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!Yo(e,r)&&0===(128&t.flags))return To=!1,function(e,t,r){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),va(0,Oa,e.memoizedState.cache),ha();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:va(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(io(t),t.flags|=128,null):0!==(r&t.child.childLanes)?$o(e,t,r):(io(t),null!==(e=Go(e,t,r))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(ka(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return Qo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(lo,lo.current),n)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,r);case 24:va(0,Oa,e.memoizedState.cache)}return Go(e,t,r)}(e,t,r);To=0!==(131072&e.flags)}else To=!1,ia&&0!==(1048576&t.flags)&&ea(t,Wn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((a=n.$$typeof)===S){t.tag=11,t=Eo(null,t,n,e,r);break e}if(a===C){t.tag=14,t=Do(null,t,n,e,r);break e}}throw t=O(n)||n,Error(s(306,t,""))}An(n)?(e=go(n,e),t.tag=1,t=Ao(null,t,n,e,r)):(t.tag=0,t=No(null,t,n,e,r))}return t;case 0:return No(e,t,t.type,t.pendingProps,r);case 1:return Ao(e,t,n=t.type,a=go(n,t.pendingProps),r);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,ni(e,t),di(t,n,null,r);var o=t.memoizedState;if(n=o.cache,va(0,Oa,n),n!==i.cache&&Sa(t,[Oa],r,!0),li(),n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,n,r);break e}if(n!==a){ma(a=Rn(Error(s(424)),t)),t=Fo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yu(e.firstChild),na=t,ia=!0,sa=null,oa=!0,r=ro(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ha(),n===a){t=Go(e,t,r);break e}xo(e,t,n,r)}t=t.child}return t;case 26:return Mo(e,t),null===e?(r=xu(t.type,null,t.pendingProps,null))?t.memoizedState=r:ia||(r=t.type,e=t.pendingProps,(n=nu(q.current).createElement(r))[Oe]=t,n[Ie]=e,eu(n,r,e),Ve(n),t.stateNode=n):t.memoizedState=xu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ia&&(n=t.stateNode=_u(t.type,t.pendingProps,q.current),na=t,oa=!0,a=aa,hu(t.type)?(bu=a,aa=yu(n.firstChild)):aa=a),xo(e,t,t.pendingProps.children,r),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=n=aa)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,oa))?(t.stateNode=n,na=t,aa=yu(n.firstChild),oa=!1,a=!0):a=!1),a||la(t)),Q(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,n=i.children,su(a,i)?n=null:null!==o&&su(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Li(e,t,Mi,null,null,r),Qu._currentValue=a),Mo(e,t),xo(e,t,n,r),t.child;case 6:return null===e&&ia&&((e=r=aa)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yu(e.nextSibling)))return null}return e}(r,t.pendingProps,oa))?(t.stateNode=r,na=t,aa=null,e=!0):e=!1),e||la(t)),null;case 13:return $o(e,t,r);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=to(t,null,n,r):xo(e,t,n,r),t.child;case 11:return Eo(e,t,t.type,t.pendingProps,r);case 7:return xo(e,t,t.pendingProps,r),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,va(0,t.type,n.value),xo(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Ca(t),n=n(a=Pa(a)),t.flags|=1,xo(e,t,n,r),t.child;case 14:return Do(e,t,t.type,t.pendingProps,r);case 15:return Lo(e,t,t.type,t.pendingProps,r);case 19:return Qo(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=qo(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Fn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Oo(e,t,r);case 24:return Ca(t),n=Pa(Oa),null===e?(null===(a=$a())&&(a=nl,i=Ia(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},ri(t),va(0,Oa,a)):(0!==(e.lanes&r)&&(ni(e,t),di(t,null,null,r),li()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),va(0,Oa,n)):(n=i.cache,va(0,Oa,n),n!==a.cache&&Sa(t,[Oa],r,!0))),xo(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=no.current)&&((4194048&il)===il?null!==ao:(62914560&il)!==il&&0===(536870912&il)||t!==ao))throw Ja=Qa,Ka;e.flags|=8192}}function ec(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yl|=t)}function tc(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nc(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rc(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(Oa),W(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pa(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fa())),rc(t),null;case 26:return r=t.memoizedState,null===e?(Jo(t),null!==r?(rc(t),Zo(t,r)):(rc(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Jo(t),rc(t),Zo(t,r)):(rc(t),t.flags&=-16777217):(e.memoizedProps!==n&&Jo(t),rc(t),t.flags&=-16777217),null;case 27:G(t),r=q.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return rc(t),null}e=$.current,pa(t)?da(t):(e=_u(a,n,r),t.stateNode=e,Jo(t))}return rc(t),null;case 5:if(G(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return rc(t),null}if(e=$.current,pa(t))da(t);else{switch(a=nu(q.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?a.createElement(r,{is:n.is}):a.createElement(r)}}e[Oe]=t,e[Ie]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(eu(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return rc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(e=q.current,pa(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=na))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Yd(e.nodeValue,r)))||la(t)}else(e=nu(e).createTextNode(n))[Oe]=t,t.stateNode=e}return rc(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=pa(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Oe]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rc(t),a=!1}else a=fa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(co(t),t):(co(t),null)}if(co(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var i=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),ec(t,t.updateQueue),rc(t),null;case 4:return W(),null===e&&Bd(t.stateNode.containerInfo),rc(t),null;case 10:return _a(t.type),rc(t),null;case 19:if(B(lo),null===(a=t.memoizedState))return rc(t),null;if(n=0!==(128&t.flags),null===(i=a.rendering))if(n)tc(a,!1);else{if(0!==pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tc(a,!1),e=i.updateQueue,t.updateQueue=e,ec(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)zn(r,e),r=r.sibling;return U(lo,1&lo.current|2),t.child}e=e.sibling}null!==a.tail&&te()>Sl&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(i))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ec(t,e),tc(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return rc(t),null}else 2*te()-a.renderingStartTime>Sl&&536870912!==r&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=lo.current,U(lo,n?1&e|2:1&e),t):(rc(t),null);case 22:case 23:return co(t),yi(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rc(t),6&t.subtreeFlags&&(t.flags|=8192)):rc(t),null!==(r=t.updateQueue)&&ec(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&B(Ua),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_a(Oa),rc(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ac(e,t){switch(ra(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _a(Oa),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(co(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(lo),null;case 4:return W(),null;case 10:return _a(t.type),null;case 22:case 23:return co(t),yi(),null!==e&&B(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _a(Oa),null;default:return null}}function ic(e,t){switch(ra(t),t.tag){case 3:_a(Oa),W();break;case 26:case 27:case 5:G(t);break;case 4:W();break;case 13:co(t);break;case 19:B(lo);break;case 10:_a(t.type);break;case 22:case 23:co(t),yi(),null!==e&&B(Ua);break;case 24:_a(Oa)}}function sc(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,s=r.inst;n=i(),s.destroy=n}r=r.next}while(r!==a)}}catch(o){dd(t,t.return,o)}}function oc(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var i=a.next;n=i;do{if((n.tag&e)===e){var s=n.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var c=r,l=o;try{l()}catch(d){dd(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){dd(t,t.return,d)}}function cc(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{pi(t,r)}catch(n){dd(e,e.return,n)}}}function lc(e,t,r){r.props=go(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){dd(e,t,n)}}function dc(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){dd(e,t,a)}}function uc(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){dd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(i){dd(e,t,i)}else r.current=null}function pc(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){dd(e,e.return,a)}}function hc(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,c=null,l=null,d=null,u=null;for(f in r){var p=r[f];if(r.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":l=p;default:n.hasOwnProperty(f)||Jd(e,t,f,null,n,p)}}for(var h in n){var f=n[h];if(p=r[h],n.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":i=f;break;case"name":a=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==p&&Jd(e,t,h,f,n,p)}}return void gt(e,o,c,l,d,u,i,a);case"select":for(i in f=o=c=h=null,r)if(l=r[i],r.hasOwnProperty(i)&&null!=l)switch(i){case"value":break;case"multiple":f=l;default:n.hasOwnProperty(i)||Jd(e,t,i,null,n,l)}for(a in n)if(i=n[a],l=r[a],n.hasOwnProperty(a)&&(null!=i||null!=l))switch(a){case"value":h=i;break;case"defaultValue":c=i;break;case"multiple":o=i;default:i!==l&&Jd(e,t,a,i,n,l)}return t=c,r=o,n=f,void(null!=h?vt(e,!!r,h,!1):!!n!==!!r&&(null!=t?vt(e,!!r,t,!0):vt(e,!!r,r?[]:"",!1)));case"textarea":for(c in f=h=null,r)if(a=r[c],r.hasOwnProperty(c)&&null!=a&&!n.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Jd(e,t,c,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":h=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Jd(e,t,o,a,n,i)}return void _t(e,h,f);case"option":for(var m in r)if(h=r[m],r.hasOwnProperty(m)&&null!=h&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Jd(e,t,m,null,n,h);for(l in n)if(h=n[l],f=r[l],n.hasOwnProperty(l)&&h!==f&&(null!=h||null!=f))if("selected"===l)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Jd(e,t,l,h,n,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)h=r[g],r.hasOwnProperty(g)&&null!=h&&!n.hasOwnProperty(g)&&Jd(e,t,g,null,n,h);for(d in n)if(h=n[d],f=r[d],n.hasOwnProperty(d)&&h!==f&&(null!=h||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:Jd(e,t,d,h,n,f)}return;default:if(Pt(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&void 0!==h&&!n.hasOwnProperty(y)&&Zd(e,t,y,void 0,n,h);for(u in n)h=n[u],f=r[u],!n.hasOwnProperty(u)||h===f||void 0===h&&void 0===f||Zd(e,t,u,h,n,f);return}}for(var b in r)h=r[b],r.hasOwnProperty(b)&&null!=h&&!n.hasOwnProperty(b)&&Jd(e,t,b,null,n,h);for(p in n)h=n[p],f=r[p],!n.hasOwnProperty(p)||h===f||null==h&&null==f||Jd(e,t,p,h,n,f)}(n,e.type,r,t),n[Ie]=t}catch(a){dd(e,e.return,a)}}function fc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hu(e.type)||4===e.tag}function mc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xd));else if(4!==n&&(27===n&&hu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gc(e,t,r),e=e.sibling;null!==e;)gc(e,t,r),e=e.sibling}function yc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&hu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(yc(e,t,r),e=e.sibling;null!==e;)yc(e,t,r),e=e.sibling}function bc(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);eu(t,n,r),t[Oe]=e,t[Ie]=r}catch(i){dd(e,e.return,i)}}var vc=!1,_c=!1,wc=!1,Sc="function"===typeof WeakSet?WeakSet:Set,kc=null;function Rc(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Ac(e,r),4&n&&sc(5,r);break;case 1:if(Ac(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){dd(r,r.return,s)}else{var a=go(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(r,r.return,o)}}64&n&&cc(r),512&n&&dc(r,r.return);break;case 3:if(Ac(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{pi(e,t)}catch(s){dd(r,r.return,s)}}break;case 27:null===t&&4&n&&bc(r);case 26:case 5:Ac(e,r),null===t&&4&n&&pc(r),512&n&&dc(r,r.return);break;case 12:Ac(e,r);break;case 13:Ac(e,r),4&n&&Dc(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=fd.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||vc)){t=null!==t&&null!==t.memoizedState||_c,a=vc;var i=_c;vc=n,(_c=t)&&!i?zc(e,r,0!==(8772&r.subtreeFlags)):Ac(e,r),vc=a,_c=i}break;case 30:break;default:Ac(e,r)}}function Cc(e){var t=e.alternate;null!==t&&(e.alternate=null,Cc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pc=null,Tc=!1;function xc(e,t,r){for(r=r.child;null!==r;)Ec(e,t,r),r=r.sibling}function Ec(e,t,r){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,r)}catch(i){}switch(r.tag){case 26:_c||uc(r,t),xc(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:_c||uc(r,t);var n=Pc,a=Tc;hu(r.type)&&(Pc=r.stateNode,Tc=!1),xc(e,t,r),wu(r.stateNode),Pc=n,Tc=a;break;case 5:_c||uc(r,t);case 6:if(n=Pc,a=Tc,Pc=null,xc(e,t,r),Tc=a,null!==(Pc=n))if(Tc)try{(9===Pc.nodeType?Pc.body:"HTML"===Pc.nodeName?Pc.ownerDocument.body:Pc).removeChild(r.stateNode)}catch(s){dd(r,t,s)}else try{Pc.removeChild(r.stateNode)}catch(s){dd(r,t,s)}break;case 18:null!==Pc&&(Tc?(fu(9===(e=Pc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Tp(e)):fu(Pc,r.stateNode));break;case 4:n=Pc,a=Tc,Pc=r.stateNode.containerInfo,Tc=!0,xc(e,t,r),Pc=n,Tc=a;break;case 0:case 11:case 14:case 15:_c||oc(2,r,t),_c||oc(4,r,t),xc(e,t,r);break;case 1:_c||(uc(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&lc(r,t,n)),xc(e,t,r);break;case 21:xc(e,t,r);break;case 22:_c=(n=_c)||null!==r.memoizedState,xc(e,t,r),_c=n;break;default:xc(e,t,r)}}function Dc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Tp(e)}catch(r){dd(t,t.return,r)}}function Lc(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sc),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var n=md.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}function Oc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 27:if(hu(c.type)){Pc=c.stateNode,Tc=!1;break e}break;case 5:Pc=c.stateNode,Tc=!1;break e;case 3:case 4:Pc=c.stateNode.containerInfo,Tc=!0;break e}c=c.return}if(null===Pc)throw Error(s(160));Ec(i,o,a),Pc=null,Tc=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Mc(t,e),t=t.sibling}var Ic=null;function Mc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Oc(t,e),Nc(e),4&n&&(oc(3,e,e.return),sc(3,e),oc(5,e,e.return));break;case 1:Oc(t,e),Nc(e),512&n&&(_c||null===r||uc(r,r.return)),64&n&&vc&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Ic;if(Oc(t,e),Nc(e),512&n&&(_c||null===r||uc(r,r.return)),4&n){var i=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(i=a.getElementsByTagName("title")[0])||i[ze]||i[Oe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),eu(i,n,r),i[Oe]=e,Ve(i),n=i;break e;case"link":var o=zu("link","href",a).get(n+(r.href||""));if(o)for(var c=0;c<o.length;c++)if((i=o[c]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&i.getAttribute("rel")===(null==r.rel?null:r.rel)&&i.getAttribute("title")===(null==r.title?null:r.title)&&i.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(c,1);break t}eu(i=a.createElement(n),n,r),a.head.appendChild(i);break;case"meta":if(o=zu("meta","content",a).get(n+(r.content||"")))for(c=0;c<o.length;c++)if((i=o[c]).getAttribute("content")===(null==r.content?null:""+r.content)&&i.getAttribute("name")===(null==r.name?null:r.name)&&i.getAttribute("property")===(null==r.property?null:r.property)&&i.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&i.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(c,1);break t}eu(i=a.createElement(n),n,r),a.head.appendChild(i);break;default:throw Error(s(468,n))}i[Oe]=e,Ve(i),n=i}e.stateNode=n}else Bu(a,e.type,e.stateNode);else e.stateNode=Mu(a,n,e.memoizedProps);else i!==n?(null===i?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):i.count--,null===n?Bu(a,e.type,e.stateNode):Mu(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&hc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Oc(t,e),Nc(e),512&n&&(_c||null===r||uc(r,r.return)),null!==r&&4&n&&hc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Oc(t,e),Nc(e),512&n&&(_c||null===r||uc(r,r.return)),32&e.flags){a=e.stateNode;try{St(a,"")}catch(f){dd(e,e.return,f)}}4&n&&null!=e.stateNode&&hc(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(wc=!0);break;case 6:if(Oc(t,e),Nc(e),4&n){if(null===e.stateNode)throw Error(s(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(f){dd(e,e.return,f)}}break;case 3:if(Fu=null,a=Ic,Ic=Ru(t.containerInfo),Oc(t,e),Ic=a,Nc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Tp(t.containerInfo)}catch(f){dd(e,e.return,f)}wc&&(wc=!1,jc(e));break;case 4:n=Ic,Ic=Ru(e.stateNode.containerInfo),Oc(t,e),Nc(e),Ic=n;break;case 12:default:Oc(t,e),Nc(e);break;case 13:Oc(t,e),Nc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wl=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Lc(e,n)));break;case 22:a=null!==e.memoizedState;var l=null!==r&&null!==r.memoizedState,d=vc,u=_c;if(vc=d||a,_c=u||l,Oc(t,e),_c=u,vc=d,Nc(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||l||vc||_c||Fc(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){l=r=t;try{if(i=l.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{c=l.stateNode;var p=l.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;c.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){dd(l,l.return,f)}}}else if(6===t.tag){if(null===r){l=t;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(f){dd(l,l.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Lc(e,r))));break;case 19:Oc(t,e),Nc(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Lc(e,n)));case 30:case 21:}}function Nc(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(fc(n)){r=n;break}n=n.return}if(null==r)throw Error(s(160));switch(r.tag){case 27:var a=r.stateNode;yc(e,mc(e),a);break;case 5:var i=r.stateNode;32&r.flags&&(St(i,""),r.flags&=-33),yc(e,mc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;gc(e,mc(e),o);break;default:throw Error(s(161))}}catch(c){dd(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ac(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rc(e,t.alternate,t),t=t.sibling}function Fc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oc(4,t,t.return),Fc(t);break;case 1:uc(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&lc(t,t.return,r),Fc(t);break;case 27:wu(t.stateNode);case 26:case 5:uc(t,t.return),Fc(t);break;case 22:null===t.memoizedState&&Fc(t);break;default:Fc(t)}e=e.sibling}}function zc(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:zc(a,i,r),sc(4,i);break;case 1:if(zc(a,i,r),"function"===typeof(a=(n=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(l){dd(n,n.return,l)}if(null!==(a=(n=i).updateQueue)){var o=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(null!==c)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)ui(c[a],o)}catch(l){dd(n,n.return,l)}}r&&64&s&&cc(i),dc(i,i.return);break;case 27:bc(i);case 26:case 5:zc(a,i,r),r&&null===n&&4&s&&pc(i),dc(i,i.return);break;case 12:zc(a,i,r);break;case 13:zc(a,i,r),r&&4&s&&Dc(a,i);break;case 22:null===i.memoizedState&&zc(a,i,r),dc(i,i.return);break;case 30:break;default:zc(a,i,r)}t=t.sibling}}function Bc(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Ma(r))}function Uc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ma(e))}function $c(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hc(e,t,r,n),t=t.sibling}function Hc(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:$c(e,t,r,n),2048&a&&sc(9,t);break;case 1:case 13:default:$c(e,t,r,n);break;case 3:$c(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ma(e)));break;case 12:if(2048&a){$c(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){dd(t,t.return,c)}}else $c(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?$c(e,t,r,n):Vc(e,t):2&i._visibility?$c(e,t,r,n):(i._visibility|=2,qc(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&a&&Bc(s,t);break;case 24:$c(e,t,r,n),2048&a&&Uc(t.alternate,t)}}function qc(e,t,r,n,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=r,c=n,l=s.flags;switch(s.tag){case 0:case 11:case 15:qc(i,s,o,c,a),sc(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?qc(i,s,o,c,a):Vc(i,s):(d._visibility|=2,qc(i,s,o,c,a)),a&&2048&l&&Bc(s.alternate,s);break;case 24:qc(i,s,o,c,a),a&&2048&l&&Uc(s.alternate,s);break;default:qc(i,s,o,c,a)}t=t.sibling}}function Vc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Vc(r,n),2048&a&&Bc(n.alternate,n);break;case 24:Vc(r,n),2048&a&&Uc(n.alternate,n);break;default:Vc(r,n)}t=t.sibling}}var Kc=8192;function Wc(e){if(e.subtreeFlags&Kc)for(e=e.child;null!==e;)Qc(e),e=e.sibling}function Qc(e){switch(e.tag){case 26:Wc(e),e.flags&Kc&&null!==e.memoizedState&&function(e,t,r){if(null===$u)throw Error(s(475));var n=$u;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Eu(r.href),i=e.querySelector(Du(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=qu.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=i,void Ve(i);i=e.ownerDocument||e,r=Lu(r),(a=Su.get(a))&&ju(r,a),Ve(i=i.createElement("link"));var o=i;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(i,"link",r),t.instance=i}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=qu.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ic,e.memoizedState,e.memoizedProps);break;case 5:default:Wc(e);break;case 3:case 4:var t=Ic;Ic=Ru(e.stateNode.containerInfo),Wc(e),Ic=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kc,Kc=16777216,Wc(e),Kc=t):Wc(e))}}function Gc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];kc=n,Zc(n,e)}Gc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xc(e),e=e.sibling}function Xc(e){switch(e.tag){case 0:case 11:case 15:Yc(e),2048&e.flags&&oc(9,e,e.return);break;case 3:case 12:default:Yc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jc(e)):Yc(e)}}function Jc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];kc=n,Zc(n,e)}Gc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oc(8,t,t.return),Jc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Jc(t));break;default:Jc(t)}e=e.sibling}}function Zc(e,t){for(;null!==kc;){var r=kc;switch(r.tag){case 0:case 11:case 15:oc(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ma(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,kc=n;else e:for(r=e;null!==kc;){var a=(n=kc).sibling,i=n.return;if(Cc(n),n===r){kc=null;break e}if(null!==a){a.return=i,kc=a;break e}kc=i}}}var el={getCacheForType:function(e){var t=Pa(Oa),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tl="function"===typeof WeakMap?WeakMap:Map,rl=0,nl=null,al=null,il=0,sl=0,ol=null,cl=!1,ll=!1,dl=!1,ul=0,pl=0,hl=0,fl=0,ml=0,gl=0,yl=0,bl=null,vl=null,_l=!1,wl=0,Sl=1/0,kl=null,Rl=null,Cl=0,Pl=null,Tl=null,xl=0,El=0,Dl=null,Ll=null,Ol=0,Il=null;function Ml(){if(0!==(2&rl)&&0!==il)return il&-il;if(null!==M.T){return 0!==Aa?Aa:Ed()}return De()}function Nl(){0===gl&&(gl=0===(536870912&il)||ia?Se():536870912);var e=no.current;return null!==e&&(e.flags|=32),gl}function jl(e,t,r){(e!==nl||2!==sl&&9!==sl)&&null===e.cancelPendingCommit||(Hl(e,0),Bl(e,il,gl,!1)),Ce(e,r),0!==(2&rl)&&e===nl||(e===nl&&(0===(2&rl)&&(fl|=r),4===pl&&Bl(e,il,gl,!1)),Sd(e))}function Al(e,t,r){if(0!==(6&rl))throw Error(s(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||_e(e,t),a=n?function(e,t){var r=rl;rl|=2;var n=Vl(),a=Kl();nl!==e||il!==t?(kl=null,Sl=te()+500,Hl(e,t)):ll=_e(e,t);e:for(;;)try{if(0!==sl&&null!==al){t=al;var i=ol;t:switch(sl){case 1:sl=0,ol=null,Zl(e,t,i,1);break;case 2:case 9:if(Ga(i)){sl=0,ol=null,Jl(t);break}t=function(){2!==sl&&9!==sl||nl!==e||(sl=7),Sd(e)},i.then(t,t);break e;case 3:sl=7;break e;case 4:sl=5;break e;case 7:Ga(i)?(sl=0,ol=null,Jl(t)):(sl=0,ol=null,Zl(e,t,i,7));break;case 5:var o=null;switch(al.tag){case 26:o=al.memoizedState;case 5:case 27:var c=al;if(!o||Uu(o)){sl=0,ol=null;var l=c.sibling;if(null!==l)al=l;else{var d=c.return;null!==d?(al=d,ed(d)):al=null}break t}}sl=0,ol=null,Zl(e,t,i,5);break;case 6:sl=0,ol=null,Zl(e,t,i,6);break;case 8:$l(),pl=6;break e;default:throw Error(s(462))}}Yl();break}catch(u){ql(e,u)}return ba=ya=null,M.H=n,M.A=a,rl=r,null!==al?0:(nl=null,il=0,xn(),pl)}(e,t):Ql(e,t,!0),i=n;;){if(0===a){ll&&!n&&Bl(e,t,0,!1);break}if(r=e.current.alternate,!i||zl(r)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var c=e;a=bl;var l=c.current.memoizedState.isDehydrated;if(l&&(Hl(c,o).flags|=256),2!==(o=Ql(c,o,!1))){if(dl&&!l){c.errorRecoveryDisabledLanes|=i,fl|=i,a=4;break e}i=vl,vl=a,null!==i&&(null===vl?vl=i:vl.push.apply(vl,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Hl(e,0),Bl(e,t,0,!0);break}e:{switch(n=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Bl(n,t,gl,!cl);break e;case 2:vl=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=wl+300-te())){if(Bl(n,t,gl,!cl),0!==ve(n,0,!0))break e;n.timeoutHandle=cu(Fl.bind(null,n,r,vl,kl,_l,t,gl,fl,yl,cl,i,2,-0,0),a)}else Fl(n,r,vl,kl,_l,t,gl,fl,yl,cl,i,0,-0,0)}break}a=Ql(e,t,!1),i=!1}Sd(e)}function Fl(e,t,r,n,a,i,o,c,l,d,u,p,h,f){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&($u={stylesheets:null,count:0,unsuspend:Hu},Qc(t),null!==(p=function(){if(null===$u)throw Error(s(475));var e=$u;return e.stylesheets&&0===e.count&&Ku(e,e.stylesheets),0<e.count?function(t){var r=setTimeout((function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=p(rd.bind(null,e,t,i,r,n,a,o,c,l,u,1,h,f)),void Bl(e,i,o,!d);rd(e,t,i,r,n,a,o,c,l)}function zl(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Qr(i(),a))return!1}catch(s){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bl(e,t,r,n){t&=~ml,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-he(a),s=1<<i;n[i]=-1,a&=~s}0!==r&&Pe(e,r,t)}function Ul(){return 0!==(6&rl)||(kd(0,!1),!1)}function $l(){if(null!==al){if(0===sl)var e=al.return;else ba=ya=null,Ai(e=al),Qs=null,Gs=0,e=al;for(;null!==e;)ic(e.alternate,e),e=e.return;al=null}}function Hl(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,lu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),$l(),nl=e,al=r=Fn(e.current,null),il=t,sl=0,ol=null,cl=!1,ll=_e(e,t),dl=!1,yl=gl=ml=fl=hl=pl=0,vl=bl=null,_l=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-he(n),i=1<<a;t|=e[a],n&=~i}return ul=t,xn(),r}function ql(e,t){vi=null,M.H=qs,t===Va||t===Wa?(t=Za(),sl=3):t===Ka?(t=Za(),sl=4):sl=t===Po?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ol=t,null===al&&(pl=1,wo(e,Rn(t,e.current)))}function Vl(){var e=M.H;return M.H=qs,null===e?qs:e}function Kl(){var e=M.A;return M.A=el,e}function Wl(){pl=4,cl||(4194048&il)!==il&&null!==no.current||(ll=!0),0===(134217727&hl)&&0===(134217727&fl)||null===nl||Bl(nl,il,gl,!1)}function Ql(e,t,r){var n=rl;rl|=2;var a=Vl(),i=Kl();nl===e&&il===t||(kl=null,Hl(e,t)),t=!1;var s=pl;e:for(;;)try{if(0!==sl&&null!==al){var o=al,c=ol;switch(sl){case 8:$l(),s=6;break e;case 3:case 2:case 9:case 6:null===no.current&&(t=!0);var l=sl;if(sl=0,ol=null,Zl(e,o,c,l),r&&ll){s=0;break e}break;default:l=sl,sl=0,ol=null,Zl(e,o,c,l)}}Gl(),s=pl;break}catch(d){ql(e,d)}return t&&e.shellSuspendCounter++,ba=ya=null,rl=n,M.H=a,M.A=i,null===al&&(nl=null,il=0,xn()),s}function Gl(){for(;null!==al;)Xl(al)}function Yl(){for(;null!==al&&!Z();)Xl(al)}function Xl(e){var t=Xo(e.alternate,e,ul);e.memoizedProps=e.pendingProps,null===t?ed(e):al=t}function Jl(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=jo(r,t,t.pendingProps,t.type,void 0,il);break;case 11:t=jo(r,t,t.pendingProps,t.type.render,t.ref,il);break;case 5:Ai(t);default:ic(r,t),t=Xo(r,t=al=zn(t,ul),ul)}e.memoizedProps=e.pendingProps,null===t?ed(e):al=t}function Zl(e,t,r,n){ba=ya=null,Ai(t),Qs=null,Gs=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&ka(t,r,a,!0),null!==(r=no.current)){switch(r.tag){case 13:return null===ao?Wl():null===r.alternate&&0===pl&&(pl=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Qa?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),ud(e,n,a)),!1;case 22:return r.flags|=65536,n===Qa?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),ud(e,n,a)),!1}throw Error(s(435,r.tag))}return ud(e,n,a),Wl(),!1}if(ia)return null!==(t=no.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==ca&&ma(Rn(e=Error(s(422),{cause:n}),r))):(n!==ca&&ma(Rn(t=Error(s(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Rn(n,r),oi(e,a=ko(e.stateNode,n,a)),4!==pl&&(pl=2)),!1;var i=Error(s(520),{cause:n});if(i=Rn(i,r),null===bl?bl=[i]:bl.push(i),4!==pl&&(pl=2),null===t)return!0;n=Rn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,oi(r,e=ko(r.stateNode,n,e)),!1;case 1:if(t=r.type,i=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Rl||!Rl.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,Co(a=Ro(a),e,r,n),oi(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,il))return pl=1,wo(e,Rn(r,e.current)),void(al=null)}catch(i){if(null!==a)throw al=a,i;return pl=1,wo(e,Rn(r,e.current)),void(al=null)}32768&t.flags?(ia||1===n?e=!0:ll||0!==(536870912&il)?e=!1:(cl=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=no.current)&&13===n.tag&&(n.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,cl);e=t.return;var r=nc(t.alternate,t,ul);if(null!==r)return void(al=r);if(null!==(t=t.sibling))return void(al=t);al=t=e}while(null!==t);0===pl&&(pl=5)}function td(e,t){do{var r=ac(e.alternate,e);if(null!==r)return r.flags&=32767,void(al=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(al=e);al=e=r}while(null!==e);pl=6,al=null}function rd(e,t,r,n,a,i,o,c,l){e.cancelPendingCommit=null;do{od()}while(0!==Cl);if(0!==(6&rl))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,r,n,a,i){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(r=s&~r;0<r;){var d=31-he(r),u=1<<d;o[d]=0,c[d]=-1;var p=l[d];if(null!==p)for(l[d]=null,d=0;d<p.length;d++){var h=p[d];null!==h&&(h.lane&=-536870913)}r&=~u}0!==n&&Pe(e,n,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,r,i|=Tn,o,c,l),e===nl&&(al=nl=null,il=0),Tl=t,Pl=e,xl=r,El=i,Dl=a,Ll=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,(function(){return cd(),null}))):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null,a=N.p,N.p=2,o=rl,rl|=4;try{!function(e,t){if(e=e.containerInfo,tu=rp,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(g){r=null;break e}var o=0,c=-1,l=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var f;p!==r||0!==a&&3!==p.nodeType||(c=o+a),p!==i||0!==n&&3!==p.nodeType||(l=o+n),3===p.nodeType&&(o+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===r&&++d===a&&(c=o),h===i&&++u===n&&(l=o),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ru={focusedElem:e,selectionRange:r},rp=!1,kc=t;null!==kc;)if(e=(t=kc).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kc=e;else for(;null!==kc;){switch(i=(t=kc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var m=go(r.type,a,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(m,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){dd(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))mu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,kc=e;break}kc=t.return}}(e,t)}finally{rl=o,N.p=a,M.T=n}}Cl=1,nd(),ad(),id()}}function nd(){if(1===Cl){Cl=0;var e=Pl,t=Tl,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null;var n=N.p;N.p=2;var a=rl;rl|=4;try{Mc(t,e);var i=ru,s=Zr(e.containerInfo),o=i.focusedElem,c=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Jr(o.ownerDocument.documentElement,o)){if(null!==c&&en(o)){var l=c.start,d=c.end;if(void 0===d&&(d=l),"selectionStart"in o)o.selectionStart=l,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=o.textContent.length,m=Math.min(c.start,f),g=void 0===c.end?m:Math.min(c.end,f);!h.extend&&m>g&&(s=g,g=m,m=s);var y=Xr(o,m),b=Xr(o,g);if(y&&b&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var v=u.createRange();v.setStart(y.node,y.offset),h.removeAllRanges(),m>g?(h.addRange(v),h.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),h.addRange(v))}}}}for(u=[],h=o;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var _=u[o];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}rp=!!tu,ru=tu=null}finally{rl=a,N.p=n,M.T=r}}e.current=t,Cl=2}}function ad(){if(2===Cl){Cl=0;var e=Pl,t=Tl,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=M.T,M.T=null;var n=N.p;N.p=2;var a=rl;rl|=4;try{Rc(e,t.alternate,t)}finally{rl=a,N.p=n,M.T=r}}Cl=3}}function id(){if(4===Cl||3===Cl){Cl=0,ee();var e=Pl,t=Tl,r=xl,n=Ll;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cl=5:(Cl=0,Tl=Pl=null,sd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Rl=null),Ee(r),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==n){t=M.T,a=N.p,N.p=2,M.T=null;try{for(var i=e.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{M.T=t,N.p=a}}0!==(3&xl)&&od(),Sd(e),a=e.pendingLanes,0!==(4194090&r)&&0!==(42&a)?e===Il?Ol++:(Ol=0,Il=e):Ol=0,kd(0,!1)}}function sd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ma(t)))}function od(e){return nd(),ad(),id(),cd()}function cd(){if(5!==Cl)return!1;var e=Pl,t=El;El=0;var r=Ee(xl),n=M.T,a=N.p;try{N.p=32>r?32:r,M.T=null,r=Dl,Dl=null;var i=Pl,o=xl;if(Cl=0,Tl=Pl=null,xl=0,0!==(6&rl))throw Error(s(331));var c=rl;if(rl|=4,Xc(i.current),Hc(i,i.current,o,r),rl=c,kd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,i)}catch(l){}return!0}finally{N.p=a,M.T=n,sd(e,t)}}function ld(e,t,r){t=Rn(r,t),null!==(e=ii(e,t=ko(e.stateNode,t,2),2))&&(Ce(e,2),Sd(e))}function dd(e,t,r){if(3===e.tag)ld(e,e,r);else for(;null!==t;){if(3===t.tag){ld(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Rl||!Rl.has(n))){e=Rn(r,e),null!==(n=ii(t,r=Ro(2),2))&&(Co(r,n,t,e),Ce(n,2),Sd(n));break}}t=t.return}}function ud(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tl;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(dl=!0,a.add(r),e=pd.bind(null,e,t,r),t.then(e,e))}function pd(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nl===e&&(il&r)===r&&(4===pl||3===pl&&(62914560&il)===il&&300>te()-wl?0===(2&rl)&&Hl(e,0):ml|=r,yl===il&&(yl=0)),Sd(e)}function hd(e,t){0===t&&(t=ke()),null!==(e=Ln(e,t))&&(Ce(e,t),Sd(e))}function fd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),hd(e,r)}function md(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==n&&n.delete(t),hd(e,r)}var gd=null,yd=null,bd=!1,vd=!1,_d=!1,wd=0;function Sd(e){e!==yd&&null===e.next&&(null===yd?gd=yd=e:yd=yd.next=e),vd=!0,bd||(bd=!0,uu((function(){0!==(6&rl)?X(ne,Rd):Cd()})))}function kd(e,t){if(!_d&&vd){_d=!0;do{for(var r=!1,n=gd;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-he(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(r=!0,xd(n,i))}else i=il,0===(3&(i=ve(n,n===nl?i:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||_e(n,i)||(r=!0,xd(n,i));n=n.next}}while(r);_d=!1}}function Rd(){Cd()}function Cd(){vd=bd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=wd),wd=0);for(var t=te(),r=null,n=gd;null!==n;){var a=n.next,i=Pd(n,t);0===i?(n.next=null,null===r?gd=a:r.next=a,null===a&&(yd=r)):(r=n,(0!==e||0!==(3&i))&&(vd=!0)),n=a}kd(e,!1)}function Pd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-he(i),o=1<<s,c=a[s];-1===c?0!==(o&r)&&0===(o&n)||(a[s]=we(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}if(r=il,r=ve(e,e===(t=nl)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===sl||9===sl)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&J(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||_e(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&J(n),Ee(r)){case 2:case 8:r=ae;break;case 32:default:r=ie;break;case 268435456:r=oe}return n=Td.bind(null,e),r=X(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&J(n),e.callbackPriority=2,e.callbackNode=null,2}function Td(e,t){if(0!==Cl&&5!==Cl)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(od()&&e.callbackNode!==r)return null;var n=il;return 0===(n=ve(e,e===nl?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Al(e,n,t),Pd(e,te()),null!=e.callbackNode&&e.callbackNode===r?Td.bind(null,e):null)}function xd(e,t){if(od())return null;Al(e,t,!0)}function Ed(){return 0===wd&&(wd=Se()),wd}function Dd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Et(""+e)}function Ld(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Od=0;Od<wn.length;Od++){var Id=wn[Od];Sn(Id.toLowerCase(),"on"+(Id[0].toUpperCase()+Id.slice(1)))}Sn(hn,"onAnimationEnd"),Sn(fn,"onAnimationIteration"),Sn(mn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(gn,"onTransitionRun"),Sn(yn,"onTransitionStart"),Sn(bn,"onTransitionCancel"),Sn(vn,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function jd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=l;try{i(a)}catch(d){yo(d)}a.currentTarget=null,i=c}else for(s=0;s<n.length;s++){if(c=(o=n[s]).instance,l=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=l;try{i(a)}catch(d){yo(d)}a.currentTarget=null,i=c}}}}function Ad(e,t){var r=t[Ne];void 0===r&&(r=t[Ne]=new Set);var n=e+"__bubble";r.has(n)||(Ud(t,e,2,!1),r.add(n))}function Fd(e,t,r){var n=0;t&&(n|=4),Ud(r,e,n,t)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[zd]){e[zd]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Nd.has(t)||Fd(t,!1,e),Fd(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zd]||(t[zd]=!0,Fd("selectionchange",!1,t))}}function Ud(e,t,r,n){switch(lp(t)){case 2:var a=np;break;case 8:a=ap;break;default:a=ip}r=a.bind(null,t,r,e),a=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $d(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Ue(o)))return;if(5===(l=s.tag)||6===l||26===l||27===l){n=i=s;continue e}o=o.parentNode}}n=n.return}jt((function(){var n=i,a=Lt(r),s=[];e:{var o=_n.get(e);if(void 0!==o){var l=Zt,d=e;switch(e){case"keypress":if(0===Vt(r))break e;case"keydown":case"keyup":l=fr;break;case"focusin":d="focus",l=ir;break;case"focusout":d="blur",l=ir;break;case"beforeblur":case"afterblur":l=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gr;break;case hn:case fn:case mn:l=sr;break;case vn:l=yr;break;case"scroll":case"scrollend":l=tr;break;case"wheel":l=br;break;case"copy":case"cut":case"paste":l=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mr;break;case"toggle":case"beforetoggle":l=vr}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=n;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=At(m,h))&&u.push(Hd(m,g,f)),p)break;m=m.return}0<u.length&&(o=new l(o,d,null,r,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Dt||!(d=r.relatedTarget||r.fromElement)||!Ue(d)&&!d[Me])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(d=(d=r.relatedTarget||r.toElement)?Ue(d):null)&&(p=c(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(l=null,d=n),l!==d)){if(u=nr,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=mr,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==l?o:He(l),f=null==d?o:He(d),(o=new u(g,m+"leave",l,r,a)).target=p,o.relatedTarget=f,g=null,Ue(a)===n&&((u=new u(h,m+"enter",d,r,a)).target=f,u.relatedTarget=p,g=u),p=g,l&&d)e:{for(h=d,m=0,f=u=l;f;f=Vd(f))m++;for(f=0,g=h;g;g=Vd(g))f++;for(;0<m-f;)u=Vd(u),m--;for(;0<f-m;)h=Vd(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vd(u),h=Vd(h)}u=null}else u=null;null!==l&&Kd(s,o,l,u,!1),null!==d&&null!==p&&Kd(s,p,d,u,!0)}if("select"===(l=(o=n?He(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var y=Ar;else if(Lr(o))if(Fr)y=Wr;else{y=Vr;var b=qr}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Pt(n.elementType)&&(y=Ar):y=Kr;switch(y&&(y=y(e,n))?Or(s,y,r,a):(b&&b(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&bt(o,"number",o.value)),b=n?He(n):window,e){case"focusin":(Lr(b)||"true"===b.contentEditable)&&(rn=b,nn=n,an=null);break;case"focusout":an=nn=rn=null;break;case"mousedown":sn=!0;break;case"contextmenu":case"mouseup":case"dragend":sn=!1,on(s,r,a);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":on(s,r,a)}var v;if(wr)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Er?Tr(e,r)&&(_="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(_="onCompositionStart");_&&(Rr&&"ko"!==r.locale&&(Er||"onCompositionStart"!==_?"onCompositionEnd"===_&&Er&&(v=qt()):($t="value"in(Ut=a)?Ut.value:Ut.textContent,Er=!0)),0<(b=qd(n,_)).length&&(_=new cr(_,e,null,r,a),s.push({event:_,listeners:b}),v?_.data=v:null!==(v=xr(r))&&(_.data=v))),(v=kr?function(e,t){switch(e){case"compositionend":return xr(t);case"keypress":return 32!==t.which?null:(Pr=!0,Cr);case"textInput":return(e=t.data)===Cr&&Pr?null:e;default:return null}}(e,r):function(e,t){if(Er)return"compositionend"===e||!wr&&Tr(e,t)?(e=qt(),Ht=$t=Ut=null,Er=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(_=qd(n,"onBeforeInput")).length&&(b=new cr("onBeforeInput","beforeinput",null,r,a),s.push({event:b,listeners:_}),b.data=v)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var i=Dd((a[Ie]||null).action),s=n.submitter;s&&null!==(t=(t=s[Ie]||null)?Dd(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==wd){var e=s?Ld(a,s):new FormData(a);Ds(r,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Ld(a,s):new FormData(a),Ds(r,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,n,r,a)}jd(s,t)}))}function Hd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qd(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=At(e,r))&&n.unshift(Hd(e,a,i)),null!=(a=At(e,t))&&n.push(Hd(e,a,i))),3===e.tag)return n;e=e.return}return[]}function Vd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kd(e,t,r,n,a){for(var i=t._reactName,s=[];null!==r&&r!==n;){var o=r,c=o.alternate,l=o.stateNode;if(o=o.tag,null!==c&&c===n)break;5!==o&&26!==o&&27!==o||null===l||(c=l,a?null!=(l=At(r,i))&&s.unshift(Hd(r,l,c)):a||null!=(l=At(r,i))&&s.push(Hd(r,l,c))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Wd=/\r\n?/g,Qd=/\u0000|\uFFFD/g;function Gd(e){return("string"===typeof e?e:""+e).replace(Wd,"\n").replace(Qd,"")}function Yd(e,t){return t=Gd(t),Gd(e)===t}function Xd(){}function Jd(e,t,r,n,a,i){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||St(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&St(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":Ct(e,n,i);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Et(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===r?("input"!==t&&Jd(e,t,"name",a.name,a,null),Jd(e,t,"formEncType",a.formEncType,a,null),Jd(e,t,"formMethod",a.formMethod,a,null),Jd(e,t,"formTarget",a.formTarget,a,null)):(Jd(e,t,"encType",a.encType,a,null),Jd(e,t,"method",a.method,a,null),Jd(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Et(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Xd);break;case"onScroll":null!=n&&Ad("scroll",e);break;case"onScrollEnd":null!=n&&Ad("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Et(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Ad("beforetoggle",e),Ad("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Tt.get(r)||r,n)}}function Zd(e,t,r,n,a,i){switch(r){case"style":Ct(e,n,i);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"children":"string"===typeof n?St(e,n):("number"===typeof n||"bigint"===typeof n)&&St(e,""+n);break;case"onScroll":null!=n&&Ad("scroll",e);break;case"onScrollEnd":null!=n&&Ad("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Xd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(i=null!=(i=e[Ie]||null)?i[r]:null)&&e.removeEventListener(t,i,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof i&&null!==i&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function eu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ad("error",e),Ad("load",e);var n,a=!1,i=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Jd(e,t,n,o,r,null)}}return i&&Jd(e,t,"srcSet",r.srcSet,r,null),void(a&&Jd(e,t,"src",r.src,r,null));case"input":Ad("invalid",e);var c=n=o=i=null,l=null,d=null;for(a in r)if(r.hasOwnProperty(a)){var u=r[a];if(null!=u)switch(a){case"name":i=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":c=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:Jd(e,t,a,u,r,null)}}return yt(e,n,c,l,d,o,i,!1),void ut(e);case"select":for(i in Ad("invalid",e),a=o=n=null,r)if(r.hasOwnProperty(i)&&null!=(c=r[i]))switch(i){case"value":n=c;break;case"defaultValue":o=c;break;case"multiple":a=c;default:Jd(e,t,i,c,r,null)}return t=n,r=o,e.multiple=!!a,void(null!=t?vt(e,!!a,t,!1):null!=r&&vt(e,!!a,r,!0));case"textarea":for(o in Ad("invalid",e),n=i=a=null,r)if(r.hasOwnProperty(o)&&null!=(c=r[o]))switch(o){case"value":a=c;break;case"defaultValue":i=c;break;case"children":n=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(s(91));break;default:Jd(e,t,o,c,r,null)}return wt(e,a,i,n),void ut(e);case"option":for(l in r)if(r.hasOwnProperty(l)&&null!=(a=r[l]))if("selected"===l)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Jd(e,t,l,a,r,null);return;case"dialog":Ad("beforetoggle",e),Ad("toggle",e),Ad("cancel",e),Ad("close",e);break;case"iframe":case"object":Ad("load",e);break;case"video":case"audio":for(a=0;a<Md.length;a++)Ad(Md[a],e);break;case"image":Ad("error",e),Ad("load",e);break;case"details":Ad("toggle",e);break;case"embed":case"source":case"link":Ad("error",e),Ad("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(a=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Jd(e,t,d,a,r,null)}return;default:if(Pt(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(a=r[u])&&Zd(e,t,u,a,r,void 0));return}}for(c in r)r.hasOwnProperty(c)&&(null!=(a=r[c])&&Jd(e,t,c,a,r,null))}var tu=null,ru=null;function nu(e){return 9===e.nodeType?e:e.ownerDocument}function au(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function su(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var cu="function"===typeof setTimeout?setTimeout:void 0,lu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(pu)}:cu;function pu(e){setTimeout((function(){throw e}))}function hu(e){return"head"===e}function fu(e,t){var r=t,n=0,a=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0<n&&8>n){r=n;var s=e.ownerDocument;if(1&r&&wu(s.documentElement),2&r&&wu(s.body),4&r)for(wu(r=s.head),s=r.firstChild;s;){var o=s.nextSibling,c=s.nodeName;s[ze]||"SCRIPT"===c||"STYLE"===c||"LINK"===c&&"stylesheet"===s.rel.toLowerCase()||r.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Tp(t);a--}else"$"===r||"$?"===r||"$!"===r?a++:n=r.charCodeAt(0)-48;else n=0;r=i}while(r);Tp(t)}function mu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mu(r),Be(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bu=null;function vu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function _u(e,t,r){switch(t=nu(r),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Su=new Map,ku=new Set;function Ru(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cu=N.d;N.d={f:function(){var e=Cu.f(),t=Ul();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Os(t):Cu.r(e)},D:function(e){Cu.D(e),Tu("dns-prefetch",e,null)},C:function(e,t){Cu.C(e,t),Tu("preconnect",e,t)},L:function(e,t,r){Cu.L(e,t,r);var n=Pu;if(n&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+mt(r.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Eu(e);break;case"script":i=Ou(e)}Su.has(i)||(e=p({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Su.set(i,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Du(i))||"script"===t&&n.querySelector(Iu(i))||(eu(t=n.createElement("link"),"link",e),Ve(t),n.head.appendChild(t)))}},m:function(e,t){Cu.m(e,t);var r=Pu;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ou(e)}if(!Su.has(i)&&(e=p({rel:"modulepreload",href:e},t),Su.set(i,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Iu(i)))return}eu(n=r.createElement("link"),"link",e),Ve(n),r.head.appendChild(n)}}},X:function(e,t){Cu.X(e,t);var r=Pu;if(r&&e){var n=qe(r).hoistableScripts,a=Ou(e),i=n.get(a);i||((i=r.querySelector(Iu(a)))||(e=p({src:e,async:!0},t),(t=Su.get(a))&&Au(e,t),Ve(i=r.createElement("script")),eu(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}},S:function(e,t,r){Cu.S(e,t,r);var n=Pu;if(n&&e){var a=qe(n).hoistableStyles,i=Eu(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Du(i)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Su.get(i))&&ju(e,r);var c=s=n.createElement("link");Ve(c),eu(c,"link",e),c._p=new Promise((function(e,t){c.onload=e,c.onerror=t})),c.addEventListener("load",(function(){o.loading|=1})),c.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Nu(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Cu.M(e,t);var r=Pu;if(r&&e){var n=qe(r).hoistableScripts,a=Ou(e),i=n.get(a);i||((i=r.querySelector(Iu(a)))||(e=p({src:e,async:!0,type:"module"},t),(t=Su.get(a))&&Au(e,t),Ve(i=r.createElement("script")),eu(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}};var Pu="undefined"===typeof document?null:document;function Tu(e,t,r){var n=Pu;if(n&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),ku.has(a)||(ku.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(eu(t=n.createElement("link"),"link",e),Ve(t),n.head.appendChild(t)))}}function xu(e,t,r,n){var a,i,o,c,l=(l=q.current)?Ru(l):null;if(!l)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Eu(r.href),(n=(r=qe(l).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Eu(r.href);var d=qe(l).hoistableStyles,u=d.get(e);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=l.querySelector(Du(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Su.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Su.set(e,r),d||(a=l,i=e,o=r,c=u.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=a.createElement("link"),c.preload=i,i.addEventListener("load",(function(){return c.loading|=1})),i.addEventListener("error",(function(){return c.loading|=2})),eu(i,"link",o),Ve(i),a.head.appendChild(i))))),t&&null===n)throw Error(s(528,""));return u}if(t&&null!==n)throw Error(s(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ou(r),(n=(r=qe(l).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Eu(e){return'href="'+mt(e)+'"'}function Du(e){return'link[rel="stylesheet"]['+e+"]"}function Lu(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Ou(e){return'[src="'+mt(e)+'"]'}function Iu(e){return"script[async]"+e}function Mu(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(r.href)+'"]');if(n)return t.instance=n,Ve(n),n;var a=p({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ve(n=(e.ownerDocument||e).createElement("style")),eu(n,"style",a),Nu(n,r.precedence,e),t.instance=n;case"stylesheet":a=Eu(r.href);var i=e.querySelector(Du(a));if(i)return t.state.loading|=4,t.instance=i,Ve(i),i;n=Lu(r),(a=Su.get(a))&&ju(n,a),Ve(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(i,"link",n),t.state.loading|=4,Nu(i,r.precedence,e),t.instance=i;case"script":return i=Ou(r.src),(a=e.querySelector(Iu(i)))?(t.instance=a,Ve(a),a):(n=r,(a=Su.get(i))&&Au(n=p({},r),a),Ve(a=(e=e.ownerDocument||e).createElement("script")),eu(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Nu(n,r.precedence,e));return t.instance}function Nu(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function ju(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Au(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fu=null;function zu(e,t,r){if(null===Fu){var n=new Map,a=Fu=new Map;a.set(r,n)}else(n=(a=Fu).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[ze]||i[Oe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function Bu(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var $u=null;function Hu(){}function qu(){if(this.count--,0===this.count)if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vu=null;function Ku(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vu=new Map,t.forEach(Wu,e),Vu=null,qu.call(e))}function Wu(e,t){if(!(4&t.state.loading)){var r=Vu.get(e);if(r)var n=r.get(null);else{r=new Map,Vu.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}s=(a=t.instance).getAttribute("data-precedence"),(i=r.get(s)||n)===n&&r.set(null,a),r.set(s,a),this.count++,n=qu.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qu={$$typeof:w,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Gu(e,t,r,n,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yu(e,t,r,n,a,i,s,o,c,l,d,u){return e=new Gu(e,t,r,s,o,c,l,u),t=1,!0===i&&(t|=24),i=jn(3,null,null,t),e.current=i,i.stateNode=e,(t=Ia()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},ri(i),e}function Xu(e){return e?e=Mn:Mn}function Ju(e,t,r,n,a,i){a=Xu(a),null===n.context?n.context=a:n.pendingContext=a,(n=ai(t)).payload={element:r},null!==(i=void 0===i?null:i)&&(n.callback=i),null!==(r=ii(e,n,t))&&(jl(r,0,t),si(r,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ep(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tp(e){if(13===e.tag){var t=Ln(e,67108864);null!==t&&jl(t,0,67108864),ep(e,67108864)}}var rp=!0;function np(e,t,r,n){var a=M.T;M.T=null;var i=N.p;try{N.p=2,ip(e,t,r,n)}finally{N.p=i,M.T=a}}function ap(e,t,r,n){var a=M.T;M.T=null;var i=N.p;try{N.p=8,ip(e,t,r,n)}finally{N.p=i,M.T=a}}function ip(e,t,r,n){if(rp){var a=sp(n);if(null===a)$d(e,t,n,op,r),bp(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return up=vp(up,e,t,r,n,a),!0;case"dragenter":return pp=vp(pp,e,t,r,n,a),!0;case"mouseover":return hp=vp(hp,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return fp.set(i,vp(fp.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,mp.set(i,vp(mp.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(bp(e,n),4&t&&-1<yp.indexOf(e)){for(;null!==a;){var i=$e(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=be(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var c=1<<31-he(s);o.entanglements[1]|=c,s&=~c}Sd(i),0===(6&rl)&&(Sl=te()+500,kd(0,!1))}}break;case 13:null!==(o=Ln(i,2))&&jl(o,0,2),Ul(),ep(i,2)}if(null===(i=sp(n))&&$d(e,t,n,op,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else $d(e,t,n,null,r)}}function sp(e){return cp(e=Lt(e))}var op=null;function cp(e){if(op=null,null!==(e=Ue(e))){var t=c(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=l(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return op=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dp=!1,up=null,pp=null,hp=null,fp=new Map,mp=new Map,gp=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(e,t){switch(e){case"focusin":case"focusout":up=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(t.pointerId)}}function vp(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=$e(t))&&tp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function _p(e){var t=Ue(e.target);if(null!==t){var r=c(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=l(r)))return e.blockedOn=t,void function(e,t){var r=N.p;try{return N.p=e,t()}finally{N.p=r}}(e.priority,(function(){if(13===r.tag){var e=Ml();e=xe(e);var t=Ln(r,e);null!==t&&jl(t,0,e),ep(r,e)}}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=sp(e.nativeEvent);if(null!==r)return null!==(t=$e(r))&&tp(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Dt=n,r.target.dispatchEvent(n),Dt=null,t.shift()}return!0}function Sp(e,t,r){wp(e)&&r.delete(t)}function kp(){dp=!1,null!==up&&wp(up)&&(up=null),null!==pp&&wp(pp)&&(pp=null),null!==hp&&wp(hp)&&(hp=null),fp.forEach(Sp),mp.forEach(Sp)}function Rp(e,t){e.blockedOn===t&&(e.blockedOn=null,dp||(dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kp)))}var Cp=null;function Pp(e){Cp!==e&&(Cp=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,(function(){Cp===e&&(Cp=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===cp(n||r))continue;break}var i=$e(r);null!==i&&(e.splice(t,3),t-=3,Ds(i,{pending:!0,data:a,method:r.method,action:n},n,a))}})))}function Tp(e){function t(t){return Rp(t,e)}null!==up&&Rp(up,e),null!==pp&&Rp(pp,e),null!==hp&&Rp(hp,e),fp.forEach(t),mp.forEach(t);for(var r=0;r<gp.length;r++){var n=gp[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<gp.length&&null===(r=gp[0]).blockedOn;)_p(r),null===r.blockedOn&&gp.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],s=a[Ie]||null;if("function"===typeof i)s||Pp(r);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Ie]||null)o=s.formAction;else if(null!==cp(a))continue}else o=s.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Pp(r)}}}function xp(e){this._internalRoot=e}function Ep(e){this._internalRoot=e}Ep.prototype.render=xp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Ju(t.current,Ml(),e,t,null,null)},Ep.prototype.unmount=xp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Ju(e.current,2,null,e,null,null),Ul(),t[Me]=null}},Ep.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gp.length&&0!==t&&t<gp[r].priority;r++);gp.splice(r,0,e),0===r&&_p(e)}};var Dp=a.version;if("19.1.0"!==Dp)throw Error(s(527,Dp,"19.1.0"));N.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return d(a),e;if(i===n)return d(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Lp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{de=Op.inject(Lp),ue=Op}catch(Mp){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,n="",a=bo,i=vo,c=_o;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yu(e,1,!1,null,0,r,n,a,i,c,0,null),e[Me]=t.current,Bd(e),new xp(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var n=!1,a="",i=bo,c=vo,l=_o,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(i=r.onUncaughtError),void 0!==r.onCaughtError&&(c=r.onCaughtError),void 0!==r.onRecoverableError&&(l=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(d=r.formState)),(t=Yu(e,1,!0,t,0,n,a,i,c,l,0,d)).context=Xu(null),r=t.current,(a=ai(n=xe(n=Ml()))).callback=null,ii(r,a,n),r=n,t.current.lanes=r,Ce(t,r),Sd(t),e[Me]=t.current,Bd(e),new Ep(t)},t.version="19.1.0"},7163:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const a=n(r(6522)),i="h264-profile-level-id";t.Logger=class{constructor(e){e?(this._debug=(0,a.default)(`${i}:${e}`),this._warn=(0,a.default)(`${i}:WARN:${e}`),this._error=(0,a.default)(`${i}:ERROR:${e}`)):(this._debug=(0,a.default)(i),this._warn=(0,a.default)(`${i}:WARN`),this._error=(0,a.default)(`${i}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},7340:e=>{var t=1e3,r=60*t,n=60*r,a=24*n,i=7*a,s=365.25*a;function o(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}e.exports=function(e,c){c=c||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!o)return;var c=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*a;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&isFinite(e))return c.long?function(e){var i=Math.abs(e);if(i>=a)return o(e,i,a,"day");if(i>=n)return o(e,i,n,"hour");if(i>=r)return o(e,i,r,"minute");if(i>=t)return o(e,i,t,"second");return e+" ms"}(e):function(e){var i=Math.abs(e);if(i>=a)return Math.round(e/a)+"d";if(i>=n)return Math.round(e/n)+"h";if(i>=r)return Math.round(e/r)+"m";if(i>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileLevelId=t.Level=t.Profile=void 0,t.parseProfileLevelId=p,t.profileLevelIdToString=h,t.profileToString=function(e){switch(e){case a.ConstrainedBaseline:return"ConstrainedBaseline";case a.Baseline:return"Baseline";case a.Main:return"Main";case a.ConstrainedHigh:return"ConstrainedHigh";case a.High:return"High";case a.PredictiveHigh444:return"PredictiveHigh444";default:return void n.warn(`profileToString() | unrecognized profile ${e}`)}},t.levelToString=function(e){switch(e){case i.L1_b:return"1b";case i.L1:return"1";case i.L1_1:return"1.1";case i.L1_2:return"1.2";case i.L1_3:return"1.3";case i.L2:return"2";case i.L2_1:return"2.1";case i.L2_2:return"2.2";case i.L3:return"3";case i.L3_1:return"3.1";case i.L3_2:return"3.2";case i.L4:return"4";case i.L4_1:return"4.1";case i.L4_2:return"4.2";case i.L5:return"5";case i.L5_1:return"5.1";case i.L5_2:return"5.2";default:return void n.warn(`levelToString() | unrecognized level ${e}`)}},t.parseSdpProfileLevelId=f,t.isSameProfile=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=f(e),n=f(t);return Boolean(r&&n&&r.profile===n.profile)},t.isSameProfileAndLevel=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=f(e),n=f(t);return Boolean(r&&n&&r.profile===n.profile&&r.level==n.level)},t.generateProfileLevelIdStringForAnswer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e["profile-level-id"]&&!t["profile-level-id"])return void n.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");const r=f(e),a=f(t);if(!r)throw new TypeError("invalid local_profile_level_id");if(!a)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==a.profile)throw new TypeError("H264 Profile mismatch");const o=g(e)&&g(t),c=r.level,l=a.level,d=(p=c,m=l,function(e,t){return e===i.L1_b?t!==i.L1&&t!==i.L1_b:t===i.L1_b?e!==i.L1:e<t}(p,m)?p:m),u=o?c:d;var p,m;return n.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${r.profile}, level:${u}]`),h(new s(r.profile,u))},t.supportedLevel=function(e,t){for(let r=u.length-1;r>=0;--r){const a=u[r];if(256*a.max_macroblock_frame_size<=e&&a.max_macroblocks_per_second<=t*a.max_macroblock_frame_size)return n.debug(`supportedLevel() | result [max_frame_pixel_count:${e}, max_fps:${t}, level:${a.level}]`),a.level}return void n.warn(`supportedLevel() | no level supported [max_frame_pixel_count:${e}, max_fps:${t}]`)};const n=new(r(7163).Logger);var a,i;!function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"}(a||(t.Profile=a={})),function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"}(i||(t.Level=i={}));class s{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=s;const o=new s(a.ConstrainedBaseline,i.L3_1);class c{constructor(e){this.mask=~m("x",e),this.masked_value=m("1",e)}isMatch(e){return this.masked_value===(e&this.mask)}}class l{constructor(e,t,r){this.profile_idc=e,this.profile_iop=t,this.profile=r}}const d=[new l(66,new c("x1xx0000"),a.ConstrainedBaseline),new l(77,new c("1xxx0000"),a.ConstrainedBaseline),new l(88,new c("11xx0000"),a.ConstrainedBaseline),new l(66,new c("x0xx0000"),a.Baseline),new l(88,new c("10xx0000"),a.Baseline),new l(77,new c("0x0x0000"),a.Main),new l(100,new c("00000000"),a.High),new l(100,new c("00001100"),a.ConstrainedHigh),new l(244,new c("00000000"),a.PredictiveHigh444)],u=[{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:i.L1},{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:i.L1_b},{max_macroblocks_per_second:3e3,max_macroblock_frame_size:396,level:i.L1_1},{max_macroblocks_per_second:6e3,max_macroblock_frame_size:396,level:i.L1_2},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:i.L1_3},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:i.L2},{max_macroblocks_per_second:19800,max_macroblock_frame_size:792,level:i.L2_1},{max_macroblocks_per_second:20250,max_macroblock_frame_size:1620,level:i.L2_2},{max_macroblocks_per_second:40500,max_macroblock_frame_size:1620,level:i.L3},{max_macroblocks_per_second:108e3,max_macroblock_frame_size:3600,level:i.L3_1},{max_macroblocks_per_second:216e3,max_macroblock_frame_size:5120,level:i.L3_2},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:i.L4},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:i.L4_1},{max_macroblocks_per_second:522240,max_macroblock_frame_size:8704,level:i.L4_2},{max_macroblocks_per_second:589824,max_macroblock_frame_size:22080,level:i.L5},{max_macroblocks_per_second:983040,max_macroblock_frame_size:36864,level:i.L5_1},{max_macroblocks_per_second:2073600,max_macroblock_frame_size:36864,level:i.L5_2}];function p(e){if("string"!==typeof e||6!==e.length)return;const t=parseInt(e,16);if(0===t)return;const r=255&t,a=t>>8&255,o=t>>16&255;let c;switch(r){case i.L1_1:c=0!==(16&a)?i.L1_b:i.L1_1;break;case i.L1:case i.L1_2:case i.L1_3:case i.L2:case i.L2_1:case i.L2_2:case i.L3:case i.L3_1:case i.L3_2:case i.L4:case i.L4_1:case i.L4_2:case i.L5:case i.L5_1:case i.L5_2:c=r;break;default:return void n.warn(`parseProfileLevelId() | unrecognized level_idc [str:${e}, level_idc:${r}]`)}for(const i of d)if(o===i.profile_idc&&i.profile_iop.isMatch(a))return n.debug(`parseProfileLevelId() | result [str:${e}, profile:${i.profile}, level:${c}]`),new s(i.profile,c);n.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${e}, profile_idc:${o}, profile_iop:${a}]`)}function h(e){if(e.level==i.L1_b)switch(e.profile){case a.ConstrainedBaseline:return"42f00b";case a.Baseline:return"42100b";case a.Main:return"4d100b";default:return void n.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${e.profile}`)}let t;switch(e.profile){case a.ConstrainedBaseline:t="42e0";break;case a.Baseline:t="4200";break;case a.Main:t="4d00";break;case a.ConstrainedHigh:t="640c";break;case a.High:t="6400";break;case a.PredictiveHigh444:t="f400";break;default:return void n.warn(`profileLevelIdToString() | unrecognized profile ${e.profile}`)}let r=e.level.toString(16);return 1===r.length&&(r=`0${r}`),`${t}${r}`}function f(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["profile-level-id"];return e?p(e):o}function m(e,t){return Number(t[0]===e)<<7|Number(t[1]===e)<<6|Number(t[2]===e)<<5|Number(t[3]===e)<<4|Number(t[4]===e)<<3|Number(t[5]===e)<<2|Number(t[6]===e)<<1|Number(t[7]===e)}function g(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["level-asymmetry-allowed"];return!0===e||1===e||"1"===e}},7849:(e,t,r)=>{"use strict";const n=r(8988);function a(){return String(n.generateRandomNumber())}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},7964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const n=r(2669),a=r(2097),i=r(9642),s=r(9398),o=r(8988),c=r(5809),l=r(4315),d=r(8021),u=r(5275),p=r(4357),h=new a.Logger("Transport");class f{consumerOptions;promise;resolve;reject;constructor(e){this.consumerOptions=e,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class m extends i.EnhancedEventEmitter{_id;_closed=!1;_direction;_extendedRtpCapabilities;_canProduceByKind;_maxSctpMessageSize;_handler;_iceGatheringState="new";_connectionState="new";_appData;_producers=(()=>new Map)();_consumers=(()=>new Map)();_dataProducers=(()=>new Map)();_dataConsumers=(()=>new Map)();_probatorConsumerCreated=!1;_awaitQueue=(()=>new n.AwaitQueue)();_pendingConsumerTasks=[];_consumerCreationInProgress=!1;_pendingPauseConsumers=(()=>new Map)();_consumerPauseInProgress=!1;_pendingResumeConsumers=(()=>new Map)();_consumerResumeInProgress=!1;_pendingCloseConsumers=(()=>new Map)();_consumerCloseInProgress=!1;_observer=(()=>new i.EnhancedEventEmitter)();constructor(e){let{direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:s,iceServers:c,iceTransportPolicy:l,additionalSettings:d,proprietaryConstraints:u,appData:p,handlerFactory:f,extendedRtpCapabilities:m,canProduceByKind:g}=e;super(),h.debug("constructor() [id:%s, direction:%s]",r,t),this._id=r,this._direction=t,this._extendedRtpCapabilities=m,this._canProduceByKind=g,this._maxSctpMessageSize=s?s.maxMessageSize:null;const y=o.clone(d)??{};delete y.iceServers,delete y.iceTransportPolicy,delete y.bundlePolicy,delete y.rtcpMuxPolicy,delete y.sdpSemantics,this._handler=f(),this._handler.run({direction:t,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:s,iceServers:c,iceTransportPolicy:l,additionalSettings:y,proprietaryConstraints:u,extendedRtpCapabilities:m}),this._appData=p??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){if(!this._closed){h.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new s.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce(e){let{iceParameters:t}=e;if(h.debug("restartIce()"),this._closed)throw new s.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push((async()=>await this._handler.restartIce(t)),"transport.restartIce()")}async updateIceServers(){let{iceServers:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h.debug("updateIceServers()"),this._closed)throw new s.InvalidStateError("closed");if(!Array.isArray(e))throw new TypeError("missing iceServers");return this._awaitQueue.push((async()=>this._handler.updateIceServers(e)),"transport.updateIceServers()")}async produce(){let{track:e,encodings:t,codecOptions:r,codec:n,stopTracks:a=!0,disableTrackOnPause:i=!0,zeroRtpOnPause:o=!1,onRtpSender:d,appData:u={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h.debug("produce() [track:%o]",e),this._closed)throw new s.InvalidStateError("closed");if(!e)throw new TypeError("missing track");if("send"!==this._direction)throw new s.UnsupportedError("not a sending Transport");if(!this._canProduceByKind[e.kind])throw new s.UnsupportedError(`cannot produce ${e.kind}`);if("ended"===e.readyState)throw new s.InvalidStateError("track ended");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("produce"))throw new TypeError('no "produce" listener set into this transport');if(u&&"object"!==typeof u)throw new TypeError("if given, appData must be an object");return this._awaitQueue.push((async()=>{let s;if(t&&!Array.isArray(t))throw TypeError("encodings must be an array");t&&0===t.length?s=void 0:t&&(s=t.map((e=>{const t={active:!0};return!1===e.active&&(t.active=!1),"boolean"===typeof e.dtx&&(t.dtx=e.dtx),"string"===typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"===typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"===typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"===typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"===typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"===typeof e.priority&&(t.priority=e.priority),"string"===typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t})));const{localId:p,rtpParameters:h,rtpSender:f}=await this._handler.send({track:e,encodings:s,codecOptions:r,codec:n,onRtpSender:d});try{c.validateRtpParameters(h);const{id:t}=await new Promise(((t,r)=>{this.safeEmit("produce",{kind:e.kind,rtpParameters:h,appData:u},t,r)})),r=new l.Producer({id:t,localId:p,rtpSender:f,track:e,rtpParameters:h,stopTracks:a,disableTrackOnPause:i,zeroRtpOnPause:o,appData:u});return this._producers.set(r.id,r),this.handleProducer(r),this._observer.safeEmit("newproducer",r),r}catch(m){throw this._handler.stopSending(p).catch((()=>{})),m}}),"transport.produce()").catch((t=>{if(a)try{e.stop()}catch(r){}throw t}))}async consume(e){let{id:t,producerId:r,kind:n,rtpParameters:a,streamId:i,onRtpReceiver:l,appData:d={}}=e;if(h.debug("consume()"),this._closed)throw new s.InvalidStateError("closed");if("recv"!==this._direction)throw new s.UnsupportedError("not a receiving Transport");if("string"!==typeof t)throw new TypeError("missing id");if("string"!==typeof r)throw new TypeError("missing producerId");if("audio"!==n&&"video"!==n)throw new TypeError(`invalid kind '${n}'`);if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(d&&"object"!==typeof d)throw new TypeError("if given, appData must be an object");const u=o.clone(a);if(!c.canReceive(u,this._extendedRtpCapabilities))throw new s.UnsupportedError("cannot consume this Producer");const p=new f({id:t,producerId:r,kind:n,rtpParameters:u,streamId:i,onRtpReceiver:l,appData:d});return this._pendingConsumerTasks.push(p),queueMicrotask((()=>{this._closed||!1===this._consumerCreationInProgress&&this.createPendingConsumers()})),p.promise}async produceData(){let{ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:r,label:n="",protocol:a="",appData:i={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h.debug("produceData()"),this._closed)throw new s.InvalidStateError("closed");if("send"!==this._direction)throw new s.UnsupportedError("not a sending Transport");if(!this._maxSctpMessageSize)throw new s.UnsupportedError("SCTP not enabled by remote Transport");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("producedata"))throw new TypeError('no "producedata" listener set into this transport');if(i&&"object"!==typeof i)throw new TypeError("if given, appData must be an object");return(t||r)&&(e=!1),this._awaitQueue.push((async()=>{const{dataChannel:s,sctpStreamParameters:o}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:r,label:n,protocol:a});c.validateSctpStreamParameters(o);const{id:l}=await new Promise(((e,t)=>{this.safeEmit("producedata",{sctpStreamParameters:o,label:n,protocol:a,appData:i},e,t)})),d=new u.DataProducer({id:l,dataChannel:s,sctpStreamParameters:o,appData:i});return this._dataProducers.set(d.id,d),this.handleDataProducer(d),this._observer.safeEmit("newdataproducer",d),d}),"transport.produceData()")}async consumeData(e){let{id:t,dataProducerId:r,sctpStreamParameters:n,label:a="",protocol:i="",appData:l={}}=e;if(h.debug("consumeData()"),this._closed)throw new s.InvalidStateError("closed");if("recv"!==this._direction)throw new s.UnsupportedError("not a receiving Transport");if(!this._maxSctpMessageSize)throw new s.UnsupportedError("SCTP not enabled by remote Transport");if("string"!==typeof t)throw new TypeError("missing id");if("string"!==typeof r)throw new TypeError("missing dataProducerId");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(l&&"object"!==typeof l)throw new TypeError("if given, appData must be an object");const d=o.clone(n);return c.validateSctpStreamParameters(d),this._awaitQueue.push((async()=>{const{dataChannel:e}=await this._handler.receiveDataChannel({sctpStreamParameters:d,label:a,protocol:i}),n=new p.DataConsumer({id:t,dataProducerId:r,dataChannel:e,sctpStreamParameters:d,appData:l});return this._dataConsumers.set(n.id,n),this.handleDataConsumer(n),this._observer.safeEmit("newdataconsumer",n),n}),"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingConsumerTasks.length)return void h.debug("createPendingConsumers() | there is no Consumer to be created");const e=[...this._pendingConsumerTasks];let t;this._pendingConsumerTasks=[];const r=[];for(const a of e){const{id:e,kind:t,rtpParameters:n,streamId:i,onRtpReceiver:s}=a.consumerOptions;r.push({trackId:e,kind:t,rtpParameters:n,streamId:i,onRtpReceiver:s})}try{const n=await this._handler.receive(r);for(let r=0;r<n.length;++r){const a=e[r],i=n[r],{id:s,producerId:o,kind:c,rtpParameters:l,appData:u}=a.consumerOptions,{localId:p,rtpReceiver:h,track:f}=i,m=new d.Consumer({id:s,localId:p,producerId:o,rtpReceiver:h,track:f,rtpParameters:l,appData:u});this._consumers.set(m.id,m),this.handleConsumer(m),this._probatorConsumerCreated||t||"video"!==c||(t=m),this._observer.safeEmit("newconsumer",m),a.resolve(m)}}catch(n){for(const t of e)t.reject(n)}if(t)try{const e=c.generateProbatorRtpParameters(t.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:e}]),h.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(n){h.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",n)}}),"transport.createPendingConsumers()").then((()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()})).catch((()=>{}))}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingPauseConsumers.size)return void h.debug("pausePendingConsumers() | there is no Consumer to be paused");const e=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const t=e.map((e=>e.localId));await this._handler.pauseReceiving(t)}catch(t){h.error("pausePendingConsumers() | failed to pause Consumers:",t)}}),"transport.pausePendingConsumers").then((()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()})).catch((()=>{}))}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingResumeConsumers.size)return void h.debug("resumePendingConsumers() | there is no Consumer to be resumed");const e=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const t=e.map((e=>e.localId));await this._handler.resumeReceiving(t)}catch(t){h.error("resumePendingConsumers() | failed to resume Consumers:",t)}}),"transport.resumePendingConsumers").then((()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()})).catch((()=>{}))}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push((async()=>{if(0===this._pendingCloseConsumers.size)return void h.debug("closePendingConsumers() | there is no Consumer to be closed");const e=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(e.map((e=>e.localId)))}catch(t){h.error("closePendingConsumers() | failed to close Consumers:",t)}}),"transport.closePendingConsumers").then((()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()})).catch((()=>{}))}handleHandler(){const e=this._handler;e.on("@connect",((e,t,r)=>{let{dtlsParameters:n}=e;this._closed?r(new s.InvalidStateError("closed")):this.safeEmit("connect",{dtlsParameters:n},t,r)})),e.on("@icegatheringstatechange",(e=>{e!==this._iceGatheringState&&(h.debug("ICE gathering state changed to %s",e),this._iceGatheringState=e,this._closed||this.safeEmit("icegatheringstatechange",e))})),e.on("@icecandidateerror",(e=>{h.warn(`ICE candidate error [url:${e.url}, localAddress:${e.address}, localPort:${e.port}]: ${e.errorCode} "${e.errorText}"`),this.safeEmit("icecandidateerror",e)})),e.on("@connectionstatechange",(e=>{e!==this._connectionState&&(h.debug("connection state changed to %s",e),this._connectionState=e,this._closed||this.safeEmit("connectionstatechange",e))}))}handleProducer(e){e.on("@close",(()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push((async()=>await this._handler.stopSending(e.localId)),"producer @close event").catch((e=>h.warn("producer.close() failed:%o",e)))})),e.on("@pause",((t,r)=>{this._awaitQueue.push((async()=>await this._handler.pauseSending(e.localId)),"producer @pause event").then(t).catch(r)})),e.on("@resume",((t,r)=>{this._awaitQueue.push((async()=>await this._handler.resumeSending(e.localId)),"producer @resume event").then(t).catch(r)})),e.on("@replacetrack",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.replaceTrack(e.localId,t)),"producer @replacetrack event").then(r).catch(n)})),e.on("@setmaxspatiallayer",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.setMaxSpatialLayer(e.localId,t)),"producer @setmaxspatiallayer event").then(r).catch(n)})),e.on("@setrtpencodingparameters",((t,r,n)=>{this._awaitQueue.push((async()=>await this._handler.setRtpEncodingParameters(e.localId,t)),"producer @setrtpencodingparameters event").then(r).catch(n)})),e.on("@getstats",((t,r)=>{if(this._closed)return r(new s.InvalidStateError("closed"));this._handler.getSenderStats(e.localId).then(t).catch(r)}))}handleConsumer(e){e.on("@close",(()=>{this._consumers.delete(e.id),this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.delete(e.id),this._closed||(this._pendingCloseConsumers.set(e.id,e),!1===this._consumerCloseInProgress&&this.closePendingConsumers())})),e.on("@pause",(()=>{this._pendingResumeConsumers.has(e.id)&&this._pendingResumeConsumers.delete(e.id),this._pendingPauseConsumers.set(e.id,e),queueMicrotask((()=>{this._closed||!1===this._consumerPauseInProgress&&this.pausePendingConsumers()}))})),e.on("@resume",(()=>{this._pendingPauseConsumers.has(e.id)&&this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.set(e.id,e),queueMicrotask((()=>{this._closed||!1===this._consumerResumeInProgress&&this.resumePendingConsumers()}))})),e.on("@getstats",((t,r)=>{if(this._closed)return r(new s.InvalidStateError("closed"));this._handler.getReceiverStats(e.localId).then(t).catch(r)}))}handleDataProducer(e){e.on("@close",(()=>{this._dataProducers.delete(e.id)}))}handleDataConsumer(e){e.on("@close",(()=>{this._dataConsumers.delete(e.id)}))}}t.Transport=m},8021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=void 0;const n=r(2097),a=r(9642),i=r(9398),s=new n.Logger("Consumer");class o extends a.EnhancedEventEmitter{_id;_localId;_producerId;_closed=!1;_rtpReceiver;_track;_rtpParameters;_paused;_appData;_observer=(()=>new a.EnhancedEventEmitter)();constructor(e){let{id:t,localId:r,producerId:n,rtpReceiver:a,track:i,rtpParameters:o,appData:c}=e;super(),s.debug("constructor()"),this._id=t,this._localId=r,this._producerId=n,this._rtpReceiver=a,this._track=i,this._rtpParameters=o,this._paused=!i.enabled,this._appData=c??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){this._appData=e}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new i.InvalidStateError("closed");return new Promise(((e,t)=>{this.safeEmit("@getstats",e,t)}))}pause(){s.debug("pause()"),this._closed?s.error("pause() | Consumer closed"):this._paused?s.debug("pause() | Consumer is already paused"):(this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause"))}resume(){s.debug("resume()"),this._closed?s.error("resume() | Consumer closed"):this._paused?(this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")):s.debug("resume() | Consumer is already resumed")}onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch(e){}}}t.Consumer=o},8027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome55=void 0;const n=r(9640),a=r(2097),i=r(9398),s=r(8988),o=r(5809),c=r(5467),l=r(9613),d=r(2384),u=r(3054),p=new a.Logger("Chrome55"),h={OS:1024,MIS:1024};class f extends d.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdTrack=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new f}constructor(){super()}get name(){return"Chrome55"}close(){if(p.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){p.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const a=n.parse(r.sdp);return c.extractRtpCapabilities({sdpObject:a})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:h}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:s,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:h}=e;p.debug("run()"),this._direction=t,this._remoteSdp=new u.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:o.getSendingRtpParameters("audio",h),video:o.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:o.getSendingRemoteRtpParameters("audio",h),video:o.getSendingRemoteRtpParameters("video",h)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){p.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(p.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:i}=e;this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&p.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let d,u=await this._pc.createOffer(),h=n.parse(u.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=s.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=o.reduceCodecs(f.codecs);const m=s.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=o.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(p.debug("send() | enabling simulcast"),h=n.parse(u.sdp),d=h.media.find((e=>"video"===e.type)),l.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),u={type:"offer",sdp:n.write(h)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=c.getCname({offerMediaObject:d}),f.encodings=l.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:a});const g={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(y,t),{localId:y,rtpParameters:f}}async stopSending(e){this.assertSendDirection(),p.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(a){if(0===this._sendStream.getTracks().length)return void p.warn("stopSending() | ignoring expected error due no sending tracks: %s",a.toString());throw a}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){throw new i.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new i.UnsupportedError(" not implemented")}async setRtpEncodingParameters(e,t){throw new i.UnsupportedError("not supported")}async getSenderStats(e){throw new i.UnsupportedError("not implemented")}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s};p.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[];for(const n of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=n;p.debug("receive() [trackId:%s, kind:%s]",e,t);const i=t;this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a??r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let a=await this._pc.createAnswer();const i=n.parse(a.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,a=i.media.find((e=>String(e.mid)===r));c.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}a={type:"answer",sdp:n.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const n of e){const{kind:e,trackId:r,rtpParameters:a}=n,i=e,s=r,o=n.streamId??a.rtcp.cname,c=this._pc.getRemoteStreams().find((e=>e.id===o)).getTrackById(s);if(!c)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(s,{mid:i,rtpParameters:a}),t.push({localId:s,track:c})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){p.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new i.UnsupportedError("not implemented")}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:a};p.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=c.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome55=f},8174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfferMediaSection=t.AnswerMediaSection=t.MediaSection=void 0;const n=r(9640),a=r(8988);class i{_mediaObject;_planB;constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:a=!1}=e;if(this._mediaObject={},this._planB=a,t&&this.setIceParameters(t),r){this._mediaObject.candidates=[];for(const e of r){const t={component:1};t.foundation=e.foundation,t.ip=e.address??e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}t.MediaSection=i;t.AnswerMediaSection=class extends i{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:i,plainRtpParameters:o,planB:c=!1,offerMediaObject:l,offerRtpParameters:d,answerRtpParameters:u,codecOptions:p}=e;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:c}),this._mediaObject.mid=String(l.mid),this._mediaObject.type=l.type,this._mediaObject.protocol=l.protocol,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),l.type){case"audio":case"video":this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of u.codecs){const t={payload:e.payloadType,codec:s(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const r=a.clone(e.parameters)??{};let n=a.clone(e.rtcpFeedback)??[];if(p){const{opusStereo:t,opusFec:a,opusDtx:i,opusMaxPlaybackRate:s,opusMaxAverageBitrate:o,opusPtime:c,opusNack:l,videoGoogleStartBitrate:u,videoGoogleMaxBitrate:h,videoGoogleMinBitrate:f}=p,m=d.codecs.find((t=>t.payloadType===e.payloadType));switch(e.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":void 0!==t&&(m.parameters["sprop-stereo"]=t?1:0,r.stereo=t?1:0),void 0!==a&&(m.parameters.useinbandfec=a?1:0,r.useinbandfec=a?1:0),void 0!==i&&(m.parameters.usedtx=i?1:0,r.usedtx=i?1:0),void 0!==s&&(r.maxplaybackrate=s),void 0!==o&&(r.maxaveragebitrate=o),void 0!==c&&(m.parameters.ptime=c,r.ptime=c),l||(m.rtcpFeedback=m.rtcpFeedback.filter((e=>"nack"!==e.type||e.parameter)),n=n.filter((e=>"nack"!==e.type||e.parameter)));break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==u&&(r["x-google-start-bitrate"]=u),void 0!==h&&(r["x-google-max-bitrate"]=h),void 0!==f&&(r["x-google-min-bitrate"]=f)}}const i={payload:e.payloadType,config:""};for(const e of Object.keys(r))i.config&&(i.config+=";"),i.config+=`${e}=${r[e]}`;i.config&&this._mediaObject.fmtp.push(i);for(const a of n)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:a.type,subtype:a.parameter})}this._mediaObject.payloads=u.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const e of u.headerExtensions){(l.ext??[]).some((t=>t.uri===e.uri))&&this._mediaObject.ext.push({uri:e.uri,value:e.id})}if("extmap-allow-mixed"===l.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),l.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:l.simulcast.list1},this._mediaObject.rids=[];for(const e of l.rids??[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}else if(l.simulcast_03){this._mediaObject.simulcast_03={value:l.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const e of l.rids??[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&"video"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag="conference");break;case"application":"number"===typeof l.sctpPort?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize):l.sctpmap&&(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize})}}setDtlsRole(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(e){if(!this._mediaObject.simulcast?.list1)return;const t={};for(const n of e)n.rid&&(t[n.rid]=n);const r=this._mediaObject.simulcast.list1,a=n.parseSimulcastStreamList(r);for(const n of a)for(const e of n)e.paused=!t[e.scid]?.active;this._mediaObject.simulcast.list1=a.map((e=>e.map((e=>`${e.paused?"~":""}${e.scid}`)).join(","))).join(";")}};function s(e){const t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.OfferMediaSection=class extends i{constructor(e){let{iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:a,plainRtpParameters:i,planB:o=!1,mid:c,kind:l,offerRtpParameters:d,streamId:u,trackId:p,oldDataChannelSpec:h=!1}=e;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(c),this._mediaObject.type=l,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.protocol=a?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),l){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${u??"-"} ${p}`);for(const n of d.codecs){const e={payload:n.payloadType,codec:s(n),rate:n.clockRate};n.channels>1&&(e.encoding=n.channels),this._mediaObject.rtp.push(e);const t={payload:n.payloadType,config:""};for(const r of Object.keys(n.parameters))t.config&&(t.config+=";"),t.config+=`${r}=${n.parameters[r]}`;t.config&&this._mediaObject.fmtp.push(t);for(const r of n.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:n.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads=d.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const n of d.headerExtensions)this._mediaObject.ext.push({uri:n.uri,value:n.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const e=d.encodings[0],t=e.ssrc,r=e.rtx?.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],d.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:"cname",value:d.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:"msid",value:`${u??"-"} ${p}`}),r&&(d.rtcp.cname&&this._mediaObject.ssrcs.push({id:r,attribute:"cname",value:d.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:r,attribute:"msid",value:`${u??"-"} ${p}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${t} ${r}`}));break}case"application":h?(this._mediaObject.payloads=a.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:a.port,maxMessageSize:a.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=a.port,this._mediaObject.maxMessageSize=a.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive(e){let{offerRtpParameters:t,streamId:r,trackId:n}=e;const a=t.encodings[0],i=a.ssrc,o=a.rtx?.ssrc,c=this._mediaObject.payloads.split(" ");for(const l of t.codecs){if(c.includes(String(l.payloadType)))continue;const e={payload:l.payloadType,codec:s(l),rate:l.clockRate};l.channels>1&&(e.encoding=l.channels),this._mediaObject.rtp.push(e);const t={payload:l.payloadType,config:""};for(const r of Object.keys(l.parameters))t.config&&(t.config+=";"),t.config+=`${r}=${l.parameters[r]}`;t.config&&this._mediaObject.fmtp.push(t);for(const r of l.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:l.payloadType,type:r.type,subtype:r.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter((e=>!this._mediaObject.payloads.includes(e.payloadType))).map((e=>e.payloadType)).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:`${r??"-"} ${n}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${r??"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${i} ${o}`}))}planBStopReceiving(e){let{offerRtpParameters:t}=e;const r=t.encodings[0],n=r.ssrc,a=r.rtx?.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((e=>e.id!==n&&e.id!==a)),a&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((e=>e.ssrcs!==`${n} ${a}`)))}}},8390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome74=void 0;const n=r(9640),a=r(2097),i=r(8988),s=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new a.Logger("Chrome74"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"Chrome74"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const a=n.parse(r.sdp),i=o.extractRtpCapabilities({sdpObject:a});return l.addNackSupportForOpus(i),i}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",u),video:s.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",u),video:s.getSendingRemoteRtpParameters("video",u)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:l}=e;this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach(((e,t)=>{e.rid=`r${t}`}));const d=i.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=s.reduceCodecs(d.codecs,l);const u=i.clone(this._sendingRemoteRtpParametersByKind[t.kind]);u.codecs=s.reduceCodecs(u.codecs,l);const p=this._remoteSdp.getNextMediaSectionIdx(),m=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let g,y=await this._pc.createOffer(),b=n.parse(y.sdp);b.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b});let v=!1;const _=(0,h.parse)((r??[{}])[0].scalabilityMode);r&&1===r.length&&_.spatialLayers>1&&"video/vp9"===d.codecs[0].mimeType.toLowerCase()&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),v=!0,b=n.parse(y.sdp),g=b.media[p.idx],c.addLegacySimulcast({offerMediaObject:g,numStreams:_.spatialLayers}),y={type:"offer",sdp:n.write(b)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const w=m.mid;if(d.mid=w,b=n.parse(this._pc.localDescription.sdp),g=b.media[p.idx],d.rtcp.cname=o.getCname({offerMediaObject:g}),r)if(1===r.length){let e=c.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],r[0]),v&&(e=[e[0]]),d.encodings=e}else d.encodings=r;else d.encodings=c.getRtpEncodings({offerMediaObject:g});if(d.encodings.length>1&&("video/vp8"===d.codecs[0].mimeType.toLowerCase()||"video/h264"===d.codecs[0].mimeType.toLowerCase()))for(const n of d.encodings)n.scalabilityMode?n.scalabilityMode=`L1T${_.temporalLayers}`:n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:p.reuseMid,offerRtpParameters:d,answerRtpParameters:u,codecOptions:a});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,m),{localId:w,rtpParameters:d,rtpSender:m.sender}}async stopSending(e){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(a){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:a,protocol:s};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a,streamId:i}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const s=a.mid??String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:a,streamId:i??a.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,a=r.get(e),i=s.media.find((e=>String(e.mid)===a));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{trackId:e}=n,a=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===a));if(!i)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(a,i),t.push({localId:a,track:i.receiver.track,rtpReceiver:i.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:a};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=o.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome74=g},8716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome111=void 0;const n=r(9640),a=r(2097),i=r(8988),s=r(5809),o=r(5467),c=r(683),l=r(1581),d=r(9398),u=r(2384),p=r(3054),h=r(3204),f=new a.Logger("Chrome111"),m={OS:1024,MIS:1024};class g extends u.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=(()=>new Map)();_sendStream=(()=>new MediaStream)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new g}constructor(){super()}get name(){return"Chrome111"}close(){if(f.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}}async getNativeRtpCapabilities(){f.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch(t){}const a=n.parse(r.sdp),i=o.extractRtpCapabilities({sdpObject:a});return l.addNackSupportForOpus(i),i}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:m}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:u}=e;this.assertNotClosed(),f.debug("run()"),this._direction=t,this._remoteSdp=new p.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",u),video:s.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",u),video:s.getSendingRemoteRtpParameters("video",u)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...l},d),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})))}async updateIceServers(e){this.assertNotClosed(),f.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:l,onRtpSender:d}=e;if(this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1){let e=1;for(const t of r){const r=t.scalabilityMode?(0,h.parse)(t.scalabilityMode).temporalLayers:3;r>e&&(e=r)}r.forEach(((t,r)=>{t.rid=`r${r}`,t.scalabilityMode=`L1T${e}`}))}const u=i.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=s.reduceCodecs(u.codecs,l);const p=i.clone(this._sendingRemoteRtpParametersByKind[t.kind]);p.codecs=s.reduceCodecs(p.codecs,l);const m=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});d&&d(g.sender);const y=await this._pc.createOffer();let b=n.parse(y.sdp);b.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const v=g.mid;u.mid=v,b=n.parse(this._pc.localDescription.sdp);const _=b.media[m.idx];if(u.rtcp.cname=o.getCname({offerMediaObject:_}),r)if(1===r.length){const e=c.getRtpEncodings({offerMediaObject:_});Object.assign(e[0],r[0]),u.encodings=e}else u.encodings=r;else u.encodings=c.getRtpEncodings({offerMediaObject:_});this._remoteSdp.send({offerMediaObject:_,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:p,codecOptions:a});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(v,g),{localId:v,rtpParameters:u,rtpSender:g.sender}}async stopSending(e){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",e),this._closed)return;const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender);if(this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(a){}const r=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="inactive",this._remoteSdp.pauseMediaSection(e);const r=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async resumeSending(e){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error("associated RTCRtpTransceiver not found");t.direction="sendonly";const r=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async replaceTrack(e,t){this.assertNotClosed(),this.assertSendDirection(),t?f.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):f.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async setRtpEncodingParameters(e,t){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");const n=r.sender.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.sender.setParameters(n),this._remoteSdp.muxMediaSectionSimulcast(e,n.encodings);const a=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",a),await this._pc.setLocalDescription(a);const i={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async getSenderStats(e){this.assertNotClosed(),this.assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:a,protocol:s};f.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertNotClosed(),this.assertRecvDirection();const t=[],r=new Map;for(const n of e){const{trackId:e,kind:t,rtpParameters:a,streamId:i}=n;f.debug("receive() [trackId:%s, kind:%s]",e,t);const s=a.mid??String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:t,offerRtpParameters:a,streamId:i??a.rtcp.cname,trackId:e})}const a={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);for(const n of e){const{trackId:e,onRtpReceiver:t}=n;if(t){const n=r.get(e),a=this._pc.getTransceivers().find((e=>e.mid===n));if(!a)throw new Error("transceiver not found");t(a.receiver)}}let i=await this._pc.createAnswer();const s=n.parse(i.sdp);for(const n of e){const{trackId:e,rtpParameters:t}=n,a=r.get(e),i=s.media.find((e=>String(e.mid)===a));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:i})}i={type:"answer",sdp:n.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const n of e){const{trackId:e}=n,a=r.get(e),i=this._pc.getTransceivers().find((e=>e.mid===a));if(!i)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(a,i),t.push({localId:a,track:i.receiver.track,rtpReceiver:i.receiver})}return t}async stopReceiving(e){if(this.assertRecvDirection(),this._closed)return;for(const n of e){f.debug("stopReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(e.mid)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const n of e)this._mapMidTransceiver.delete(n)}async pauseReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("pauseReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive",this._remoteSdp.pauseMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(e){this.assertNotClosed(),this.assertRecvDirection();for(const n of e){f.debug("resumeReceiving() [localId:%s]",n);const e=this._mapMidTransceiver.get(n);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(n)}const t={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertNotClosed(),this.assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:a};f.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=o.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d.InvalidStateError("method called in a closed handler")}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome111=g},8741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Safari11=void 0;const n=r(9640),a=r(2097),i=r(8988),s=r(5809),o=r(5467),c=r(9613),l=r(2384),d=r(3054),u=new a.Logger("Safari11"),p={OS:1024,MIS:1024};class h extends l.HandlerInterface{_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_sendStream=(()=>new MediaStream)();_mapSendLocalIdRtpSender=(()=>new Map)();_nextSendLocalId=0;_mapRecvLocalIdInfo=(()=>new Map)();_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return()=>new h}constructor(){super()}get name(){return"Safari11"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const a=n.parse(r.sdp);return o.extractRtpCapabilities({sdpObject:a})}catch(t){try{e.close()}catch(r){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:p,extendedRtpCapabilities:h}=e;u.debug("run()"),this._direction=t,this._remoteSdp=new d.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",h),video:s.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",h),video:s.getSendingRemoteRtpParameters("video",h)},a.role&&"auto"!==a.role&&(this._forcedLocalDtlsRole="server"===a.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:c??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...l},p),this._pc.addEventListener("icegatheringstatechange",(()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)})),this._pc.addEventListener("icecandidateerror",(e=>{this.emit("@icecandidateerror",e)})),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(()=>{this.emit("@connectionstatechange",this._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(u.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send(e){let{track:t,encodings:r,codecOptions:a,codec:l}=e;this.assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),l&&u.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let d,p=await this._pc.createOffer(),h=n.parse(p.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const f=i.clone(this._sendingRtpParametersByKind[t.kind]);f.codecs=s.reduceCodecs(f.codecs);const m=i.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(m.codecs=s.reduceCodecs(m.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),"video"===t.kind&&r&&r.length>1&&(u.debug("send() | enabling simulcast"),h=n.parse(p.sdp),d=h.media.find((e=>"video"===e.type)),c.addLegacySimulcast({offerMediaObject:d,track:t,numStreams:r.length}),p={type:"offer",sdp:n.write(h)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),h=n.parse(this._pc.localDescription.sdp),d=h.media.find((e=>e.type===t.kind)),f.rtcp.cname=o.getCname({offerMediaObject:d}),f.encodings=c.getRtpEncodings({offerMediaObject:d,track:t}),r)for(let n=0;n<f.encodings.length;++n)r[n]&&Object.assign(f.encodings[n],r[n]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const n of f.encodings)n.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:m,codecOptions:a});const g={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const y=String(this._nextSendLocalId);this._nextSendLocalId++;const b=this._pc.getSenders().find((e=>e.track===t));return this._mapSendLocalIdRtpSender.set(y,b),{localId:y,rtpParameters:f,rtpSender:b}}async stopSending(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const r=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(a){if(0===this._sendStream.getTracks().length)return void u.warn("stopSending() | ignoring expected error due no sending tracks: %s",a.toString());throw a}if("stable"===this._pc.signalingState)return;const n={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){this.assertSendDirection(),t?u.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):u.debug("replaceTrack() [localId:%s, no track]",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.track;await r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this.assertSendDirection(),u.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){this.assertSendDirection(),u.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){this.assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){let{ordered:t,maxPacketLifeTime:r,maxRetransmits:a,label:i,protocol:s}=e;this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:a,protocol:s};u.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=n.parse(e.sdp),r=t.media.find((e=>"application"===e.type));this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:r});const a={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){this.assertRecvDirection();const t=[];for(const n of e){const{trackId:e,kind:t,rtpParameters:r,streamId:a}=n;u.debug("receive() [trackId:%s, kind:%s]",e,t);const i=t;this._remoteSdp.receive({mid:i,kind:t,offerRtpParameters:r,streamId:a??r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let a=await this._pc.createAnswer();const i=n.parse(a.sdp);for(const n of e){const{kind:e,rtpParameters:t}=n,r=e,a=i.media.find((e=>String(e.mid)===r));o.applyCodecParameters({offerRtpParameters:t,answerMediaObject:a})}a={type:"answer",sdp:n.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",a),await this._pc.setLocalDescription(a);for(const n of e){const{kind:e,trackId:r,rtpParameters:a}=n,i=e,s=r,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===s));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(s,{mid:i,rtpParameters:a,rtpReceiver:o}),t.push({localId:s,track:o.track,rtpReceiver:o})}return t}async stopReceiving(e){this.assertRecvDirection();for(const n of e){u.debug("stopReceiving() [localId:%s]",n);const{mid:e,rtpParameters:t}=this._mapRecvLocalIdInfo.get(n)??{};this._mapRecvLocalIdInfo.delete(n),this._remoteSdp.planBStopReceiving({mid:e,offerRtpParameters:t})}const t={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const r=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)??{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async pauseReceiving(e){}async resumeReceiving(e){}async receiveDataChannel(e){let{sctpStreamParameters:t,label:r,protocol:a}=e;this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=t,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:a};u.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=n.parse(t.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport(e){let{localDtlsRole:t,localSdpObject:r}=e;r||(r=n.parse(this._pc.localDescription.sdp));const a=o.extractDtlsParameters({sdpObject:r});a.role=t,this._remoteSdp.updateDtlsRole("client"===t?"server":"client"),await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:a},e,t)})),this._transportReady=!0}assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari11=h},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},8877:(e,t,r)=>{var n=function(e){return String(Number(e))===e?Number(e):e},a=function(e,t,r){var a=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:a&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:a?t[e.name]:t;!function(e,t,r,a){if(a&&!r)t[a]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=r(6321),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach((function(e){var t=e[0],s=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var o=0;o<(i[t]||[]).length;o+=1){var c=i[t][o];if(c.reg.test(s))return a(c,n,s)}})),t.media=r,t};var o=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),a=0;a<r.length;a+=3)t.push({component:r[a],ip:r[a+1],port:r[a+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},8988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){return void 0===e?void 0:Number.isNaN(e)?NaN:"function"===typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())},t.deepFreeze=function e(t){const r=Reflect.ownKeys(t);for(const n of r){const r=t[n];(r&&"object"===typeof r||"function"===typeof r)&&e(r)}return Object.freeze(t)}},9138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(3455))&&n.__esModule?n:{default:n};var i=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=i},9398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStateError=t.UnsupportedError=void 0;class r extends Error{constructor(e){super(e),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r):this.stack=new Error(e).stack}}t.UnsupportedError=r;class n extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,n):this.stack=new Error(e).stack}}t.InvalidStateError=n},9496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Edge11=void 0;const n=r(2097),a=r(9398),i=r(8988),s=r(5809),o=r(918),c=r(2384),l=new n.Logger("Edge11");class d extends c.HandlerInterface{_sendingRtpParametersByKind;_remoteIceParameters;_remoteIceCandidates;_remoteDtlsParameters;_iceGatherer;_iceTransport;_dtlsTransport;_rtpSenders=(()=>new Map)();_rtpReceivers=(()=>new Map)();_nextSendLocalId=0;_cname;_transportReady=!1;static createFactory(){return()=>new d}constructor(){super()}get name(){return"Edge11"}close(){l.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const t of this._rtpSenders.values())try{t.stop()}catch(e){}for(const t of this._rtpReceivers.values())try{t.stop()}catch(e){}this.emit("@close")}async getNativeRtpCapabilities(){return l.debug("getNativeRtpCapabilities()"),o.getCapabilities()}async getNativeSctpCapabilities(){return l.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run(e){let{direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:o,iceServers:c,iceTransportPolicy:d,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}=e;l.debug("run()"),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",h),video:s.getSendingRtpParameters("video",h)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=a,this._cname=`CNAME-${i.generateRandomNumber()}`,this.setIceGatherer({iceServers:c,iceTransportPolicy:d}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(e){throw new a.UnsupportedError("not supported")}async restartIce(e){if(l.debug("restartIce()"),this._remoteIceParameters=e,this._transportReady){l.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,e,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send(e){let{track:t,encodings:r,codecOptions:n,codec:a}=e;l.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),l.debug("send() | calling new RTCRtpSender()");const c=new RTCRtpSender(t,this._dtlsTransport),d=i.clone(this._sendingRtpParametersByKind[t.kind]);d.codecs=s.reduceCodecs(d.codecs,a);const u=d.codecs.some((e=>/.+\/rtx$/i.test(e.mimeType)));r||(r=[{}]);for(const s of r)s.ssrc=i.generateRandomNumber(),u&&(s.rtx={ssrc:i.generateRandomNumber()});d.encodings=r,d.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const p=o.mangleRtpParameters(d);l.debug("send() | calling rtpSender.send() [params:%o]",p),await c.send(p);const h=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(h,c),{localId:h,rtpParameters:d,rtpSender:c}}async stopSending(e){l.debug("stopSending() [localId:%s]",e);const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(e);try{l.debug("stopSending() | calling rtpSender.stop()"),t.stop()}catch(r){throw l.warn("stopSending() | rtpSender.stop() failed:%o",r),r}}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,t){t?l.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):l.debug("replaceTrack() [localId:%s, no track]",e);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");r.setTrack(t)}async setMaxSpatialLayer(e,t){l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{e.active=r<=t})),await r.setParameters(n)}async setRtpEncodingParameters(e,t){l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");const n=r.getParameters();n.encodings.forEach(((e,r)=>{n.encodings[r]={...e,...t}})),await r.setParameters(n)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){throw new a.UnsupportedError("not implemented")}async receive(e){const t=[];for(const r of e){const{trackId:e,kind:t}=r;l.debug("receive() [trackId:%s, kind:%s]",e,t)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const r of e){const{trackId:e,kind:n,rtpParameters:a}=r;l.debug("receive() | calling new RTCRtpReceiver()");const i=new RTCRtpReceiver(this._dtlsTransport,n);i.addEventListener("error",(e=>{l.error('rtpReceiver "error" event [event:%o]',e)}));const s=o.mangleRtpParameters(a);l.debug("receive() | calling rtpReceiver.receive() [params:%o]",s),await i.receive(s);const c=e;this._rtpReceivers.set(c,i),t.push({localId:c,track:i.track,rtpReceiver:i})}return t}async stopReceiving(e){for(const r of e){l.debug("stopReceiving() [localId:%s]",r);const e=this._rtpReceivers.get(r);if(!e)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(r);try{l.debug("stopReceiving() | calling rtpReceiver.stop()"),e.stop()}catch(t){l.warn("stopReceiving() | rtpReceiver.stop() failed:%o",t)}}}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){throw new a.UnsupportedError("not implemented")}setIceGatherer(e){let{iceServers:t,iceTransportPolicy:r}=e;const n=new RTCIceGatherer({iceServers:t??[],gatherPolicy:r??"all"});n.addEventListener("error",(e=>{l.error('iceGatherer "error" event [event:%o]',e)}));try{n.gather()}catch(a){l.debug("setIceGatherer() | iceGatherer.gather() failed: %s",a.toString())}this._iceGatherer=n}setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener("statechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("icestatechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("candidatepairchange",(e=>{l.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=e}setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener("statechange",(()=>{l.debug('dtlsTransport "statechange" event [state:%s]',e.state)})),e.addEventListener("dtlsstatechange",(()=>{l.debug('dtlsTransport "dtlsstatechange" event [state:%s]',e.state),"closed"===e.state&&this.emit("@connectionstatechange","closed")})),e.addEventListener("error",(e=>{l.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=e}async setupTransport(e){let{localDtlsRole:t}=e;l.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=t,await new Promise(((e,t)=>{this.safeEmit("@connect",{dtlsParameters:r},e,t)})),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((e=>"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm)),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=d},9613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function(e){let t,{offerMediaObject:r,track:n}=e;const a=new Set;for(const o of r.ssrcs??[]){if("msid"!==o.attribute)continue;if(o.value.split(" ")[1]===n.id){const e=o.id;a.add(e),t||(t=e)}}if(0===a.size)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const i=new Map;for(const o of r.ssrcGroups??[]){if("FID"!==o.semantics)continue;let[e,t]=o.ssrcs.split(/\s+/);e=Number(e),t=Number(t),a.has(e)&&(a.delete(e),a.delete(t),i.set(e,t))}for(const o of a)i.set(o,null);const s=[];for(const[o,c]of i){const e={ssrc:o};c&&(e.rtx={ssrc:c}),s.push(e)}return s},t.addLegacySimulcast=function(e){let t,r,n,{offerMediaObject:a,track:i,numStreams:s}=e;if(s<=1)throw new TypeError("numStreams must be greater than 1");if(!(a.ssrcs??[]).find((e=>{if("msid"!==e.attribute)return!1;return e.value.split(" ")[1]===i.id&&(t=e.id,n=e.value.split(" ")[0],!0)})))throw new Error(`a=ssrc line with msid information not found [track.id:${i.id}]`);(a.ssrcGroups??[]).some((e=>{if("FID"!==e.semantics)return!1;const n=e.ssrcs.split(/\s+/);return Number(n[0])===t&&(r=Number(n[1]),!0)}));const o=a.ssrcs.find((e=>"cname"===e.attribute&&e.id===t));if(!o)throw new Error(`a=ssrc line with cname information not found [track.id:${i.id}]`);const c=o.value,l=[],d=[];for(let u=0;u<s;++u)l.push(t+u),r&&d.push(r+u);a.ssrcGroups=a.ssrcGroups??[],a.ssrcs=a.ssrcs??[],a.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const u of l)a.ssrcs.push({id:u,attribute:"cname",value:c}),a.ssrcs.push({id:u,attribute:"msid",value:`${n} ${i.id}`});for(let u=0;u<d.length;++u){const e=l[u],t=d[u];a.ssrcs.push({id:t,attribute:"cname",value:c}),a.ssrcs.push({id:t,attribute:"msid",value:`${n} ${i.id}`}),a.ssrcGroups.push({semantics:"FID",ssrcs:`${e} ${t}`})}}},9640:(e,t,r)=>{var n=r(8877),a=r(6605),i=r(6321);t.grammar=i,t.write=a,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},9642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedEventEmitter=void 0;const n=r(2499),a=new(r(2097).Logger)("EnhancedEventEmitter");class i extends n.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return super.emit(e,...r)}safeEmit(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return super.emit(e,...r)}catch(i){a.error("safeEmit() | event listener threw an error [eventName:%s]:%o",e,i);try{super.emit("listenererror",e,i)}catch(s){}return Boolean(super.listenerCount(e))}}on(e,t){return super.on(e,t),this}off(e,t){return super.off(e,t),this}addListener(e,t){return super.on(e,t),this}prependListener(e,t){return super.prependListener(e,t),this}once(e,t){return super.once(e,t),this}prependOnceListener(e,t){return super.prependOnceListener(e,t),this}removeListener(e,t){return super.off(e,t),this}removeAllListeners(e){return super.removeAllListeners(e),this}listenerCount(e){return super.listenerCount(e)}listeners(e){return super.listeners(e)}rawListeners(e){return super.rawListeners(e)}}t.EnhancedEventEmitter=i},9970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueueRemovedTaskError=t.AwaitQueueStoppedError=void 0;class r extends Error{constructor(e){super(e??"queue stopped"),this.name="AwaitQueueStoppedError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}}t.AwaitQueueStoppedError=r;class n extends Error{constructor(e){super(e??"queue task removed"),this.name="AwaitQueueRemovedTaskError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}}t.AwaitQueueRemovedTaskError=n}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.amdO={},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".258b012d.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";r.l=(n,a,i,s)=>{if(e[n])e[n].push(a);else{var o,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[a];var p=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var s=r.p+r.u(t),o=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,s=n[0],o=n[1],c=n[2],l=0;if(s.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(c)c(r)}for(t&&t(n);l<s.length;l++)i=s[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{Decoder:()=>ye,Encoder:()=>me,PacketType:()=>fe,protocol:()=>he});var t=r(5043),n=r(4391);const a=Object.create(null);a.open="0",a.close="1",a.ping="2",a.pong="3",a.message="4",a.upgrade="5",a.noop="6";const i=Object.create(null);Object.keys(a).forEach((e=>{i[a[e]]=e}));const s={type:"error",data:"parser error"},o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"===typeof ArrayBuffer,l=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,d=(e,t,r)=>{let{type:n,data:i}=e;return o&&i instanceof Blob?t?r(i):u(i,r):c&&(i instanceof ArrayBuffer||l(i))?t?r(i):u(new Blob([i]),r):r(a[n]+(i||""))},u=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function p(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let h;const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)m[f.charCodeAt(r)]=r;const g="function"===typeof ArrayBuffer,y=(e,t)=>{if("string"!==typeof e)return{type:"message",data:v(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:b(e.substring(1),t)};return i[r]?e.length>1?{type:i[r],data:e.substring(1)}:{type:i[r]}:s},b=(e,t)=>{if(g){const r=(e=>{let t,r,n,a,i,s=.75*e.length,o=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<o;t+=4)r=m[e.charCodeAt(t)],n=m[e.charCodeAt(t+1)],a=m[e.charCodeAt(t+2)],i=m[e.charCodeAt(t+3)],d[c++]=r<<2|n>>4,d[c++]=(15&n)<<4|a>>2,d[c++]=(3&a)<<6|63&i;return l})(e);return v(r,t)}return{base64:!0,data:e}},v=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,_=String.fromCharCode(30);function w(){return new TransformStream({transform(e,t){!function(e,t){o&&e.data instanceof Blob?e.data.arrayBuffer().then(p).then(t):c&&(e.data instanceof ArrayBuffer||l(e.data))?t(p(e.data)):d(e,!1,(e=>{h||(h=new TextEncoder),t(h.encode(e))}))}(e,(r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(r)}))}})}let S;function k(e){return e.reduce(((e,t)=>e+t.length),0)}function R(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function C(e){if(e)return function(e){for(var t in C.prototype)e[t]=C.prototype[t];return e}(e)}C.prototype.on=C.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},C.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},C.prototype.off=C.prototype.removeListener=C.prototype.removeAllListeners=C.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},C.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},C.prototype.emitReserved=C.prototype.emit,C.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},C.prototype.hasListeners=function(e){return!!this.listeners(e).length};const P="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),T="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function x(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const E=T.setTimeout,D=T.clearTimeout;function L(e,t){t.useNativeTimers?(e.setTimeoutFn=E.bind(T),e.clearTimeoutFn=D.bind(T)):(e.setTimeoutFn=T.setTimeout.bind(T),e.clearTimeoutFn=T.clearTimeout.bind(T))}function O(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class I extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class M extends C{constructor(e){super(),this.writable=!1,L(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new I(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=y(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class N extends M{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(_),n=[];for(let a=0;a<r.length;a++){const e=y(r[a],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach(((e,i)=>{d(e,!1,(e=>{n[i]=e,++a===r&&t(n.join(_))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=O()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let j=!1;try{j="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Le){}const A=j;function F(){}class z extends N{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class B extends C{constructor(e,t,r){super(),this.createRequest=e,L(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=x(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(n){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{r.setRequestHeader("Accept","*/*")}catch(n){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(n){return void this.setTimeoutFn((()=>{this._onError(n)}),0)}"undefined"!==typeof document&&(this._index=B.requestsCount++,B.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=F,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete B.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(B.requestsCount=0,B.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",U);else if("function"===typeof addEventListener){addEventListener("onpagehide"in T?"pagehide":"unload",U,!1)}function U(){for(let e in B.requests)B.requests.hasOwnProperty(e)&&B.requests[e].abort()}const $=function(){const e=H({xdomain:!1});return e&&null!==e.responseType}();function H(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||A))return new XMLHttpRequest}catch(r){}if(!t)try{return new(T[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}const q="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class V extends M{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=q?{}:x(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(Le){return this.emitReserved("error",Le)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;d(r,this.supportsBinary,(e=>{try{this.doWrite(r,e)}catch(t){}n&&P((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=O()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const K=T.WebSocket||T.MozWebSocket;const W={websocket:class extends V{createSocket(e,t,r){return q?new K(e,t,r):t?new K(e,t):new K(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends M{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Le){return this.emitReserved("error",Le)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){S||(S=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(o,c){for(r.push(o);;){if(0===n){if(k(r)<1)break;const e=R(r,1);i=128===(128&e[0]),a=127&e[0],n=a<126?3:126===a?1:2}else if(1===n){if(k(r)<2)break;const e=R(r,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(k(r)<8)break;const e=R(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){c.enqueue(s);break}a=i*Math.pow(2,32)+t.getUint32(4),n=3}else{if(k(r)<a)break;const e=R(r,a);c.enqueue(y(i?e:S.decode(e),t)),n=0}if(0===a||a>e){c.enqueue(s);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=w();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const a=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),a())})).catch((e=>{}))};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then((()=>{n&&P((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends z{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=$&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new B(H,this.uri(),e)}}},Q=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,G=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Y(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=Q.exec(e||""),i={},s=14;for(;s--;)i[G[s]]=a[s]||"";return-1!=r&&-1!=n&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,i.path),i.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,i.query),i}const X="function"===typeof addEventListener&&"function"===typeof removeEventListener,J=[];X&&addEventListener("offline",(()=>{J.forEach((e=>e()))}),!1);class Z extends C{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Y(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Y(t.host).host);L(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),X&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},J.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Z.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Z.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,P((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}_onError(e){if(Z.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),X&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=J.indexOf(this._offlineEventListener);-1!==e&&J.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Z.protocol=4;class ee extends Z{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Z.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Z.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){r||(r=!0,l(),t.close(),t=null)}const i=e=>{const r=new Error("probe error: "+e);r.transport=t.name,a(),this.emitReserved("upgradeError",r)};function s(){i("transport closed")}function o(){i("socket closed")}function c(e){t&&e.name!==t.name&&a()}const l=()=>{t.removeListener("open",n),t.removeListener("error",i),t.removeListener("close",s),this.off("close",o),this.off("upgrading",c)};t.once("open",n),t.once("error",i),t.once("close",s),this.once("close",o),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class te extends ee{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>W[e])).filter((e=>!!e))),super(e,t)}}const re="function"===typeof ArrayBuffer,ne=Object.prototype.toString,ae="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ne.call(Blob),ie="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ne.call(File);function se(e){return re&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||ae&&e instanceof Blob||ie&&e instanceof File}function oe(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(oe(e[t]))return!0;return!1}if(se(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return oe(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&oe(e[r]))return!0;return!1}function ce(e){const t=[],r=e.data,n=e;return n.data=le(r,t),n.attachments=t.length,{packet:n,buffers:t}}function le(e,t){if(!e)return e;if(se(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=le(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=le(e[n],t));return r}return e}function de(e,t){return e.data=ue(e.data,t),delete e.attachments,e}function ue(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ue(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ue(e[r],t));return e}const pe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],he=5;var fe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(fe||(fe={}));class me{constructor(e){this.replacer=e}encode(e){return e.type!==fe.EVENT&&e.type!==fe.ACK||!oe(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==fe.BINARY_EVENT&&e.type!==fe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ce(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function ge(e){return"[object Object]"===Object.prototype.toString.call(e)}class ye extends C{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===fe.BINARY_EVENT;r||t.type===fe.BINARY_ACK?(t.type=r?fe.EVENT:fe.ACK,this.reconstructor=new be(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!se(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===fe[r.type])throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(n,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!ye.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case fe.CONNECT:return ge(t);case fe.DISCONNECT:return void 0===t;case fe.CONNECT_ERROR:return"string"===typeof t||ge(t);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===pe.indexOf(t[0]));case fe.ACK:case fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class be{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=de(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ve(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const _e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class we extends C{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ve(e,"open",this.onopen.bind(this)),ve(e,"packet",this.onpacket.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,n;if(_e.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const o={type:fe.EVENT,data:i,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),o.id=e}const c=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,l=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const a=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),a),s=function(){n.io.clearTimeoutFn(i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,r)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(((t,n)=>{const a=(e,r)=>e?n(e):t(r);a.withError=!0,r.push(a),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];r(null,...i)}return n.pending=!1,t._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t.packet({type:fe.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Se(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Se.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},Se.prototype.reset=function(){this.attempts=0},Se.prototype.setMin=function(e){this.ms=e},Se.prototype.setMax=function(e){this.max=e},Se.prototype.setJitter=function(e){this.jitter=e};class ke extends C{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(r=t,t=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,L(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=r.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Se({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||e;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new te(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=ve(t,"open",(function(){r.onopen(),e&&e()})),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=ve(t,"error",a);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),a(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ve(e,"ping",this.onping.bind(this)),ve(e,"data",this.ondata.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this)),ve(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){P((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new we(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Re={};function Ce(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=Y(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,a=r.id,i=r.path,s=Re[a]&&i in Re[a].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?o=new ke(n,t):(Re[a]||(Re[a]=new ke(n,t)),o=Re[a]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(Ce,{Manager:ke,Socket:we,io:Ce,connect:Ce});var Pe=r(2081),Te=r(579);const xe=Ce("https://miewebconfbackend.idcxyz.shop",{transports:["websocket","polling"],withCredentials:!0});xe.on("connect_error",(e=>{console.error("WebSocket Connection Error:",e)}));const Ee=function(){const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,s]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[l,d]=(0,t.useState)(!1),u=(0,t.useRef)(null),[p,h]=(0,t.useState)(null),f=(0,t.useRef)(!1),m=(0,t.useRef)({}),g=(0,t.useRef)(null),[y,b]=(0,t.useState)(!1),v=(0,t.useRef)(null),[_,w]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),[R,C]=(0,t.useState)("mic-24.png"),[P,T]=(0,t.useState)("video-24.png"),[x,E]=(0,t.useState)({video:{track:null,encodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:3e5},{rid:"r2",maxBitrate:9e5}],codecOptions:{videoGoogleStartBitrate:1e3},appData:{mediaTag:"video"}},audio:{track:null,appData:{mediaTag:"audio"}}});(0,t.useEffect)((()=>{null!==p&&void 0!==p&&p.id&&x.video.track&&(!async function(){try{console.log("connecting send transport and start producing",x);const e=await p.produce(x.video),t=await p.produce(x.audio);f.current=!0,e.on("trackended",(()=>{console.log("video track ended")})),t.on("trackended",(()=>{console.log("audio track ended")})),e.on("transportclose",(()=>{console.log("video transport ended")})),t.on("transportclose",(()=>{console.log("audio transport ended")}))}catch(Le){console.error("Error creating producer",Le)}}(),b(!0))}),[p,x.video.track]),(0,t.useEffect)((()=>{window.addEventListener("beforeunload",(()=>{document.getElementById("leave-button").click()}))}),[]);const D=(e,t,r)=>{console.log(r),s((n=>[...n,{user:e,id:t,stream:r}]))};async function L(){console.log("deleting tranports for:",e);try{var t;p.close(),g.current.close();const r=null===(t=i.find((t=>t.user===e)))||void 0===t?void 0:t.stream;console.log(r,"local video for me"),r.getTracks().forEach((e=>e.stop()))}catch(r){console.error("error deleting transports for ",e,r)}}return xe.on("new-transport",(t=>{console.log("new transport created for ",t),t===e||m.current[t]||(!async function(){console.log("connecting recv transport and start consuming"),await xe.emit("consume",{rtpCapabilities:u.current.rtpCapabilities},(async t=>{let{paramsList:r}=t;const n=new Map;try{for(const e of r){if(e.error){console.log("error consuming",e.error);continue}const t=await g.current.consume({id:e.id,producerId:e.producerId,kind:e.kind,rtpParameters:e.rtpParameters});console.log("consumer created for",e.kind,"from",e.user);let r=n.get(e.user)||new MediaStream;r.addTrack(t.track),n.set(e.user,r),xe.emit("consumer-resume",e.user,e.id)}for(const[t,r]of n.entries()){const n=Math.floor(100*Math.random());D(t,n,r),console.log("added participant media for",t),m.current[e]=!0}}catch(a){console.error("Error consuming tracks:",a)}}))}(),m.current[t]=!0)})),xe.on("remove video",(t=>{(t=>{s((e=>e.filter((e=>e.user!==t)))),t===e&&(L(),d(!0))})(t)})),xe.on("remove-all-videos",(()=>{s([]),d(!0),L()})),(0,Te.jsx)("div",{className:"flex items-center justify-center w-full",children:l?(0,Te.jsx)("div",{className:"w-full h-screen bg-linear-to-br from-gray-300 to-gray-600",children:(0,Te.jsx)("h1",{className:"text-3xl md:text-5xl lg:7xl font-semibold absolute -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2",children:"Thank you"})}):(0,Te.jsxs)("div",{className:"container my-10 mx-auto w-full p-2",children:[o?(0,Te.jsxs)("form",{id:"join-screen",onSubmit:async t=>{let r,a;t.preventDefault();try{e&&n&&(navigator.mediaDevices.getUserMedia({audio:!1,video:!0,audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,googNoiseReduction:!0,volume:1}}).then((async t=>{D(e,"local",t),v.current=t,c(!1);const r=t.getVideoTracks()[0],n=t.getAudioTracks()[0];E((e=>({video:{...e.video,track:r},audio:{...e.audio,track:n}})))})),r=new Pe.pF,xe.emit("joinRoom",{username:e,roomId:n},(async e=>{e.rtpCapabilities&&(a=e.rtpCapabilities,await r.load({routerRtpCapabilities:a}),u.current=r,console.log("device created",r.rtpCapabilities),xe.emit("createWebRTCTransport",(async e=>{console.log("transports received from backend",e.producer,e.consumer);const t=r.createSendTransport(e.producer);g.current=r.createRecvTransport(e.consumer),console.log("transports created on frontend",p,g.current),t.on("connect",(async(e,t,r)=>{let{dtlsParameters:n}=e;try{await xe.emit("transport-connect",{dtlsParameters:n}),t()}catch(a){r(a)}})),t.on("produce",(async(e,t,r)=>{console.log(e);try{await xe.emit("transport-produce",{kind:e.kind,rtpParameters:e.rtpParameters,appData:e.appData},(e=>{let{id:r}=e;t({id:r})}))}catch(n){r(n)}})),h(t),g.current.on("connect",(async(e,t,r)=>{let{dtlsParameters:n}=e;try{await xe.emit("transport-recv-connect",{dtlsParameters:n}),t()}catch(a){r(a)}}))})))})))}catch(Le){console.error(Le)}},className:"mx-auto my-4 p-4 border-2 dark:border-gray-200 border-gray-600  md:w-1/2",children:[(0,Te.jsx)("h2",{className:"dark:text-white text-2xl font-semibold ml-[35%] my-4",children:"Join Room"}),(0,Te.jsxs)("label",{className:"dark:text-white my-8",children:["Display name:",(0,Te.jsx)("input",{type:"text",id:"username",placeholder:"Enter your name",value:e,onChange:e=>r(e.target.value)})]}),(0,Te.jsxs)("label",{className:"dark:text-white my-8",children:["Room number to join:",(0,Te.jsx)("input",{type:"text",id:"room-id",placeholder:"Enter room ID",value:n,onChange:e=>a(e.target.value)})]}),(0,Te.jsx)("button",{id:"join-button",className:"mt-6 block w-full select-none rounded-lg hover:bg-gray-600 py-3 px-6 text-center align-middle bg-gray-300 dark:bg-gray-800 border border-gray-300 text-gray-900 font-bold uppercase shadow-md shadow-gray-500/20 dark:text-white dark:border-gray-50",children:"Join Meeting"})]}):null,(0,Te.jsx)("div",{className:"grid gap-2 my-4 mx-10 place-items-center grid-cols-1 "+(1===i.length?"md:grid-cols-1":i.length>4?"md:grid-cols-3":i.length>=2?"md:grid-cols-2":""),children:i.map((e=>(0,Te.jsxs)("div",{className:"video-frame",children:[(0,Te.jsx)("video",{ref:t=>{t&&(t.srcObject=e.stream)},autoPlay:!0,playsInline:!0}),(0,Te.jsx)("div",{className:"video-username",children:e.user})]},e.id)))}),o?null:(0,Te.jsxs)("div",{className:"fixed bottom-1 left-0 right-0 z-50 flex items-center justify-center gap-2 md:gap-6 mt-2 w-full",children:[(0,Te.jsx)("button",{onClick:()=>{var e;const t=null===(e=v.current)||void 0===e?void 0:e.getAudioTracks()[0];if(!t)return;const r=!_;t.enabled=!r,w(r),C(r?"mute-24.png":"mic-24.png"),console.log(`Audio ${r?"muted":"unmuted"}.`)},className:"bg-white-400 border border-gray-400 rounded-full dark:bg-white dark:border-gray-600",children:(0,Te.jsx)("img",{src:R,alt:"Microphone",style:{cursor:"pointer"},className:"p-3"})}),(0,Te.jsx)("button",{onClick:t=>{!async function(){console.log("Exiting user from call:",e),xe.emit("hangup",e),L(),d(!0),s([]),console.log("emiting hangup username",e)}()},id:"leave-button",className:"custom-button",children:"Leave"}),(0,Te.jsx)("button",{onClick:e=>{!async function(){xe.emit("end-meeting")}()},className:"custom-button",children:"End Meeting"}),(0,Te.jsx)("button",{onClick:()=>{var e;const t=null===(e=v.current)||void 0===e?void 0:e.getVideoTracks()[0];if(!t)return;const r=!S;t.enabled=!r,k(r),T(r?"no-video-24.png":"video-24.png"),console.log("Video "+(r?"video paused":"video resumed"))},className:"bg-white-400 border border-gray-400 rounded-full dark:bg-white dark:border-gray-600",children:(0,Te.jsx)("img",{src:P,alt:"Video Icon",style:{cursor:"pointer"},className:"p-3"})})]})]})})},De=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:i,getTTFB:s}=t;r(e),n(e),a(e),i(e),s(e)}))};n.createRoot(document.getElementById("root")).render((0,Te.jsx)(t.StrictMode,{children:(0,Te.jsx)(Ee,{})})),De()})()})();
//# sourceMappingURL=main.a2f84549.js.map